// ../../../../usr/share/astal/gjs/gtk4/index.ts
import Astal6 from "gi://Astal?version=4.0";
import Gtk4 from "gi://Gtk?version=4.0";
import Gdk2 from "gi://Gdk?version=4.0";

// ../../../../usr/share/astal/gjs/variable.ts
import Astal3 from "gi://AstalIO";

// ../../../../usr/share/astal/gjs/binding.ts
var snakeify = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
var kebabify = (str) => str.replace(/([a-z])([A-Z])/g, "$1-$2").replaceAll("_", "-").toLowerCase();
var Binding = class _Binding {
  transformFn = (v) => v;
  #emitter;
  #prop;
  static bind(emitter, prop) {
    return new _Binding(emitter, prop);
  }
  constructor(emitter, prop) {
    this.#emitter = emitter;
    this.#prop = prop && kebabify(prop);
  }
  toString() {
    return `Binding<${this.#emitter}${this.#prop ? `, "${this.#prop}"` : ""}>`;
  }
  as(fn) {
    const bind2 = new _Binding(this.#emitter, this.#prop);
    bind2.transformFn = (v) => fn(this.transformFn(v));
    return bind2;
  }
  get() {
    if (typeof this.#emitter.get === "function")
      return this.transformFn(this.#emitter.get());
    if (typeof this.#prop === "string") {
      const getter = `get_${snakeify(this.#prop)}`;
      if (typeof this.#emitter[getter] === "function")
        return this.transformFn(this.#emitter[getter]());
      return this.transformFn(this.#emitter[this.#prop]);
    }
    throw Error("can not get value of binding");
  }
  subscribe(callback) {
    if (typeof this.#emitter.subscribe === "function") {
      return this.#emitter.subscribe(() => {
        callback(this.get());
      });
    } else if (typeof this.#emitter.connect === "function") {
      const signal = `notify::${this.#prop}`;
      const id = this.#emitter.connect(signal, () => {
        callback(this.get());
      });
      return () => {
        this.#emitter.disconnect(id);
      };
    }
    throw Error(`${this.#emitter} is not bindable`);
  }
};
var { bind } = Binding;
var binding_default = Binding;

// ../../../../usr/share/astal/gjs/time.ts
import Astal from "gi://AstalIO";
var Time = Astal.Time;
function interval(interval2, callback) {
  return Astal.Time.interval(interval2, () => void callback?.());
}

// ../../../../usr/share/astal/gjs/process.ts
import Astal2 from "gi://AstalIO";
var Process = Astal2.Process;
function subprocess(argsOrCmd, onOut = print, onErr = printerr) {
  const args = Array.isArray(argsOrCmd) || typeof argsOrCmd === "string";
  const { cmd, err, out } = {
    cmd: args ? argsOrCmd : argsOrCmd.cmd,
    err: args ? onErr : argsOrCmd.err || onErr,
    out: args ? onOut : argsOrCmd.out || onOut
  };
  const proc = Array.isArray(cmd) ? Astal2.Process.subprocessv(cmd) : Astal2.Process.subprocess(cmd);
  proc.connect("stdout", (_, stdout) => out(stdout));
  proc.connect("stderr", (_, stderr) => err(stderr));
  return proc;
}
function execAsync(cmd) {
  return new Promise((resolve, reject) => {
    if (Array.isArray(cmd)) {
      Astal2.Process.exec_asyncv(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_asyncv_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    } else {
      Astal2.Process.exec_async(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    }
  });
}

// ../../../../usr/share/astal/gjs/variable.ts
var VariableWrapper = class extends Function {
  variable;
  errHandler = console.error;
  _value;
  _poll;
  _watch;
  pollInterval = 1e3;
  pollExec;
  pollTransform;
  pollFn;
  watchTransform;
  watchExec;
  constructor(init) {
    super();
    this._value = init;
    this.variable = new Astal3.VariableBase();
    this.variable.connect("dropped", () => {
      this.stopWatch();
      this.stopPoll();
    });
    this.variable.connect("error", (_, err) => this.errHandler?.(err));
    return new Proxy(this, {
      apply: (target, _, args) => target._call(args[0])
    });
  }
  _call(transform) {
    const b = binding_default.bind(this);
    return transform ? b.as(transform) : b;
  }
  toString() {
    return String(`Variable<${this.get()}>`);
  }
  get() {
    return this._value;
  }
  set(value) {
    if (value !== this._value) {
      this._value = value;
      this.variable.emit("changed");
    }
  }
  startPoll() {
    if (this._poll)
      return;
    if (this.pollFn) {
      this._poll = interval(this.pollInterval, () => {
        const v = this.pollFn(this.get());
        if (v instanceof Promise) {
          v.then((v2) => this.set(v2)).catch((err) => this.variable.emit("error", err));
        } else {
          this.set(v);
        }
      });
    } else if (this.pollExec) {
      this._poll = interval(this.pollInterval, () => {
        execAsync(this.pollExec).then((v) => this.set(this.pollTransform(v, this.get()))).catch((err) => this.variable.emit("error", err));
      });
    }
  }
  startWatch() {
    if (this._watch)
      return;
    this._watch = subprocess({
      cmd: this.watchExec,
      out: (out) => this.set(this.watchTransform(out, this.get())),
      err: (err) => this.variable.emit("error", err)
    });
  }
  stopPoll() {
    this._poll?.cancel();
    delete this._poll;
  }
  stopWatch() {
    this._watch?.kill();
    delete this._watch;
  }
  isPolling() {
    return !!this._poll;
  }
  isWatching() {
    return !!this._watch;
  }
  drop() {
    this.variable.emit("dropped");
  }
  onDropped(callback) {
    this.variable.connect("dropped", callback);
    return this;
  }
  onError(callback) {
    delete this.errHandler;
    this.variable.connect("error", (_, err) => callback(err));
    return this;
  }
  subscribe(callback) {
    const id = this.variable.connect("changed", () => {
      callback(this.get());
    });
    return () => this.variable.disconnect(id);
  }
  poll(interval2, exec, transform = (out) => out) {
    this.stopPoll();
    this.pollInterval = interval2;
    this.pollTransform = transform;
    if (typeof exec === "function") {
      this.pollFn = exec;
      delete this.pollExec;
    } else {
      this.pollExec = exec;
      delete this.pollFn;
    }
    this.startPoll();
    return this;
  }
  watch(exec, transform = (out) => out) {
    this.stopWatch();
    this.watchExec = exec;
    this.watchTransform = transform;
    this.startWatch();
    return this;
  }
  observe(objs, sigOrFn, callback) {
    const f = typeof sigOrFn === "function" ? sigOrFn : callback ?? (() => this.get());
    const set = (obj, ...args) => this.set(f(obj, ...args));
    if (Array.isArray(objs)) {
      for (const obj of objs) {
        const [o, s] = obj;
        const id = o.connect(s, set);
        this.onDropped(() => o.disconnect(id));
      }
    } else {
      if (typeof sigOrFn === "string") {
        const id = objs.connect(sigOrFn, set);
        this.onDropped(() => objs.disconnect(id));
      }
    }
    return this;
  }
  static derive(deps, fn = (...args) => args) {
    const update = () => fn(...deps.map((d) => d.get()));
    const derived = new Variable(update());
    const unsubs = deps.map((dep) => dep.subscribe(() => derived.set(update())));
    derived.onDropped(() => unsubs.map((unsub) => unsub()));
    return derived;
  }
};
var Variable = new Proxy(VariableWrapper, {
  apply: (_t, _a, args) => new VariableWrapper(args[0])
});
var { derive } = Variable;
var variable_default = Variable;

// ../../../../usr/share/astal/gjs/_astal.ts
var noImplicitDestroy = Symbol("no no implicit destroy");
var setChildren = Symbol("children setter method");
function mergeBindings(array) {
  function getValues(...args) {
    let i = 0;
    return array.map(
      (value) => value instanceof binding_default ? args[i++] : value
    );
  }
  const bindings = array.filter((i) => i instanceof binding_default);
  if (bindings.length === 0)
    return array;
  if (bindings.length === 1)
    return bindings[0].as(getValues);
  return variable_default.derive(bindings, getValues)();
}
function setProp(obj, prop, value) {
  try {
    const setter = `set_${snakeify(prop)}`;
    if (typeof obj[setter] === "function")
      return obj[setter](value);
    return obj[prop] = value;
  } catch (error) {
    console.error(`could not set property "${prop}" on ${obj}:`, error);
  }
}
function construct(widget, config) {
  let { setup, child, children = [], ...props } = config;
  if (children instanceof binding_default) {
    children = [children];
  }
  if (child) {
    children.unshift(child);
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  const bindings = Object.keys(props).reduce((acc, prop) => {
    if (props[prop] instanceof binding_default) {
      const binding = props[prop];
      delete props[prop];
      return [...acc, [prop, binding]];
    }
    return acc;
  }, []);
  const onHandlers = Object.keys(props).reduce((acc, key) => {
    if (key.startsWith("on")) {
      const sig = kebabify(key).split("-").slice(1).join("-");
      const handler = props[key];
      delete props[key];
      return [...acc, [sig, handler]];
    }
    return acc;
  }, []);
  const mergedChildren = mergeBindings(children.flat(Infinity));
  if (mergedChildren instanceof binding_default) {
    widget[setChildren](mergedChildren.get());
    widget.connect("destroy", mergedChildren.subscribe((v) => {
      widget[setChildren](v);
    }));
  } else {
    if (mergedChildren.length > 0) {
      widget[setChildren](mergedChildren);
    }
  }
  for (const [signal, callback] of onHandlers) {
    const sig = signal.startsWith("notify") ? signal.replace("-", "::") : signal;
    if (typeof callback === "function") {
      widget.connect(sig, callback);
    } else {
      widget.connect(sig, () => execAsync(callback).then(print).catch(console.error));
    }
  }
  for (const [prop, binding] of bindings) {
    if (prop === "child" || prop === "children") {
      widget.connect("destroy", binding.subscribe((v) => {
        widget[setChildren](v);
      }));
    }
    widget.connect("destroy", binding.subscribe((v) => {
      setProp(widget, prop, v);
    }));
    setProp(widget, prop, binding.get());
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  Object.assign(widget, props);
  setup?.(widget);
  return widget;
}
function isArrowFunction(func) {
  return !Object.hasOwn(func, "prototype");
}
function jsx(ctors2, ctor, { children, ...props }) {
  children ??= [];
  if (!Array.isArray(children))
    children = [children];
  children = children.filter(Boolean);
  if (children.length === 1)
    props.child = children[0];
  else if (children.length > 1)
    props.children = children;
  if (typeof ctor === "string") {
    if (isArrowFunction(ctors2[ctor]))
      return ctors2[ctor](props);
    return new ctors2[ctor](props);
  }
  if (isArrowFunction(ctor))
    return ctor(props);
  return new ctor(props);
}

// ../../../../usr/share/astal/gjs/gtk4/astalify.ts
import Gtk from "gi://Gtk?version=4.0";
import Gdk from "gi://Gdk?version=4.0";
var type = Symbol("child type");
var dummyBulder = new Gtk.Builder();
function _getChildren(widget) {
  if ("get_child" in widget && typeof widget.get_child == "function") {
    return widget.get_child() ? [widget.get_child()] : [];
  }
  const children = [];
  let ch = widget.get_first_child();
  while (ch !== null) {
    children.push(ch);
    ch = ch.get_next_sibling();
  }
  return children;
}
function _setChildren(widget, children) {
  children = children.flat(Infinity).map((ch) => ch instanceof Gtk.Widget ? ch : new Gtk.Label({ visible: true, label: String(ch) }));
  for (const child of children) {
    widget.vfunc_add_child(
      dummyBulder,
      child,
      type in child ? child[type] : null
    );
  }
}
function astalify(cls, config = {}) {
  Object.assign(cls.prototype, {
    [setChildren](children) {
      const w = this;
      for (const child of config.getChildren?.(w) || _getChildren(w)) {
        if (child instanceof Gtk.Widget) {
          child.unparent();
          if (!children.includes(child) && noImplicitDestroy in this)
            child.run_dispose();
        }
      }
      if (config.setChildren) {
        config.setChildren(w, children);
      } else {
        _setChildren(w, children);
      }
    }
  });
  return {
    [cls.name]: (props = {}, ...children) => {
      const widget = new cls("cssName" in props ? { cssName: props.cssName } : {});
      if ("cssName" in props) {
        delete props.cssName;
      }
      if (props.noImplicitDestroy) {
        Object.assign(widget, { [noImplicitDestroy]: true });
        delete props.noImplicitDestroy;
      }
      if (props.type) {
        Object.assign(widget, { [type]: props.type });
        delete props.type;
      }
      if (children.length > 0) {
        Object.assign(props, { children });
      }
      return construct(widget, setupControllers(widget, props));
    }
  }[cls.name];
}
function setupControllers(widget, {
  onFocusEnter,
  onFocusLeave,
  onKeyPressed,
  onKeyReleased,
  onKeyModifier,
  onLegacy,
  onButtonPressed,
  onButtonReleased,
  onHoverEnter,
  onHoverLeave,
  onMotion,
  onScroll,
  onScrollDecelerate,
  ...props
}) {
  if (onFocusEnter || onFocusLeave) {
    const focus = new Gtk.EventControllerFocus();
    widget.add_controller(focus);
    if (onFocusEnter)
      focus.connect("enter", () => onFocusEnter(widget));
    if (onFocusLeave)
      focus.connect("leave", () => onFocusLeave(widget));
  }
  if (onKeyPressed || onKeyReleased || onKeyModifier) {
    const key = new Gtk.EventControllerKey();
    widget.add_controller(key);
    if (onKeyPressed)
      key.connect("key-pressed", (_, val, code, state) => onKeyPressed(widget, val, code, state));
    if (onKeyReleased)
      key.connect("key-released", (_, val, code, state) => onKeyReleased(widget, val, code, state));
    if (onKeyModifier)
      key.connect("modifiers", (_, state) => onKeyModifier(widget, state));
  }
  if (onLegacy || onButtonPressed || onButtonReleased) {
    const legacy = new Gtk.EventControllerLegacy();
    widget.add_controller(legacy);
    legacy.connect("event", (_, event) => {
      if (event.get_event_type() === Gdk.EventType.BUTTON_PRESS) {
        onButtonPressed?.(widget, event);
      }
      if (event.get_event_type() === Gdk.EventType.BUTTON_RELEASE) {
        onButtonReleased?.(widget, event);
      }
      onLegacy?.(widget, event);
    });
  }
  if (onMotion || onHoverEnter || onHoverLeave) {
    const hover = new Gtk.EventControllerMotion();
    widget.add_controller(hover);
    if (onHoverEnter)
      hover.connect("enter", (_, x, y) => onHoverEnter(widget, x, y));
    if (onHoverLeave)
      hover.connect("leave", () => onHoverLeave(widget));
    if (onMotion)
      hover.connect("motion", (_, x, y) => onMotion(widget, x, y));
  }
  if (onScroll || onScrollDecelerate) {
    const scroll = new Gtk.EventControllerScroll();
    scroll.flags = Gtk.EventControllerScrollFlags.BOTH_AXES | Gtk.EventControllerScrollFlags.KINETIC;
    widget.add_controller(scroll);
    if (onScroll)
      scroll.connect("scroll", (_, x, y) => onScroll(widget, x, y));
    if (onScrollDecelerate)
      scroll.connect("decelerate", (_, x, y) => onScrollDecelerate(widget, x, y));
  }
  return props;
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
import GLib from "gi://GLib?version=2.0";
import Gtk2 from "gi://Gtk?version=4.0";
import Astal4 from "gi://Astal?version=4.0";

// ../../../../usr/share/astal/gjs/overrides.ts
var snakeify2 = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
async function suppress(mod, patch2) {
  return mod.then((m) => patch2(m.default)).catch(() => void 0);
}
function patch(proto, prop) {
  Object.defineProperty(proto, prop, {
    get() {
      return this[`get_${snakeify2(prop)}`]();
    }
  });
}
await suppress(import("gi://AstalApps"), ({ Apps, Application }) => {
  patch(Apps.prototype, "list");
  patch(Application.prototype, "keywords");
  patch(Application.prototype, "categories");
});
await suppress(import("gi://AstalBattery"), ({ UPower }) => {
  patch(UPower.prototype, "devices");
});
await suppress(import("gi://AstalBluetooth"), ({ Adapter, Bluetooth, Device }) => {
  patch(Adapter.prototype, "uuids");
  patch(Bluetooth.prototype, "adapters");
  patch(Bluetooth.prototype, "devices");
  patch(Device.prototype, "uuids");
});
await suppress(import("gi://AstalCava"), ({ Cava: Cava2 }) => {
  patch(Cava2.prototype, "values");
});
await suppress(import("gi://AstalHyprland"), ({ Hyprland, Monitor, Workspace: Workspace2 }) => {
  patch(Hyprland.prototype, "binds");
  patch(Hyprland.prototype, "monitors");
  patch(Hyprland.prototype, "workspaces");
  patch(Hyprland.prototype, "clients");
  patch(Monitor.prototype, "availableModes");
  patch(Monitor.prototype, "available_modes");
  patch(Workspace2.prototype, "clients");
});
await suppress(import("gi://AstalMpris"), ({ Mpris: Mpris2, Player }) => {
  patch(Mpris2.prototype, "players");
  patch(Player.prototype, "supported_uri_schemes");
  patch(Player.prototype, "supportedUriSchemes");
  patch(Player.prototype, "supported_mime_types");
  patch(Player.prototype, "supportedMimeTypes");
  patch(Player.prototype, "comments");
});
await suppress(import("gi://AstalNetwork"), ({ Wifi }) => {
  patch(Wifi.prototype, "access_points");
  patch(Wifi.prototype, "accessPoints");
});
await suppress(import("gi://AstalNotifd"), ({ Notifd, Notification }) => {
  patch(Notifd.prototype, "notifications");
  patch(Notification.prototype, "actions");
});
await suppress(import("gi://AstalPowerProfiles"), ({ PowerProfiles }) => {
  patch(PowerProfiles.prototype, "actions");
});
await suppress(import("gi://AstalRiver"), ({ River }) => {
  patch(River.prototype, "outputs");
});
await suppress(import("gi://AstalTray"), ({ Tray: Tray2 }) => {
  patch(Tray2.prototype, "items");
});
await suppress(import("gi://AstalWp"), ({ Wp: Wp2, Audio, Video, Node, Endpoint, Device }) => {
  patch(Wp2.prototype, "nodes");
  patch(Wp2.prototype, "devices");
  patch(Audio.prototype, "streams");
  patch(Audio.prototype, "recorders");
  patch(Audio.prototype, "microphones");
  patch(Audio.prototype, "speakers");
  patch(Audio.prototype, "devices");
  patch(Video.prototype, "streams");
  patch(Video.prototype, "recorders");
  patch(Video.prototype, "sinks");
  patch(Video.prototype, "sources");
  patch(Video.prototype, "devices");
  patch(Endpoint.prototype, "routes");
  patch(Node.prototype, "channels");
  patch(Device.prototype, "profiles");
  patch(Device.prototype, "routes");
  patch(Device.prototype, "input_routes");
  patch(Device.prototype, "inputRoutes");
  patch(Device.prototype, "output_routes");
  patch(Device.prototype, "outputRoutes");
});

// ../../../../usr/share/astal/gjs/_app.ts
import { setConsoleLogDomain } from "console";
import { exit, programArgs } from "system";
import IO from "gi://AstalIO";
import GObject from "gi://GObject";
function mkApp(App) {
  return new class AstalJS extends App {
    static {
      GObject.registerClass({ GTypeName: "AstalJS" }, this);
    }
    eval(body) {
      return new Promise((res, rej) => {
        try {
          const fn = Function(`return (async function() {
                        ${body.includes(";") ? body : `return ${body};`}
                    })`);
          fn()().then(res).catch(rej);
        } catch (error) {
          rej(error);
        }
      });
    }
    requestHandler;
    vfunc_request(msg, conn) {
      if (typeof this.requestHandler === "function") {
        this.requestHandler(msg, (response) => {
          IO.write_sock(
            conn,
            String(response),
            (_, res) => IO.write_sock_finish(res)
          );
        });
      } else {
        super.vfunc_request(msg, conn);
      }
    }
    apply_css(style, reset = false) {
      super.apply_css(style, reset);
    }
    quit(code) {
      super.quit();
      exit(code ?? 0);
    }
    start({ requestHandler, css, hold, main, client, icons, ...cfg } = {}) {
      const app = this;
      client ??= () => {
        print(`Astal instance "${app.instanceName}" already running`);
        exit(1);
      };
      Object.assign(this, cfg);
      setConsoleLogDomain(app.instanceName);
      this.requestHandler = requestHandler;
      app.connect("activate", () => {
        main?.(...programArgs);
      });
      try {
        app.acquire_socket();
      } catch (error) {
        return client((msg) => IO.send_request(app.instanceName, msg), ...programArgs);
      }
      if (css)
        this.apply_css(css, false);
      if (icons)
        app.add_icons(icons);
      hold ??= true;
      if (hold)
        app.hold();
      app.runAsync([]);
    }
  }();
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
Gtk2.init();
GLib.unsetenv("LD_PRELOAD");
await import("gi://Adw?version=1").then(({ default: Adw }) => Adw.init()).catch(() => void 0);
var app_default = mkApp(Astal4.Application);

// ../../../../usr/share/astal/gjs/gtk4/widget.ts
import Astal5 from "gi://Astal?version=4.0";
import Gtk3 from "gi://Gtk?version=4.0";
function filter(children) {
  return children.flat(Infinity).map((ch) => ch instanceof Gtk3.Widget ? ch : new Gtk3.Label({ visible: true, label: String(ch) }));
}
Object.defineProperty(Astal5.Box.prototype, "children", {
  get() {
    return this.get_children();
  },
  set(v) {
    this.set_children(v);
  }
});
var Box = astalify(Astal5.Box, {
  getChildren(self) {
    return self.get_children();
  },
  setChildren(self, children) {
    return self.set_children(filter(children));
  }
});
var Button = astalify(Gtk3.Button);
var CenterBox = astalify(Gtk3.CenterBox, {
  getChildren(box) {
    return [box.startWidget, box.centerWidget, box.endWidget];
  },
  setChildren(box, children) {
    const ch = filter(children);
    box.startWidget = ch[0] || new Gtk3.Box();
    box.centerWidget = ch[1] || new Gtk3.Box();
    box.endWidget = ch[2] || new Gtk3.Box();
  }
});
var Entry = astalify(Gtk3.Entry, {
  getChildren() {
    return [];
  }
});
var Image = astalify(Gtk3.Image, {
  getChildren() {
    return [];
  }
});
var Label = astalify(Gtk3.Label, {
  getChildren() {
    return [];
  },
  setChildren(self, children) {
    self.label = String(children);
  }
});
var LevelBar = astalify(Gtk3.LevelBar, {
  getChildren() {
    return [];
  }
});
var Overlay = astalify(Gtk3.Overlay, {
  getChildren(self) {
    const children = [];
    let ch = self.get_first_child();
    while (ch !== null) {
      children.push(ch);
      ch = ch.get_next_sibling();
    }
    return children.filter((ch2) => ch2 !== self.child);
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      const types = type in child ? child[type].split(/\s+/) : [];
      if (types.includes("overlay")) {
        self.add_overlay(child);
      } else {
        self.set_child(child);
      }
      self.set_measure_overlay(child, types.includes("measure"));
      self.set_clip_overlay(child, types.includes("clip"));
    }
  }
});
var Revealer = astalify(Gtk3.Revealer);
var Slider = astalify(Astal5.Slider, {
  getChildren() {
    return [];
  }
});
var Stack = astalify(Gtk3.Stack, {
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child.name != "" && child.name != null) {
        self.add_named(child, child.name);
      } else {
        self.add_child(child);
      }
    }
  }
});
var Switch = astalify(Gtk3.Switch, {
  getChildren() {
    return [];
  }
});
var Window = astalify(Astal5.Window);
var MenuButton = astalify(Gtk3.MenuButton, {
  getChildren(self) {
    return [self.popover, self.child];
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child instanceof Gtk3.Popover) {
        self.set_popover(child);
      } else {
        self.set_child(child);
      }
    }
  }
});
var Popover = astalify(Gtk3.Popover);

// sass:/home/itiro/.config/ags/styles/index.scss
var styles_default = '/* Catppuccin mocha colors */\n.Media .MprisInfo, .Workspaces, .Clients, .AudioControl, .CpuUsage, .Battery, .MemoryUsage, .Time {\n  background: none;\n  padding: 2px 4px;\n  margin: 2px 4px;\n  border: none;\n  border-radius: 18px;\n}\n.Media .MprisInfo *, .Workspaces *, .Clients *, .AudioControl *, .CpuUsage *, .Battery *, .MemoryUsage *, .Time * {\n  margin: 0px 2px;\n}\n\n.Time {\n  background-color: rgba(49, 50, 68, 0.6);\n  border-radius: 16px;\n  margin: 4px;\n}\n\n.MemoryUsage {\n  background: none;\n  color: #fab387;\n  transition: all 0.3s ease;\n}\n.MemoryUsage:hover {\n  background: #fab387;\n  color: #1e1e2e;\n}\n\n.Battery {\n  border-radius: 20px;\n}\n.Battery .BatteryIcon, .Battery .BatteryLabel {\n  color: #b4befe;\n}\n\n.BatteryCritical {\n  background-color: #f38ba8;\n}\n.BatteryCritical .BatteryIcon, .BatteryCritical .BatteryUsageLabel {\n  color: #11111b;\n}\n\n.CpuUsage {\n  background: none;\n  color: #a6e3a1;\n  transition: all 0.3s ease;\n}\n.CpuUsage:hover {\n  background: #a6e3a1;\n  color: #1e1e2e;\n}\n\n.AudioControl {\n  transition: all 0.3s ease;\n  background: none;\n}\n.AudioControl * {\n  color: #cdd6f4;\n}\n.AudioControl:hover {\n  background: #89b4fa;\n}\n.AudioControl:hover * {\n  color: #1e1e2e;\n}\n\n.Clients {\n  background-color: rgba(17, 17, 27, 0.8);\n  transition: all 0.25s ease;\n}\n.Clients:hover {\n  background-color: rgba(137, 180, 250, 0.8);\n}\n.Clients:hover .Client {\n  color: #11111b;\n}\n.Clients .ClientsPopover {\n  background-color: rgba(49, 50, 68, 0.8);\n  border-radius: 16px;\n  padding: 6px;\n}\n.Clients .ClientsPopover .ClientEntry {\n  background-color: rgba(69, 71, 90, 0.8);\n  border-radius: 16px;\n  padding: 4px;\n  margin: 2px;\n  transition: all 0.25s ease;\n}\n.Clients .ClientsPopover .ClientEntry:hover {\n  background-color: rgba(137, 180, 250, 0.8);\n  color: #45475a;\n}\n\n.Workspaces {\n  background-color: rgba(49, 50, 68, 0.8);\n  padding: 2px 4px;\n  margin: 2px;\n  border-radius: 18px;\n}\n.Workspaces .Workspace, .Workspaces .WorkspacePopoverItem, .Workspaces .MoreWorkspacesButton {\n  font-weight: bold;\n  background-color: rgba(17, 17, 27, 0.8);\n  border: none;\n  border-radius: 50%;\n  padding: 0;\n  margin: 2px;\n  transition: all 0.2s ease;\n  min-width: 24px;\n  min-height: 24px;\n}\n.Workspaces .MoreWorkspacesButton {\n  transition: all 0.3s ease;\n  background: none;\n}\n.Workspaces .MoreWorkspacesButton * {\n  color: #cdd6f4;\n}\n.Workspaces .MoreWorkspacesButton:hover {\n  background: #89b4fa;\n}\n.Workspaces .MoreWorkspacesButton:hover * {\n  color: #1e1e2e;\n}\n.Workspaces .Active {\n  background-color: rgba(137, 180, 250, 0.9);\n  color: #11111b;\n  font-weight: 700;\n}\n.Workspaces .Inactive {\n  transition: all 0.2s ease;\n}\n.Workspaces .Inactive:hover {\n  background-color: rgba(137, 180, 250, 0.6);\n  color: #11111b;\n}\n.Workspaces .Inactive:focus {\n  background-color: rgba(137, 180, 250, 0.4);\n}\n.Workspaces .WorkspacePopover {\n  border-radius: 16px;\n  padding: 6px;\n  background-color: rgba(49, 50, 68, 0.95);\n  margin: 2px;\n}\n\n.TrayItem {\n  padding: 2px 4px;\n  border-radius: 16px;\n  margin: 2px;\n  -gtk-icon-size: 18px;\n  transition: all 0.25s ease;\n}\n.TrayItem:hover {\n  background-color: rgba(137, 180, 250, 0.8);\n  color: #11111b;\n}\n.TrayItem:active {\n  background-color: rgba(137, 180, 250, 0.6);\n  color: #11111b;\n}\n.TrayItem popover.menu {\n  margin: 10px;\n  background-color: #313244;\n  border-radius: 10px;\n}\n.TrayItem popover.menu modelbutton {\n  padding: 2px;\n  border-radius: 4px;\n  margin: 0 2px;\n}\n.TrayItem popover.menu modelbutton:hover {\n  background: rgba(69, 71, 90, 0.2);\n}\n.TrayItem popover.menu modelbutton:active {\n  background: rgba(69, 71, 90, 0.4);\n}\n\n.Media .MprisInfo {\n  background-color: rgba(49, 50, 68, 0.8);\n  border-radius: 20px;\n  transition: all 0.25s ease;\n}\n.Media .MprisInfo:hover {\n  background-color: rgba(137, 180, 250, 0.8);\n  color: #11111b;\n}\n.Media .MprisPlayer {\n  background-color: rgba(17, 17, 27, 0.6);\n}\n.Media .MprisPlayer .Cava, .Media .MprisPlayer .Cava > * {\n  margin: 0;\n  padding: 0;\n  color: rgba(137, 180, 250, 0.8);\n}\n.Media .MprisPlayer .PlayerInfo {\n  padding: 16px;\n}\n.Media .MprisPlayer .PlayerInfo .Info {\n  margin-left: 12px;\n}\n.Media .MprisPlayer .PlayerInfo .Info .Title {\n  font-size: 20px;\n  color: #cdd6f4;\n}\n.Media .MprisPlayer .PlayerInfo .Info .Artist {\n  font-size: 18px;\n  color: rgba(205, 214, 244, 0.7);\n}\n.Media .MprisPlayer .PlayerInfo .Info .Album {\n  font-size: 16px;\n  color: rgba(205, 214, 244, 0.5);\n  font-style: italic;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart {\n  margin-top: 12px;\n  padding: 12px;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .PlayerSlider {\n  padding: 4px;\n  background-color: rgba(17, 17, 27, 0.8);\n  border: none;\n  border-radius: 14px;\n  margin: 5px;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .PlayerSlider .Slider {\n  min-width: 160px;\n  min-height: 1px;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .PlayerSlider .Slider highlight {\n  background-color: #89b4fa;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .PlayerSlider .TimeLabel {\n  margin-left: 10px;\n  font-size: 0.9em;\n  opacity: 0.8;\n  min-width: 40px;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Previous, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .PlayPause, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Next {\n  transition: all 0.25s ease;\n  margin: 4px;\n  background: #1e1e2e;\n  border: none;\n  border-radius: 8px;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Previous image, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .PlayPause image, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Next image {\n  margin: 12px;\n  color: #89b4fa;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Previous:hover, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .PlayPause:hover, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Next:hover {\n  background: #89b4fa;\n}\n.Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Previous:hover image, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .PlayPause:hover image, .Media .MprisPlayer .PlayerInfo .LowerPart .Controllers .Next:hover image {\n  color: #1e1e2e;\n}\n\n/* Resetting every decoration applied earlier */\n* {\n  font-family: "Monospace";\n  font-size: 16px;\n  -gtk-icon-size: 24px;\n  color: #cdd6f4;\n  background: none;\n  border: none;\n  box-shadow: none;\n  outline: none;\n  margin: 0;\n  padding: 0;\n}\n\n.Bar {\n  background: #1e1e2e;\n  border-radius: 20px;\n  margin: 4px 6px;\n  padding: 1px;\n}';

// modules/SystemMonitor.tsx
import AstalBattery from "gi://AstalBattery";

// ../../../../usr/share/astal/gjs/index.ts
import { default as default3 } from "gi://AstalIO?version=0.1";

// ../../../../usr/share/astal/gjs/file.ts
import Astal7 from "gi://AstalIO";
import Gio from "gi://Gio?version=2.0";

// ../../../../usr/share/astal/gjs/gobject.ts
import GObject2 from "gi://GObject";
import { default as default2 } from "gi://GLib?version=2.0";
var meta = Symbol("meta");
var priv = Symbol("priv");
var { ParamSpec, ParamFlags } = GObject2;

// modules/SystemMonitor.tsx
import GTop from "gi://GTop?version=2.0";

// ../../../../usr/share/astal/gjs/gtk4/jsx-runtime.ts
function jsx2(ctor, props) {
  return jsx(ctors, ctor, props);
}
var ctors = {
  box: Box,
  button: Button,
  centerbox: CenterBox,
  // circularprogress: Widget.CircularProgress,
  // drawingarea: Widget.DrawingArea,
  entry: Entry,
  image: Image,
  label: Label,
  levelbar: LevelBar,
  overlay: Overlay,
  revealer: Revealer,
  slider: Slider,
  stack: Stack,
  switch: Switch,
  window: Window,
  menubutton: MenuButton,
  popover: Popover
};
var jsxs = jsx2;

// modules/SystemMonitor.tsx
var formatTime = (seconds) => `${Math.floor(seconds / 3600)}h${Math.floor(seconds % 3600 / 60)}m`;
var POLL_INTERVAL = 3e3;
var cpu = new GTop.glibtop_cpu();
var mem = new GTop.glibtop_mem();
var battery = AstalBattery.get_default();
var cpuData = {
  prev: { user: 0, sys: 0, total: 0 },
  diff: { user: 0, sys: 0, total: 0 }
};
GTop.glibtop_get_cpu(cpu);
cpuData.prev.user = cpu.user;
cpuData.prev.sys = cpu.sys;
cpuData.prev.total = cpu.total;
var calculateMetrics = () => {
  try {
    const prevUser = cpuData.prev.user;
    const prevSys = cpuData.prev.sys;
    const prevTotal = cpuData.prev.total;
    GTop.glibtop_get_cpu(cpu);
    GTop.glibtop_get_mem(mem);
    cpuData.diff.user = cpu.user - prevUser;
    cpuData.diff.sys = cpu.sys - prevSys;
    cpuData.diff.total = cpu.total - prevTotal;
    cpuData.prev.user = cpu.user;
    cpuData.prev.sys = cpu.sys;
    cpuData.prev.total = cpu.total;
    const cpuPercent = cpuData.diff.total > 0 ? Math.round((cpuData.diff.user + cpuData.diff.sys) / cpuData.diff.total * 100) : 0;
    const memPercent = mem.total > 0 ? Math.round(mem.user / mem.total * 100) : 0;
    return {
      cpu: Math.max(0, Math.min(100, cpuPercent)),
      mem: Math.max(0, Math.min(100, memPercent))
    };
  } catch (error) {
    console.warn("Erro ao obter m\xE9tricas do sistema:", error);
    return { cpu: 0, mem: 0 };
  }
};
var metrics = Variable({ cpu: 0, mem: 0 }).poll(POLL_INTERVAL, calculateMetrics);
var CpuUsage = () => /* @__PURE__ */ jsx2("label", { cssClasses: ["CpuUsage"], label: bind(metrics).as((m) => `CPU: ${m.cpu}%`) });
var MemoryUsage = () => /* @__PURE__ */ jsx2("label", { cssClasses: ["MemoryUsage"], label: bind(metrics).as((m) => `MEM: ${m.mem}%`) });
var batteryHandler = null;
var Battery = () => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["Battery"],
      tooltipText: bind(battery, "charging").as(() => {
        try {
          const isCharging = battery.get_charging();
          const timeRemaining = isCharging ? battery.time_to_full : battery.time_to_empty;
          const action = isCharging ? "Carregando" : "Descarregando";
          return `${action}: ${formatTime(timeRemaining)} restante(s)`;
        } catch {
          return "Informa\xE7\xF5es da bateria indispon\xEDveis";
        }
      }),
      setup: (self) => {
        if (batteryHandler) {
          battery.disconnect(batteryHandler);
        }
        batteryHandler = battery.connect("notify::charging", () => {
          try {
            const isCritical = battery.percentage <= 0.2 && !battery.charging;
            if (isCritical) self.add_css_class("BatteryCritical");
            else self.remove_css_class("BatteryCritical");
          } catch (error) {
            console.warn("Erro ao verificar status da bateria:", error);
          }
        });
      },
      onDestroy: () => {
        if (batteryHandler) {
          battery.disconnect(batteryHandler);
          batteryHandler = null;
        }
      },
      children: [
        /* @__PURE__ */ jsx2("image", { cssClasses: ["BatteryIcon"], iconName: bind(battery, "iconName") }),
        /* @__PURE__ */ jsx2(
          "label",
          {
            cssClasses: ["BatteryUsageLabel"],
            label: bind(battery, "percentage").as((p) => {
              try {
                return `${Math.round(Math.max(0, Math.min(100, p * 100)))}%`;
              } catch {
                return "0%";
              }
            })
          }
        )
      ]
    }
  );
};
function SystemMonitor() {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["SystemMonitor"],
      onDestroy: () => {
        metrics.drop();
        if (batteryHandler) {
          battery.disconnect(batteryHandler);
          batteryHandler = null;
        }
      },
      children: [
        /* @__PURE__ */ jsx2(CpuUsage, {}),
        /* @__PURE__ */ jsx2(MemoryUsage, {}),
        /* @__PURE__ */ jsx2(Battery, {})
      ]
    }
  );
}

// modules/AudioControl.tsx
import Wp from "gi://AstalWp";
var audio = Wp.get_default().defaultSpeaker;
var step = 0.02;
var handleScroll = (controler, dx, dy) => {
  let newVolume = audio.get_volume();
  if (dy < 0) newVolume += step;
  else newVolume -= step;
  audio.set_volume(newVolume);
};
function AudioControl() {
  const scroll = new Gtk4.EventControllerScroll({ flags: Gtk4.EventControllerScrollFlags.VERTICAL });
  const click = { left: new Gtk4.GestureClick(), right: new Gtk4.GestureClick() };
  click.left.set_button(Gdk2.BUTTON_PRIMARY);
  click.right.set_button(Gdk2.BUTTON_SECONDARY);
  const handlers = {
    scroll: scroll.connect("scroll", handleScroll),
    mouse: {
      left: click.left.connect("pressed", () => {
        audio.set_mute(!audio.get_mute());
      }),
      right: click.right.connect("pressed", () => {
        default2.spawn_command_line_async("pavucontrol");
      })
    }
  };
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["AudioControl"],
      setup: (self) => {
        self.add_controller(click.left);
        self.add_controller(click.right);
        self.add_controller(scroll);
      },
      onDestroy: () => {
        scroll.disconnect(handlers.scroll);
        click.left.disconnect(handlers.mouse.left);
        click.right.disconnect(handlers.mouse.right);
      },
      tooltipText: bind(audio, "description").as((n) => `Dispositivo atual: ${n}`),
      children: [
        /* @__PURE__ */ jsx2("image", { cssClasses: ["AudioIcon"], iconName: bind(audio, "volumeIcon") }),
        /* @__PURE__ */ jsx2("label", { cssClasses: ["AudioLabel"], label: bind(audio, "volume").as((a) => `${Math.round(a * 100)}%`) })
      ]
    }
  );
}

// modules/SystemTray.tsx
import Tray from "gi://AstalTray";
var tray = Tray.get_default();
function TrayItem({ item }) {
  let handlers = {
    primary: 0,
    middle: 0,
    secondary: 0,
    menuModel: 0,
    actionG: 0
  };
  const clickPrimary = new Gtk4.GestureClick({ button: Gdk2.BUTTON_PRIMARY });
  const clickSecondary = new Gtk4.GestureClick({ button: Gdk2.BUTTON_SECONDARY });
  const clickMiddle = new Gtk4.GestureClick({ button: Gdk2.BUTTON_MIDDLE });
  return /* @__PURE__ */ jsx2(
    "menubutton",
    {
      cssClasses: ["TrayItem"],
      tooltipText: bind(item, "tooltipMarkup"),
      menuModel: item.menuModel,
      direction: Gtk4.ArrowType.DOWN,
      setup: (self) => {
        handlers = {
          primary: clickPrimary.connect("pressed", (_self, _n, x, y) => {
            if (item.is_menu) self.get_popover().popup();
            else item.activate(x, y);
          }),
          middle: clickMiddle.connect("pressed", (_self, _n, x, y) => {
            item.secondary_activate(x, y);
          }),
          secondary: clickSecondary.connect("pressed", () => {
            item.about_to_show();
            self.get_popover().popup();
          }),
          menuModel: item.connect("notify::menu-model", () => {
            self.set_menu_model(item.menuModel);
          }),
          actionG: item.connect("notify::action-group", () => {
            self.insert_action_group("dbusmenu", item.actionGroup);
          })
        };
        self.add_controller(clickPrimary);
        self.add_controller(clickMiddle);
        self.add_controller(clickSecondary);
      },
      onDestroy: (self) => {
        clickPrimary.disconnect(handlers.primary);
        clickMiddle.disconnect(handlers.middle);
        clickSecondary.disconnect(handlers.secondary);
        item.disconnect(handlers.menuModel);
        item.disconnect(handlers.actionG);
        self.remove_controller(clickPrimary);
        self.remove_controller(clickMiddle);
        self.remove_controller(clickSecondary);
      },
      child: /* @__PURE__ */ jsx2("image", { gicon: bind(item, "gicon"), pixelSize: 16 })
    }
  );
}
function SystemTray() {
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["SystemTray"], orientation: Gtk4.Orientation.HORIZONTAL, spacing: 4, marginEnd: 8, children: bind(tray, "items").as((items) => items.map((item) => /* @__PURE__ */ jsx2(TrayItem, { item }))) });
}

// modules/DateTime.tsx
var time = Variable({ clock: "", date: "" }).poll(
  6e4,
  () => {
    const dateConstructor = /* @__PURE__ */ new Date();
    return {
      clock: dateConstructor.toLocaleTimeString("pt-br", { hour: "2-digit", minute: "2-digit" }),
      date: dateConstructor.toLocaleDateString("pt-br", { weekday: "long", day: "numeric", month: "long", year: "numeric" }).replace(/^./, (char) => char.toUpperCase())
    };
  }
);
function MiniTime() {
  return /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: ["Time"],
      onDestroy: () => time.drop(),
      label: bind(time).as((t) => `${t.clock}`)
    }
  );
}

// modules/Media.tsx
import Mpris from "gi://AstalMpris";

// modules/Cava.tsx
import Gsk from "gi://Gsk";
import AstalCava from "gi://AstalCava?version=0.1";
import GObject3 from "gi://GObject";
var CavaConfig = {
  autosens: true,
  bars: 20,
  barWidth: 20,
  barHeight: 160,
  framerate: 60,
  input: AstalCava.Input.PIPEWIRE,
  noiseReduction: 0.77,
  sensitivity: 0.75,
  stereo: false,
  lerpFactor: 1
};
var cavaInstance = AstalCava.get_default();
if (!cavaInstance) console.log("Cava instance not found");
cavaInstance?.set_autosens(CavaConfig.autosens);
cavaInstance?.set_bars(CavaConfig.bars);
cavaInstance?.set_framerate(CavaConfig.framerate);
cavaInstance?.set_input(CavaConfig.input);
cavaInstance?.set_noise_reduction(CavaConfig.noiseReduction);
cavaInstance?.set_stereo(CavaConfig.stereo);
var CavaWidget = class extends Gtk4.DrawingArea {
  values;
  norm;
  _handler = null;
  _lastWidth = 0;
  _lastHeight = 0;
  _pathBuilder = null;
  constructor() {
    super();
    this.setupRect();
    this.setupCava();
    this.set_hexpand(true);
    this.set_vexpand(true);
  }
  setupRect() {
    this.values = new Float32Array(CavaConfig.bars);
    this.norm = new Float32Array(CavaConfig.bars);
    this.add_css_class("Container");
  }
  setupCava() {
    try {
      if (cavaInstance && !this._handler) {
        this._handler = cavaInstance.connect("notify::values", () => {
          if (this.get_mapped() && this.get_realized()) {
            this.queue_draw();
          }
        });
      }
    } catch (error) {
      console.warn("Erro ao configurar Cava:", error);
    }
  }
  vfunc_size_allocate(width, height, baseline) {
    super.vfunc_size_allocate(width, height, baseline);
    if (this._lastWidth !== width || this._lastHeight !== height) {
      this._lastWidth = width;
      this._lastHeight = height;
      this._pathBuilder = null;
      this.queue_draw();
    }
  }
  vfunc_snapshot(snapshot) {
    if (!cavaInstance || !this.get_mapped()) return;
    try {
      const width = this.get_allocated_width();
      const height = this.get_allocated_height();
      if (width <= 0 || height <= 0) return;
      this.draw_catmull_rom(snapshot, width, height);
    } catch (error) {
      console.warn("Erro no snapshot do Cava:", error);
    }
  }
  draw_catmull_rom(snapshot, width, height) {
    if (!cavaInstance || !mediaState.get().lastPlayer) return;
    try {
      const raw = cavaInstance.get_values() || null;
      if (!raw || raw.length === 0) return;
      const bars = Math.min(CavaConfig.bars, raw.length);
      if (bars === 0) return;
      const barWidth = width / (bars - 1);
      const color = this.parent.get_color();
      const sens = CavaConfig.sensitivity;
      const lerp = CavaConfig.lerpFactor;
      const invSix = 1 / 6;
      for (let i = 0; i < bars; i++) {
        const vRaw = (raw[i] || 0) * sens;
        const v = this.values[i] += (vRaw - this.values[i]) * lerp;
        this.norm[i] = height - height * Math.max(0, Math.min(1, v));
      }
      const builder = this._pathBuilder = new Gsk.PathBuilder();
      builder.move_to(0, this.norm[0]);
      for (let i = 0; i < bars - 1; i++) {
        const p0x = (i - 1) * barWidth;
        const p0y = this.norm[Math.max(0, i - 1)];
        const p1x = i * barWidth;
        const p1y = this.norm[i];
        const p2x = (i + 1) * barWidth;
        const p2y = this.norm[i + 1];
        const p3x = (i + 2) * barWidth;
        const p3y = this.norm[Math.min(bars - 1, i + 2)];
        const c1x = p1x + (p2x - p0x) * invSix;
        const c1y = p1y + (p2y - p0y) * invSix;
        const c2x = p2x - (p3x - p1x) * invSix;
        const c2y = p2y - (p3y - p1y) * invSix;
        builder.cubic_to(c1x, c1y, c2x, c2y, p2x, p2y);
      }
      builder.line_to(width, height);
      builder.line_to(0, height);
      builder.close();
      const path = builder.to_path();
      if (path) {
        snapshot.append_fill(path, Gsk.FillRule.WINDING, color);
      }
    } catch (error) {
      console.warn("Erro ao desenhar Cava:", error);
    }
  }
  destroy() {
    if (this._handler && cavaInstance) {
      try {
        cavaInstance.disconnect(this._handler);
      } catch (error) {
        console.warn("Erro ao desconectar handler:", error);
      }
      this._handler = null;
    }
    if (this.values) {
      this.values.fill(0);
    }
    if (this.norm) {
      this.norm.fill(0);
    }
    this._pathBuilder = null;
  }
};
var _cava = GObject3.registerClass({ GTypeName: "Cava" }, CavaWidget);
function Cava() {
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["Cava"], overflow: Gtk4.Overflow.HIDDEN, child: new _cava() });
}

// modules/Media.tsx
var PlayerButtonIcons = {
  playing: "media-playback-start-symbolic",
  paused: "media-playback-pause-symbolic",
  stop: "media-playback-stop-symbolic",
  next: "media-skip-forward-symbolic",
  previous: "media-skip-backward-symbolic"
};
var mediaState = Variable({
  currentState: Mpris.PlaybackStatus.STOPPED,
  currentCss: "stopped",
  lastPlayer: null,
  handlers: []
});
var playerDuration = Variable({ position: 0, duration: 0 });
var progressPercent = Variable(0);
var updateTimeout = null;
var retryTimeout = null;
var positionTimer = null;
var savedPosition = 0;
var lastUpdateTime = 0;
var DEBOUNCE_DELAY = 100;
var RETRY_DELAY = 1e3;
var MAX_RETRIES = 5;
var POSITION_UPDATE_INTERVAL = 1e3;
var retryCount = 0;
var mpris = Mpris.get_default();
function formatState(state) {
  switch (state) {
    case Mpris.PlaybackStatus.PLAYING:
      return "Tocando";
    case Mpris.PlaybackStatus.PAUSED:
      return "Pausado";
    case Mpris.PlaybackStatus.STOPPED:
      return "Nada tocando";
    default:
      return "Estado desconhecido";
  }
}
function formatTime2(seconds) {
  if (!seconds || seconds < 0) return "0:00";
  const hours = Math.floor(seconds / 3600);
  const minutes = Math.floor(seconds % 3600 / 60);
  const remainingSeconds = Math.floor(seconds % 60);
  if (hours > 0) {
    return `${hours}:${minutes.toString().padStart(2, "0")}:${remainingSeconds.toString().padStart(2, "0")}`;
  } else {
    return `${minutes}:${remainingSeconds.toString().padStart(2, "0")}`;
  }
}
function updatePosition() {
  const player = mediaState.get().lastPlayer;
  if (!player || !isPlayerValid(player)) {
    playerDuration.set({ duration: 0, position: 0 });
    progressPercent.set(0);
    return;
  }
  try {
    savedPosition = player.position || 0;
    lastUpdateTime = Date.now();
    const duration = player.length || 0;
    playerDuration.set({ duration, position: savedPosition });
    if (duration > 0) {
      const percent = savedPosition / duration * 100;
      progressPercent.set(Math.min(100, Math.max(0, percent)));
    } else {
      progressPercent.set(0);
    }
  } catch (error) {
    console.warn("Erro ao atualizar posi\xE7\xE3o:", error);
    playerDuration.set({ duration: 0, position: 0 });
    progressPercent.set(0);
  }
}
function startPositionTimer() {
  stopPositionTimer();
  const updateTimer = () => {
    const player = mediaState.get().lastPlayer;
    if (!player || player.playbackStatus !== Mpris.PlaybackStatus.PLAYING) {
      return;
    }
    const now = Date.now();
    const timeDiff = (now - lastUpdateTime) / 1e3;
    savedPosition += timeDiff;
    lastUpdateTime = now;
    const duration = playerDuration.get().duration;
    playerDuration.set({ ...playerDuration.get(), position: savedPosition });
    if (duration > 0) {
      const percent = savedPosition / duration * 100;
      progressPercent.set(Math.min(100, Math.max(0, percent)));
    }
    positionTimer = default2.timeout_add(default2.PRIORITY_DEFAULT, POSITION_UPDATE_INTERVAL, () => {
      updateTimer();
      return default2.SOURCE_REMOVE;
    });
  };
  updateTimer();
}
function stopPositionTimer() {
  if (positionTimer) {
    default2.source_remove(positionTimer);
    positionTimer = null;
  }
}
function disconnectFromPlayer() {
  const state = mediaState.get();
  if (updateTimeout) {
    default2.source_remove(updateTimeout);
    updateTimeout = null;
  }
  if (retryTimeout) {
    default2.source_remove(retryTimeout);
    retryTimeout = null;
  }
  stopPositionTimer();
  if (state.lastPlayer && state.handlers.length > 0) {
    state.handlers.forEach((handler) => {
      if (state.lastPlayer && GObject2.signal_handler_is_connected(state.lastPlayer, handler)) {
        try {
          state.lastPlayer.disconnect(handler);
        } catch (error) {
          console.warn("Erro ao desconectar handler:", error);
        }
      }
    });
  }
  mediaState.set({
    lastPlayer: null,
    handlers: [],
    currentCss: "stopped",
    currentState: Mpris.PlaybackStatus.STOPPED
  });
  savedPosition = 0;
  lastUpdateTime = 0;
  playerDuration.set({ duration: 0, position: 0 });
  progressPercent.set(0);
}
function isPlayerValid(player) {
  if (!player) return false;
  try {
    const busName = player.busName;
    return !!(busName && busName.length > 0);
  } catch (error) {
    console.warn("Player inv\xE1lido detectado:", error);
    return false;
  }
}
function connectToPlayer(player) {
  if (!isPlayerValid(player)) {
    console.warn("Tentativa de conectar a player inv\xE1lido");
    return;
  }
  disconnectFromPlayer();
  retryCount = 0;
  const handlers = [];
  try {
    handlers.push(
      player.connect("notify::playback-status", () => {
        updateMediaState(player);
        if (player.playbackStatus === Mpris.PlaybackStatus.PLAYING) {
          startPositionTimer();
        } else {
          stopPositionTimer();
          updatePosition();
        }
      }),
      player.connect("notify::title", () => updateMediaState(player)),
      player.connect("notify::artist", () => updateMediaState(player)),
      player.connect("notify::metadata", () => {
        updateMediaState(player);
        updatePosition();
      })
    );
    mediaState.set({
      ...mediaState.get(),
      lastPlayer: player,
      handlers
    });
    updateMediaState(player);
    updatePosition();
    if (player.playbackStatus === Mpris.PlaybackStatus.PLAYING) {
      startPositionTimer();
    }
  } catch (error) {
    console.error("Erro ao conectar aos sinais do player:", error);
    handlers.forEach((handler) => {
      try {
        if (GObject2.signal_handler_is_connected(player, handler)) player.disconnect(handler);
      } catch (error2) {
        console.error("Erro ao desconectar o handler:", error2);
      }
    });
  }
}
function updateMediaState(player) {
  if (updateTimeout) {
    default2.source_remove(updateTimeout);
    updateTimeout = null;
  }
  updateTimeout = default2.timeout_add(default2.PRIORITY_DEFAULT, DEBOUNCE_DELAY, () => {
    executeUpdateMediaState(player);
    updateTimeout = null;
    return default2.SOURCE_REMOVE;
  });
}
function executeUpdateMediaState(player) {
  if (!player) {
    mediaState.set({
      ...mediaState.get(),
      currentCss: "stopped",
      currentState: Mpris.PlaybackStatus.STOPPED
    });
    return;
  }
  if (!isPlayerValid(player)) {
    const nextPlayer = findBestPlayer();
    if (nextPlayer && nextPlayer !== player) {
      connectToPlayer(nextPlayer);
      return;
    } else {
      mediaState.set({
        ...mediaState.get(),
        currentCss: "stopped",
        currentState: Mpris.PlaybackStatus.STOPPED
      });
      return;
    }
  }
  try {
    const title = player.title || "T\xEDtulo desconhecido";
    const artist = player.artist || "Artista desconhecido";
    const status = player.playbackStatus;
    switch (status) {
      case Mpris.PlaybackStatus.PLAYING:
        mediaState.set({
          ...mediaState.get(),
          currentCss: "playing",
          currentState: Mpris.PlaybackStatus.PLAYING
        });
        break;
      case Mpris.PlaybackStatus.PAUSED:
        mediaState.set({
          ...mediaState.get(),
          currentCss: "paused",
          currentState: Mpris.PlaybackStatus.PAUSED
        });
        break;
      case Mpris.PlaybackStatus.STOPPED:
      default:
        mediaState.set({
          ...mediaState.get(),
          currentCss: "stopped",
          currentState: Mpris.PlaybackStatus.STOPPED
        });
        break;
    }
  } catch (error) {
    console.warn("Erro ao acessar propriedades do player MPRIS:", error);
    const nextPlayer = findBestPlayer();
    if (nextPlayer && nextPlayer !== player) {
      connectToPlayer(nextPlayer);
    } else {
      mediaState.set({
        ...mediaState.get(),
        currentCss: "stopped",
        currentState: Mpris.PlaybackStatus.STOPPED
      });
    }
  }
}
function findBestPlayer() {
  try {
    const players = mpris.players;
    if (players.length === 0) return null;
    const validPlayers = players.filter((p) => {
      const valid = isPlayerValid(p);
      return valid;
    });
    if (validPlayers.length === 0) return null;
    const playingPlayer = validPlayers.find((p) => {
      try {
        return p.playbackStatus === Mpris.PlaybackStatus.PLAYING;
      } catch {
        return false;
      }
    });
    if (playingPlayer) return playingPlayer;
    const pausedPlayer = validPlayers.find((p) => {
      try {
        return p.playbackStatus === Mpris.PlaybackStatus.PAUSED;
      } catch {
        return false;
      }
    });
    if (pausedPlayer) return pausedPlayer;
    return validPlayers[0];
  } catch (error) {
    console.error("Erro ao buscar players:", error);
    return null;
  }
}
function initializeMpris() {
  const tryInitialize = () => {
    const initialPlayer = findBestPlayer();
    if (initialPlayer) {
      connectToPlayer(initialPlayer);
      retryCount = 0;
    } else {
      if (retryCount < MAX_RETRIES) {
        retryCount++;
        const delay = RETRY_DELAY * retryCount;
        retryTimeout = default2.timeout_add(default2.PRIORITY_DEFAULT, delay, () => {
          tryInitialize();
          retryTimeout = null;
          return default2.SOURCE_REMOVE;
        });
      }
    }
  };
  default2.timeout_add(default2.PRIORITY_DEFAULT, 500, () => {
    tryInitialize();
    return default2.SOURCE_REMOVE;
  });
}
var mprisHandlers = [];
function setupMprisHandlers() {
  try {
    mprisHandlers = [
      mpris.connect("player-added", (_, player) => {
        default2.timeout_add(default2.PRIORITY_DEFAULT, 200, () => {
          const currentPlayer = mediaState.get().lastPlayer;
          if (!currentPlayer || !isPlayerValid(currentPlayer)) {
            connectToPlayer(player);
          } else {
            try {
              if (isPlayerValid(player) && player.playbackStatus === Mpris.PlaybackStatus.PLAYING) {
                connectToPlayer(player);
              }
            } catch (error) {
              console.warn("Erro ao verificar status do novo player:", error);
            }
          }
          return default2.SOURCE_REMOVE;
        });
      }),
      mpris.connect("player-closed", (_, player) => {
        const currentPlayer = mediaState.get().lastPlayer;
        if (currentPlayer === player) {
          default2.timeout_add(default2.PRIORITY_DEFAULT, 100, () => {
            const nextPlayer = findBestPlayer();
            if (nextPlayer) connectToPlayer(nextPlayer);
            else disconnectFromPlayer();
            return default2.SOURCE_REMOVE;
          });
        }
      })
    ];
  } catch (error) {
    console.error("Erro ao configurar handlers MPRIS:", error);
  }
}
var setupButton = (action) => (self) => {
  const click = new Gtk4.GestureClick();
  click.set_button(Gdk2.BUTTON_PRIMARY);
  const clickHandler = click.connect("pressed", () => {
    const player = mediaState.get().lastPlayer;
    if (!player || !isPlayerValid(player)) {
      console.warn("Player inv\xE1lido ou inexistente");
      return;
    }
    try {
      switch (action) {
        case "previous":
          if (player.canGoPrevious) player.previous();
          break;
        case "next":
          if (player.canGoNext) player.next();
          break;
        case "playpause":
          if (player.canPlay || player.canPause) player.play_pause();
          break;
      }
      default2.timeout_add(default2.PRIORITY_DEFAULT, 100, () => {
        executeUpdateMediaState(player);
        return default2.SOURCE_REMOVE;
      });
    } catch (error) {
      console.warn(`Erro ao executar a\xE7\xE3o ${action}:`, error);
      const nextPlayer = findBestPlayer();
      if (nextPlayer) connectToPlayer(nextPlayer);
    }
  });
  self.add_controller(click);
  self._clickHandler = clickHandler;
  self._clickController = click;
};
function PlayerSlider() {
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["PlayerSlider"], children: [
    /* @__PURE__ */ jsx2(Slider, { cssClasses: ["Slider"], value: bind(progressPercent), min: 0, max: 100, step: 1, sensitive: false, drawValue: false }),
    /* @__PURE__ */ jsx2("label", { cssClasses: ["TimeLabel"], label: bind(playerDuration).as((pd) => `${formatTime2(pd.position)} / ${formatTime2(pd.duration)}`) })
  ] });
}
function PlayerInfo() {
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["PlayerInfo"], orientation: Gtk4.Orientation.VERTICAL, hexpand: true, vexpand: true, children: [
    /* @__PURE__ */ jsxs("box", { cssClasses: ["Info"], orientation: Gtk4.Orientation.VERTICAL, hexpand: true, vexpand: true, children: [
      /* @__PURE__ */ jsx2("label", { cssClasses: ["Title"], label: bind(mediaState).as((c) => c.lastPlayer?.title ?? ""), ellipsize: 3, maxWidthChars: 15, widthChars: 30 }),
      /* @__PURE__ */ jsx2("label", { cssClasses: ["Artist"], label: bind(mediaState).as((c) => c.lastPlayer?.artist ?? ""), ellipsize: 3, maxWidthChars: 15, widthChars: 30 }),
      /* @__PURE__ */ jsx2("label", { cssClasses: ["Album"], label: bind(mediaState).as((c) => c.lastPlayer?.album ?? ""), ellipsize: 3, maxWidthChars: 15, widthChars: 30 })
    ] }),
    /* @__PURE__ */ jsxs("box", { cssClasses: ["LowerPart"], halign: Gtk4.Align.CENTER, orientation: Gtk4.Orientation.VERTICAL, hexpand: true, vexpand: true, children: [
      /* @__PURE__ */ jsx2(PlayerSlider, {}),
      /* @__PURE__ */ jsxs("box", { cssClasses: ["Controllers"], halign: Gtk4.Align.CENTER, children: [
        /* @__PURE__ */ jsx2(
          "box",
          {
            cssClasses: ["Previous"],
            setup: setupButton("previous"),
            sensitive: bind(mediaState).as((c) => c.lastPlayer?.canGoPrevious ?? false),
            child: /* @__PURE__ */ jsx2("image", { iconSize: Gtk4.IconSize.LARGE, iconName: PlayerButtonIcons.previous })
          }
        ),
        /* @__PURE__ */ jsx2(
          "box",
          {
            cssClasses: ["PlayPause"],
            setup: setupButton("playpause"),
            sensitive: bind(mediaState).as((c) => (c.lastPlayer?.canPlay && c.lastPlayer?.canPause) ?? false),
            child: /* @__PURE__ */ jsx2("image", { iconSize: Gtk4.IconSize.LARGE, iconName: bind(mediaState).as((c) => c.lastPlayer?.playbackStatus === Mpris.PlaybackStatus.PLAYING ? PlayerButtonIcons.paused : PlayerButtonIcons.playing) })
          }
        ),
        /* @__PURE__ */ jsx2(
          "box",
          {
            cssClasses: ["Next"],
            setup: setupButton("next"),
            sensitive: bind(mediaState).as((c) => c.lastPlayer?.canGoNext ?? false),
            child: /* @__PURE__ */ jsx2("image", { iconSize: Gtk4.IconSize.LARGE, iconName: PlayerButtonIcons.next })
          }
        )
      ] })
    ] })
  ] });
}
function MprisInfo() {
  return /* @__PURE__ */ jsx2("label", { cssClasses: ["MprisInfo"], label: bind(mediaState).as((c) => formatState(c.currentState)), widthChars: 12 });
}
function MprisPlayer() {
  return /* @__PURE__ */ jsx2(
    Overlay,
    {
      cssClasses: ["MprisPlayer"],
      setup: (self) => {
        const cava = Cava();
        const playerInfo = PlayerInfo();
        self.set_child(cava);
        self.add_overlay(playerInfo);
        self.set_measure_overlay(playerInfo, true);
        self.set_clip_overlay(playerInfo, false);
      },
      overflow: Gtk4.Overflow.HIDDEN
    }
  );
}
function Media() {
  setupMprisHandlers();
  initializeMpris();
  return /* @__PURE__ */ jsx2(
    "box",
    {
      cssClasses: ["Media"],
      child: /* @__PURE__ */ jsx2(
        "menubutton",
        {
          hexpand: true,
          alwaysShowArrow: false,
          sensitive: bind(mediaState).as((c) => c.lastPlayer !== null),
          child: /* @__PURE__ */ jsx2(MprisInfo, {}),
          popover: /* @__PURE__ */ jsx2("popover", { child: /* @__PURE__ */ jsx2(MprisPlayer, {}) })
        }
      )
    }
  );
}

// modules/Workspaces.tsx
import AstalHyprland from "gi://AstalHyprland?version=0.1";
var hyprland = AstalHyprland.get_default();
var focusedWorkspace = bind(hyprland, "focusedWorkspace");
var workspaceData = Variable.derive([bind(hyprland, "workspaces")], (workspaces) => {
  const sorted = workspaces.sort((a, b) => a.id - b.id);
  return {
    first: sorted[0] || null,
    second: sorted[1] || null,
    third: sorted[2] || null,
    rest: sorted.slice(3)
  };
});
var clickHandlers = /* @__PURE__ */ new WeakMap();
function setupWorkspaceClick(widget, workspaceId) {
  if (!clickHandlers.has(widget)) {
    const click = new Gtk4.GestureClick();
    click.connect("pressed", () => {
      if (focusedWorkspace.get().id !== workspaceId) hyprland.dispatch("workspace", `${workspaceId}`);
    });
    widget.add_controller(click);
    clickHandlers.set(widget, click);
  }
}
function Workspace({ workspace, isInPopover = false }) {
  const baseClasses = isInPopover ? ["Workspace", "WorkspacePopoverItem"] : ["Workspace"];
  return /* @__PURE__ */ jsx2(
    "label",
    {
      setup: (self) => setupWorkspaceClick(self, workspace.id),
      cssClasses: focusedWorkspace.as((focused) => [...baseClasses, workspace.id === focused.id ? "Active" : "Inactive"]),
      label: `${workspace.id}`
    }
  );
}
function MainWorkspace({ workspace }) {
  return /* @__PURE__ */ jsx2(
    "label",
    {
      setup: (self) => {
        const click = new Gtk4.GestureClick();
        click.connect("pressed", () => {
          const ws = workspace.get();
          if (ws && ws.id !== focusedWorkspace.get().id) hyprland.dispatch("workspace", `${ws.id}`);
        });
        self.add_controller(click);
      },
      cssClasses: bind(Variable.derive([focusedWorkspace, workspace], (focused, ws) => {
        if (!ws) return ["Workspace", "Inactive"];
        return ["Workspace", ws.id === focused.id ? "Active" : "Inactive"];
      })),
      label: bind(workspace).as((w) => `${w?.id ?? " "}`)
    }
  );
}
var chunkArray = (array, size) => {
  const result = [];
  for (let i = 0; i < array.length; i += size) {
    result.push(array.slice(i, i + size));
  }
  return result;
};
function WorkspacePopover() {
  return /* @__PURE__ */ jsx2(
    "popover",
    {
      cssClasses: ["WorkspacePopover"],
      child: /* @__PURE__ */ jsx2("box", { vertical: true, cssClasses: ["WorkspacePopoverContent"], children: bind(workspaceData).as(({ rest }) => {
        const rows = chunkArray(rest, 4);
        return rows.map((rowWorkspaces, index) => /* @__PURE__ */ jsx2("box", { cssClasses: ["WorkspaceRow"], homogeneous: true, spacing: 4, children: rowWorkspaces.map((workspace) => /* @__PURE__ */ jsx2(Workspace, { workspace, isInPopover: true })) }));
      }) })
    }
  );
}
function MoreWorkspacesButton() {
  return /* @__PURE__ */ jsx2(
    "menubutton",
    {
      cssClasses: ["MoreWorkspacesButton"],
      sensitive: bind(workspaceData).as(({ rest }) => rest.length > 0),
      child: /* @__PURE__ */ jsx2("label", { label: "+" }),
      popover: WorkspacePopover()
    }
  );
}
function Workspaces() {
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["Workspaces"], onDestroy: () => workspaceData.drop(), children: [
    /* @__PURE__ */ jsx2(MainWorkspace, { workspace: Variable.derive([workspaceData], (data) => data.first) }),
    /* @__PURE__ */ jsx2(MainWorkspace, { workspace: Variable.derive([workspaceData], (data) => data.second) }),
    /* @__PURE__ */ jsx2(MainWorkspace, { workspace: Variable.derive([workspaceData], (data) => data.third) }),
    /* @__PURE__ */ jsx2(MoreWorkspacesButton, {})
  ] });
}

// modules/Clients.tsx
import AstalHyprland2 from "gi://AstalHyprland?version=0.1";
var hyprland2 = AstalHyprland2.get_default();
var focusedClient = bind(hyprland2, "focusedClient");
var clients = bind(hyprland2, "clients");
var clientData = Variable.derive([clients, focusedClient], (allClients, focused) => {
  const filtered = focused ? allClients.filter((client) => client.address !== focused.address) : allClients;
  const title = focused?.title?.replace(/^./, (char) => char.toUpperCase()) ?? allClients.length.toString();
  return {
    filtered,
    title,
    hasMultiple: allClients.length > 1
  };
});
var clientClickHandlers = /* @__PURE__ */ new WeakMap();
function setupClientClick(widget, clientAddress) {
  if (!clientClickHandlers.has(widget)) {
    const click = new Gtk4.GestureClick();
    click.connect("pressed", () => {
      hyprland2.dispatch("focuswindow", `address:0x${clientAddress}`);
    });
    widget.add_controller(click);
    clientClickHandlers.set(widget, click);
  }
}
function ActiveClient() {
  return /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: ["Client"],
      widthChars: 24,
      maxWidthChars: 21,
      ellipsize: 3,
      label: bind(clientData).as(({ title }) => title)
    }
  );
}
function ClientEntry(client) {
  return /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: ["ClientEntry"],
      setup: (self) => setupClientClick(self, client.address),
      maxWidthChars: 22,
      ellipsize: 3,
      label: client.title.replace(/^./, (char) => char.toUpperCase())
    }
  );
}
function ClientsPopover() {
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["ClientsPopover"], orientation: Gtk4.Orientation.VERTICAL, children: bind(clientData).as(({ filtered }) => filtered.map((client) => ClientEntry(client))) });
}
function Clients() {
  return /* @__PURE__ */ jsx2(
    "menubutton",
    {
      cssClasses: ["Clients"],
      sensitive: bind(clientData).as(({ hasMultiple }) => hasMultiple),
      child: ActiveClient(),
      popover: /* @__PURE__ */ jsx2("popover", { child: ClientsPopover() }),
      onDestroy: () => {
        clientData.drop();
      }
    }
  );
}

// widget/Bar.tsx
function Bar(gdkmonitor) {
  const { TOP, LEFT, RIGHT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      namespace: "AstalBar",
      cssClasses: ["Bar"],
      visible: true,
      gdkmonitor,
      exclusivity: Astal6.Exclusivity.EXCLUSIVE,
      anchor: TOP | RIGHT | LEFT,
      application: app_default,
      child: /* @__PURE__ */ jsxs("box", { cssClasses: ["Bar"], halign: Gtk4.Align.FILL, homogeneous: true, children: [
        /* @__PURE__ */ jsx2("box", { halign: Gtk4.Align.START, children: /* @__PURE__ */ jsx2(SystemTray, {}) }),
        /* @__PURE__ */ jsxs("box", { halign: Gtk4.Align.CENTER, children: [
          /* @__PURE__ */ jsx2(Clients, {}),
          /* @__PURE__ */ jsx2(Media, {}),
          /* @__PURE__ */ jsx2(Workspaces, {})
        ] }),
        /* @__PURE__ */ jsxs("box", { halign: Gtk4.Align.END, children: [
          /* @__PURE__ */ jsx2(MiniTime, {}),
          /* @__PURE__ */ jsx2(AudioControl, {}),
          /* @__PURE__ */ jsx2(SystemMonitor, {})
        ] })
      ] })
    }
  );
}

// app.ts
function setupMonitors() {
  const activeMonitors = /* @__PURE__ */ new Set();
  function updateMonitors() {
    const currentMonitors = app_default.get_monitors();
    const currentMonitorIds = new Set(currentMonitors.map((m) => m.get_connector()));
    currentMonitors.forEach((monitor) => {
      if (!activeMonitors.has(monitor)) {
        activeMonitors.add(monitor);
        Bar(monitor);
      }
    });
    const removedMonitors = [];
    activeMonitors.forEach((monitor) => {
      if (!currentMonitorIds.has(monitor.get_connector())) {
        removedMonitors.push(monitor);
      }
    });
    removedMonitors.forEach((monitor) => {
      activeMonitors.delete(monitor);
      console.log(`Monitor removido: ${monitor}`);
    });
  }
  updateMonitors();
  app_default.notify("monitors");
  app_default.connect("notify::monitors", () => updateMonitors());
}
app_default.start({
  css: styles_default,
  main() {
    setupMonitors();
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdmFyaWFibGUudHMiLCAiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9iaW5kaW5nLnRzIiwgIi4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdGltZS50cyIsICIuLi8uLi8uLi8uLi91c3Ivc2hhcmUvYXN0YWwvZ2pzL3Byb2Nlc3MudHMiLCAiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXN0YWwudHMiLCAiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2FzdGFsaWZ5LnRzIiwgIi4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC9hcHAudHMiLCAiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9vdmVycmlkZXMudHMiLCAiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXBwLnRzIiwgIi4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC93aWRnZXQudHMiLCAic2FzczovaG9tZS9pdGlyby8uY29uZmlnL2Fncy9zdHlsZXMvaW5kZXguc2NzcyIsICJtb2R1bGVzL1N5c3RlbU1vbml0b3IudHN4IiwgIi4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9maWxlLnRzIiwgIi4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ29iamVjdC50cyIsICIuLi8uLi8uLi8uLi91c3Ivc2hhcmUvYXN0YWwvZ2pzL2d0azQvanN4LXJ1bnRpbWUudHMiLCAibW9kdWxlcy9BdWRpb0NvbnRyb2wudHN4IiwgIm1vZHVsZXMvU3lzdGVtVHJheS50c3giLCAibW9kdWxlcy9EYXRlVGltZS50c3giLCAibW9kdWxlcy9NZWRpYS50c3giLCAibW9kdWxlcy9DYXZhLnRzeCIsICJtb2R1bGVzL1dvcmtzcGFjZXMudHN4IiwgIm1vZHVsZXMvQ2xpZW50cy50c3giLCAid2lkZ2V0L0Jhci50c3giLCAiYXBwLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEdkayBmcm9tIFwiZ2k6Ly9HZGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IGFzdGFsaWZ5LCB7IHR5cGUgQ29uc3RydWN0UHJvcHMgfSBmcm9tIFwiLi9hc3RhbGlmeS5qc1wiXG5cbmV4cG9ydCB7IEFzdGFsLCBHdGssIEdkayB9XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFwcCB9IGZyb20gXCIuL2FwcC5qc1wiXG5leHBvcnQgeyBhc3RhbGlmeSwgQ29uc3RydWN0UHJvcHMgfVxuZXhwb3J0ICogYXMgV2lkZ2V0IGZyb20gXCIuL3dpZGdldC5qc1wiXG5leHBvcnQgeyBob29rIH0gZnJvbSBcIi4uL19hc3RhbFwiXG4iLCAiaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsSU9cIlxuaW1wb3J0IEJpbmRpbmcsIHsgdHlwZSBDb25uZWN0YWJsZSwgdHlwZSBTdWJzY3JpYmFibGUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCJcbmltcG9ydCB7IGludGVydmFsIH0gZnJvbSBcIi4vdGltZS5qc1wiXG5pbXBvcnQgeyBleGVjQXN5bmMsIHN1YnByb2Nlc3MgfSBmcm9tIFwiLi9wcm9jZXNzLmpzXCJcblxuY2xhc3MgVmFyaWFibGVXcmFwcGVyPFQ+IGV4dGVuZHMgRnVuY3Rpb24ge1xuICAgIHByaXZhdGUgdmFyaWFibGUhOiBBc3RhbC5WYXJpYWJsZUJhc2VcbiAgICBwcml2YXRlIGVyckhhbmRsZXI/ID0gY29uc29sZS5lcnJvclxuXG4gICAgcHJpdmF0ZSBfdmFsdWU6IFRcbiAgICBwcml2YXRlIF9wb2xsPzogQXN0YWwuVGltZVxuICAgIHByaXZhdGUgX3dhdGNoPzogQXN0YWwuUHJvY2Vzc1xuXG4gICAgcHJpdmF0ZSBwb2xsSW50ZXJ2YWwgPSAxMDAwXG4gICAgcHJpdmF0ZSBwb2xsRXhlYz86IHN0cmluZ1tdIHwgc3RyaW5nXG4gICAgcHJpdmF0ZSBwb2xsVHJhbnNmb3JtPzogKHN0ZG91dDogc3RyaW5nLCBwcmV2OiBUKSA9PiBUXG4gICAgcHJpdmF0ZSBwb2xsRm4/OiAocHJldjogVCkgPT4gVCB8IFByb21pc2U8VD5cblxuICAgIHByaXZhdGUgd2F0Y2hUcmFuc2Zvcm0/OiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFRcbiAgICBwcml2YXRlIHdhdGNoRXhlYz86IHN0cmluZ1tdIHwgc3RyaW5nXG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0OiBUKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBpbml0XG4gICAgICAgIHRoaXMudmFyaWFibGUgPSBuZXcgQXN0YWwuVmFyaWFibGVCYXNlKClcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZHJvcHBlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3BXYXRjaCgpXG4gICAgICAgICAgICB0aGlzLnN0b3BQb2xsKClcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZXJyb3JcIiwgKF8sIGVycikgPT4gdGhpcy5lcnJIYW5kbGVyPy4oZXJyKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0aGlzLCB7XG4gICAgICAgICAgICBhcHBseTogKHRhcmdldCwgXywgYXJncykgPT4gdGFyZ2V0Ll9jYWxsKGFyZ3NbMF0pLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhbGw8UiA9IFQ+KHRyYW5zZm9ybT86ICh2YWx1ZTogVCkgPT4gUik6IEJpbmRpbmc8Uj4ge1xuICAgICAgICBjb25zdCBiID0gQmluZGluZy5iaW5kKHRoaXMpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0gPyBiLmFzKHRyYW5zZm9ybSkgOiBiIGFzIHVua25vd24gYXMgQmluZGluZzxSPlxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGBWYXJpYWJsZTwke3RoaXMuZ2V0KCl9PmApXG4gICAgfVxuXG4gICAgZ2V0KCk6IFQgeyByZXR1cm4gdGhpcy5fdmFsdWUgfVxuICAgIHNldCh2YWx1ZTogVCkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlXG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlLmVtaXQoXCJjaGFuZ2VkXCIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFBvbGwoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb2xsKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgaWYgKHRoaXMucG9sbEZuKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2xsID0gaW50ZXJ2YWwodGhpcy5wb2xsSW50ZXJ2YWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5wb2xsRm4hKHRoaXMuZ2V0KCkpXG4gICAgICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHYudGhlbih2ID0+IHRoaXMuc2V0KHYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLnZhcmlhYmxlLmVtaXQoXCJlcnJvclwiLCBlcnIpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KHYpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvbGxFeGVjKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2xsID0gaW50ZXJ2YWwodGhpcy5wb2xsSW50ZXJ2YWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICBleGVjQXN5bmModGhpcy5wb2xsRXhlYyEpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHYgPT4gdGhpcy5zZXQodGhpcy5wb2xsVHJhbnNmb3JtISh2LCB0aGlzLmdldCgpKSkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gdGhpcy52YXJpYWJsZS5lbWl0KFwiZXJyb3JcIiwgZXJyKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFdhdGNoKCkge1xuICAgICAgICBpZiAodGhpcy5fd2F0Y2gpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB0aGlzLl93YXRjaCA9IHN1YnByb2Nlc3Moe1xuICAgICAgICAgICAgY21kOiB0aGlzLndhdGNoRXhlYyEsXG4gICAgICAgICAgICBvdXQ6IG91dCA9PiB0aGlzLnNldCh0aGlzLndhdGNoVHJhbnNmb3JtIShvdXQsIHRoaXMuZ2V0KCkpKSxcbiAgICAgICAgICAgIGVycjogZXJyID0+IHRoaXMudmFyaWFibGUuZW1pdChcImVycm9yXCIsIGVyciksXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RvcFBvbGwoKSB7XG4gICAgICAgIHRoaXMuX3BvbGw/LmNhbmNlbCgpXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wb2xsXG4gICAgfVxuXG4gICAgc3RvcFdhdGNoKCkge1xuICAgICAgICB0aGlzLl93YXRjaD8ua2lsbCgpXG4gICAgICAgIGRlbGV0ZSB0aGlzLl93YXRjaFxuICAgIH1cblxuICAgIGlzUG9sbGluZygpIHsgcmV0dXJuICEhdGhpcy5fcG9sbCB9XG4gICAgaXNXYXRjaGluZygpIHsgcmV0dXJuICEhdGhpcy5fd2F0Y2ggfVxuXG4gICAgZHJvcCgpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZS5lbWl0KFwiZHJvcHBlZFwiKVxuICAgIH1cblxuICAgIG9uRHJvcHBlZChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLmNvbm5lY3QoXCJkcm9wcGVkXCIsIGNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgb25FcnJvcihjYWxsYmFjazogKGVycjogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVyckhhbmRsZXJcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZXJyb3JcIiwgKF8sIGVycikgPT4gY2FsbGJhY2soZXJyKSlcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgdW5rbm93biBhcyBWYXJpYWJsZTxUPlxuICAgIH1cblxuICAgIHN1YnNjcmliZShjYWxsYmFjazogKHZhbHVlOiBUKSA9PiB2b2lkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiY2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayh0aGlzLmdldCgpKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gKCkgPT4gdGhpcy52YXJpYWJsZS5kaXNjb25uZWN0KGlkKVxuICAgIH1cblxuICAgIHBvbGwoXG4gICAgICAgIGludGVydmFsOiBudW1iZXIsXG4gICAgICAgIGV4ZWM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgICAgICB0cmFuc2Zvcm0/OiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFRcbiAgICApOiBWYXJpYWJsZTxUPlxuXG4gICAgcG9sbChcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlcixcbiAgICAgICAgY2FsbGJhY2s6IChwcmV2OiBUKSA9PiBUIHwgUHJvbWlzZTxUPlxuICAgICk6IFZhcmlhYmxlPFQ+XG5cbiAgICBwb2xsKFxuICAgICAgICBpbnRlcnZhbDogbnVtYmVyLFxuICAgICAgICBleGVjOiBzdHJpbmcgfCBzdHJpbmdbXSB8ICgocHJldjogVCkgPT4gVCB8IFByb21pc2U8VD4pLFxuICAgICAgICB0cmFuc2Zvcm06IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVCA9IG91dCA9PiBvdXQgYXMgVCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5zdG9wUG9sbCgpXG4gICAgICAgIHRoaXMucG9sbEludGVydmFsID0gaW50ZXJ2YWxcbiAgICAgICAgdGhpcy5wb2xsVHJhbnNmb3JtID0gdHJhbnNmb3JtXG4gICAgICAgIGlmICh0eXBlb2YgZXhlYyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnBvbGxGbiA9IGV4ZWNcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBvbGxFeGVjXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvbGxFeGVjID0gZXhlY1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucG9sbEZuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFBvbGwoKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgd2F0Y2goXG4gICAgICAgIGV4ZWM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgICAgICB0cmFuc2Zvcm06IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVCA9IG91dCA9PiBvdXQgYXMgVCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5zdG9wV2F0Y2goKVxuICAgICAgICB0aGlzLndhdGNoRXhlYyA9IGV4ZWNcbiAgICAgICAgdGhpcy53YXRjaFRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuICAgICAgICB0aGlzLnN0YXJ0V2F0Y2goKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgb2JzZXJ2ZShcbiAgICAgICAgb2JqczogQXJyYXk8W29iajogQ29ubmVjdGFibGUsIHNpZ25hbDogc3RyaW5nXT4sXG4gICAgICAgIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IFQsXG4gICAgKTogVmFyaWFibGU8VD5cblxuICAgIG9ic2VydmUoXG4gICAgICAgIG9iajogQ29ubmVjdGFibGUsXG4gICAgICAgIHNpZ25hbDogc3RyaW5nLFxuICAgICAgICBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiBULFxuICAgICk6IFZhcmlhYmxlPFQ+XG5cbiAgICBvYnNlcnZlKFxuICAgICAgICBvYmpzOiBDb25uZWN0YWJsZSB8IEFycmF5PFtvYmo6IENvbm5lY3RhYmxlLCBzaWduYWw6IHN0cmluZ10+LFxuICAgICAgICBzaWdPckZuOiBzdHJpbmcgfCAoKG9iajogQ29ubmVjdGFibGUsIC4uLmFyZ3M6IGFueVtdKSA9PiBUKSxcbiAgICAgICAgY2FsbGJhY2s/OiAob2JqOiBDb25uZWN0YWJsZSwgLi4uYXJnczogYW55W10pID0+IFQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGYgPSB0eXBlb2Ygc2lnT3JGbiA9PT0gXCJmdW5jdGlvblwiID8gc2lnT3JGbiA6IGNhbGxiYWNrID8/ICgoKSA9PiB0aGlzLmdldCgpKVxuICAgICAgICBjb25zdCBzZXQgPSAob2JqOiBDb25uZWN0YWJsZSwgLi4uYXJnczogYW55W10pID0+IHRoaXMuc2V0KGYob2JqLCAuLi5hcmdzKSlcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpzKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2Ygb2Jqcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtvLCBzXSA9IG9ialxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gby5jb25uZWN0KHMsIHNldClcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJvcHBlZCgoKSA9PiBvLmRpc2Nvbm5lY3QoaWQpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaWdPckZuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBvYmpzLmNvbm5lY3Qoc2lnT3JGbiwgc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMub25Ecm9wcGVkKCgpID0+IG9ianMuZGlzY29ubmVjdChpZCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgc3RhdGljIGRlcml2ZTxcbiAgICAgICAgY29uc3QgRGVwcyBleHRlbmRzIEFycmF5PFN1YnNjcmliYWJsZTxhbnk+PixcbiAgICAgICAgQXJncyBleHRlbmRzIHtcbiAgICAgICAgICAgIFtLIGluIGtleW9mIERlcHNdOiBEZXBzW0tdIGV4dGVuZHMgU3Vic2NyaWJhYmxlPGluZmVyIFQ+ID8gVCA6IG5ldmVyXG4gICAgICAgIH0sXG4gICAgICAgIFYgPSBBcmdzLFxuICAgID4oZGVwczogRGVwcywgZm46ICguLi5hcmdzOiBBcmdzKSA9PiBWID0gKC4uLmFyZ3MpID0+IGFyZ3MgYXMgdW5rbm93biBhcyBWKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IGZuKC4uLmRlcHMubWFwKGQgPT4gZC5nZXQoKSkgYXMgQXJncylcbiAgICAgICAgY29uc3QgZGVyaXZlZCA9IG5ldyBWYXJpYWJsZSh1cGRhdGUoKSlcbiAgICAgICAgY29uc3QgdW5zdWJzID0gZGVwcy5tYXAoZGVwID0+IGRlcC5zdWJzY3JpYmUoKCkgPT4gZGVyaXZlZC5zZXQodXBkYXRlKCkpKSlcbiAgICAgICAgZGVyaXZlZC5vbkRyb3BwZWQoKCkgPT4gdW5zdWJzLm1hcCh1bnN1YiA9PiB1bnN1YigpKSlcbiAgICAgICAgcmV0dXJuIGRlcml2ZWRcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGU8VD4gZXh0ZW5kcyBPbWl0PFZhcmlhYmxlV3JhcHBlcjxUPiwgXCJiaW5kXCI+IHtcbiAgICA8Uj4odHJhbnNmb3JtOiAodmFsdWU6IFQpID0+IFIpOiBCaW5kaW5nPFI+XG4gICAgKCk6IEJpbmRpbmc8VD5cbn1cblxuZXhwb3J0IGNvbnN0IFZhcmlhYmxlID0gbmV3IFByb3h5KFZhcmlhYmxlV3JhcHBlciBhcyBhbnksIHtcbiAgICBhcHBseTogKF90LCBfYSwgYXJncykgPT4gbmV3IFZhcmlhYmxlV3JhcHBlcihhcmdzWzBdKSxcbn0pIGFzIHtcbiAgICBkZXJpdmU6IHR5cGVvZiBWYXJpYWJsZVdyYXBwZXJbXCJkZXJpdmVcIl1cbiAgICA8VD4oaW5pdDogVCk6IFZhcmlhYmxlPFQ+XG4gICAgbmV3PFQ+KGluaXQ6IFQpOiBWYXJpYWJsZTxUPlxufVxuXG5leHBvcnQgY29uc3QgeyBkZXJpdmUgfSA9IFZhcmlhYmxlXG5leHBvcnQgZGVmYXVsdCBWYXJpYWJsZVxuIiwgImV4cG9ydCBjb25zdCBzbmFrZWlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDFfJDJcIilcbiAgICAucmVwbGFjZUFsbChcIi1cIiwgXCJfXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxuZXhwb3J0IGNvbnN0IGtlYmFiaWZ5ID0gKHN0cjogc3RyaW5nKSA9PiBzdHJcbiAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMS0kMlwiKVxuICAgIC5yZXBsYWNlQWxsKFwiX1wiLCBcIi1cIilcbiAgICAudG9Mb3dlckNhc2UoKVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliYWJsZTxUID0gdW5rbm93bj4ge1xuICAgIHN1YnNjcmliZShjYWxsYmFjazogKHZhbHVlOiBUKSA9PiB2b2lkKTogKCkgPT4gdm9pZFxuICAgIGdldCgpOiBUXG4gICAgW2tleTogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGFibGUge1xuICAgIGNvbm5lY3Qoc2lnbmFsOiBzdHJpbmcsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHVua25vd24pOiBudW1iZXJcbiAgICBkaXNjb25uZWN0KGlkOiBudW1iZXIpOiB2b2lkXG4gICAgW2tleTogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kaW5nPFZhbHVlPiB7XG4gICAgcHJpdmF0ZSB0cmFuc2Zvcm1GbiA9ICh2OiBhbnkpID0+IHZcblxuICAgICNlbWl0dGVyOiBTdWJzY3JpYmFibGU8VmFsdWU+IHwgQ29ubmVjdGFibGVcbiAgICAjcHJvcD86IHN0cmluZ1xuXG4gICAgc3RhdGljIGJpbmQ8XG4gICAgICAgIFQgZXh0ZW5kcyBDb25uZWN0YWJsZSxcbiAgICAgICAgUCBleHRlbmRzIGtleW9mIFQsXG4gICAgPihvYmplY3Q6IFQsIHByb3BlcnR5OiBQKTogQmluZGluZzxUW1BdPlxuXG4gICAgc3RhdGljIGJpbmQ8VD4ob2JqZWN0OiBTdWJzY3JpYmFibGU8VD4pOiBCaW5kaW5nPFQ+XG5cbiAgICBzdGF0aWMgYmluZChlbWl0dGVyOiBDb25uZWN0YWJsZSB8IFN1YnNjcmliYWJsZSwgcHJvcD86IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmcoZW1pdHRlciwgcHJvcClcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGVtaXR0ZXI6IENvbm5lY3RhYmxlIHwgU3Vic2NyaWJhYmxlPFZhbHVlPiwgcHJvcD86IHN0cmluZykge1xuICAgICAgICB0aGlzLiNlbWl0dGVyID0gZW1pdHRlclxuICAgICAgICB0aGlzLiNwcm9wID0gcHJvcCAmJiBrZWJhYmlmeShwcm9wKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYEJpbmRpbmc8JHt0aGlzLiNlbWl0dGVyfSR7dGhpcy4jcHJvcCA/IGAsIFwiJHt0aGlzLiNwcm9wfVwiYCA6IFwiXCJ9PmBcbiAgICB9XG5cbiAgICBhczxUPihmbjogKHY6IFZhbHVlKSA9PiBUKTogQmluZGluZzxUPiB7XG4gICAgICAgIGNvbnN0IGJpbmQgPSBuZXcgQmluZGluZyh0aGlzLiNlbWl0dGVyLCB0aGlzLiNwcm9wKVxuICAgICAgICBiaW5kLnRyYW5zZm9ybUZuID0gKHY6IFZhbHVlKSA9PiBmbih0aGlzLnRyYW5zZm9ybUZuKHYpKVxuICAgICAgICByZXR1cm4gYmluZCBhcyB1bmtub3duIGFzIEJpbmRpbmc8VD5cbiAgICB9XG5cbiAgICBnZXQoKTogVmFsdWUge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuI2VtaXR0ZXIuZ2V0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Gbih0aGlzLiNlbWl0dGVyLmdldCgpKVxuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jcHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgZ2V0dGVyID0gYGdldF8ke3NuYWtlaWZ5KHRoaXMuI3Byb3ApfWBcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy4jZW1pdHRlcltnZXR0ZXJdID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtRm4odGhpcy4jZW1pdHRlcltnZXR0ZXJdKCkpXG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUZuKHRoaXMuI2VtaXR0ZXJbdGhpcy4jcHJvcF0pXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBFcnJvcihcImNhbiBub3QgZ2V0IHZhbHVlIG9mIGJpbmRpbmdcIilcbiAgICB9XG5cbiAgICBzdWJzY3JpYmUoY2FsbGJhY2s6ICh2YWx1ZTogVmFsdWUpID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiNlbWl0dGVyLnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jZW1pdHRlci5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZ2V0KCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLiNlbWl0dGVyLmNvbm5lY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gYG5vdGlmeTo6JHt0aGlzLiNwcm9wfWBcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy4jZW1pdHRlci5jb25uZWN0KHNpZ25hbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZ2V0KCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAodGhpcy4jZW1pdHRlci5kaXNjb25uZWN0IGFzIENvbm5lY3RhYmxlW1wiZGlzY29ubmVjdFwiXSkoaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7dGhpcy4jZW1pdHRlcn0gaXMgbm90IGJpbmRhYmxlYClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCB7IGJpbmQgfSA9IEJpbmRpbmdcbmV4cG9ydCBkZWZhdWx0IEJpbmRpbmdcbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5cbmV4cG9ydCB0eXBlIFRpbWUgPSBBc3RhbC5UaW1lXG5leHBvcnQgY29uc3QgVGltZSA9IEFzdGFsLlRpbWVcblxuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKGludGVydmFsOiBudW1iZXIsIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBBc3RhbC5UaW1lLmludGVydmFsKGludGVydmFsLCAoKSA9PiB2b2lkIGNhbGxiYWNrPy4oKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXQodGltZW91dDogbnVtYmVyLCBjYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gQXN0YWwuVGltZS50aW1lb3V0KHRpbWVvdXQsICgpID0+IHZvaWQgY2FsbGJhY2s/LigpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaWRsZShjYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gQXN0YWwuVGltZS5pZGxlKCgpID0+IHZvaWQgY2FsbGJhY2s/LigpKVxufVxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcblxudHlwZSBBcmdzID0ge1xuICAgIGNtZDogc3RyaW5nIHwgc3RyaW5nW11cbiAgICBvdXQ/OiAoc3Rkb3V0OiBzdHJpbmcpID0+IHZvaWRcbiAgICBlcnI/OiAoc3RkZXJyOiBzdHJpbmcpID0+IHZvaWRcbn1cblxuZXhwb3J0IHR5cGUgUHJvY2VzcyA9IEFzdGFsLlByb2Nlc3NcbmV4cG9ydCBjb25zdCBQcm9jZXNzID0gQXN0YWwuUHJvY2Vzc1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvY2VzcyhhcmdzOiBBcmdzKTogQXN0YWwuUHJvY2Vzc1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvY2VzcyhcbiAgICBjbWQ6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9uT3V0PzogKHN0ZG91dDogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uRXJyPzogKHN0ZGVycjogc3RyaW5nKSA9PiB2b2lkLFxuKTogQXN0YWwuUHJvY2Vzc1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvY2VzcyhcbiAgICBhcmdzT3JDbWQ6IEFyZ3MgfCBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICBvbk91dDogKHN0ZG91dDogc3RyaW5nKSA9PiB2b2lkID0gcHJpbnQsXG4gICAgb25FcnI6IChzdGRlcnI6IHN0cmluZykgPT4gdm9pZCA9IHByaW50ZXJyLFxuKSB7XG4gICAgY29uc3QgYXJncyA9IEFycmF5LmlzQXJyYXkoYXJnc09yQ21kKSB8fCB0eXBlb2YgYXJnc09yQ21kID09PSBcInN0cmluZ1wiXG4gICAgY29uc3QgeyBjbWQsIGVyciwgb3V0IH0gPSB7XG4gICAgICAgIGNtZDogYXJncyA/IGFyZ3NPckNtZCA6IGFyZ3NPckNtZC5jbWQsXG4gICAgICAgIGVycjogYXJncyA/IG9uRXJyIDogYXJnc09yQ21kLmVyciB8fCBvbkVycixcbiAgICAgICAgb3V0OiBhcmdzID8gb25PdXQgOiBhcmdzT3JDbWQub3V0IHx8IG9uT3V0LFxuICAgIH1cblxuICAgIGNvbnN0IHByb2MgPSBBcnJheS5pc0FycmF5KGNtZClcbiAgICAgICAgPyBBc3RhbC5Qcm9jZXNzLnN1YnByb2Nlc3N2KGNtZClcbiAgICAgICAgOiBBc3RhbC5Qcm9jZXNzLnN1YnByb2Nlc3MoY21kKVxuXG4gICAgcHJvYy5jb25uZWN0KFwic3Rkb3V0XCIsIChfLCBzdGRvdXQ6IHN0cmluZykgPT4gb3V0KHN0ZG91dCkpXG4gICAgcHJvYy5jb25uZWN0KFwic3RkZXJyXCIsIChfLCBzdGRlcnI6IHN0cmluZykgPT4gZXJyKHN0ZGVycikpXG4gICAgcmV0dXJuIHByb2Ncbn1cblxuLyoqIEB0aHJvd3Mge0dMaWIuRXJyb3J9IFRocm93cyBzdGRlcnIgKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjKGNtZDogc3RyaW5nIHwgc3RyaW5nW10pIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShjbWQpXG4gICAgICAgID8gQXN0YWwuUHJvY2Vzcy5leGVjdihjbWQpXG4gICAgICAgIDogQXN0YWwuUHJvY2Vzcy5leGVjKGNtZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWNBc3luYyhjbWQ6IHN0cmluZyB8IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbWQpKSB7XG4gICAgICAgICAgICBBc3RhbC5Qcm9jZXNzLmV4ZWNfYXN5bmN2KGNtZCwgKF8sIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQXN0YWwuUHJvY2Vzcy5leGVjX2FzeW5jdl9maW5pc2gocmVzKSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEFzdGFsLlByb2Nlc3MuZXhlY19hc3luYyhjbWQsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEFzdGFsLlByb2Nlc3MuZXhlY19maW5pc2gocmVzKSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pXG59XG4iLCAiaW1wb3J0IFZhcmlhYmxlIGZyb20gXCIuL3ZhcmlhYmxlLmpzXCJcbmltcG9ydCB7IGV4ZWNBc3luYyB9IGZyb20gXCIuL3Byb2Nlc3MuanNcIlxuaW1wb3J0IEJpbmRpbmcsIHsgQ29ubmVjdGFibGUsIGtlYmFiaWZ5LCBzbmFrZWlmeSwgU3Vic2NyaWJhYmxlIH0gZnJvbSBcIi4vYmluZGluZy5qc1wiXG5cbmV4cG9ydCBjb25zdCBub0ltcGxpY2l0RGVzdHJveSA9IFN5bWJvbChcIm5vIG5vIGltcGxpY2l0IGRlc3Ryb3lcIilcbmV4cG9ydCBjb25zdCBzZXRDaGlsZHJlbiA9IFN5bWJvbChcImNoaWxkcmVuIHNldHRlciBtZXRob2RcIilcblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQmluZGluZ3MoYXJyYXk6IGFueVtdKSB7XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVzKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIGxldCBpID0gMFxuICAgICAgICByZXR1cm4gYXJyYXkubWFwKHZhbHVlID0+IHZhbHVlIGluc3RhbmNlb2YgQmluZGluZ1xuICAgICAgICAgICAgPyBhcmdzW2krK11cbiAgICAgICAgICAgIDogdmFsdWUsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBiaW5kaW5ncyA9IGFycmF5LmZpbHRlcihpID0+IGkgaW5zdGFuY2VvZiBCaW5kaW5nKVxuXG4gICAgaWYgKGJpbmRpbmdzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGFycmF5XG5cbiAgICBpZiAoYmluZGluZ3MubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gYmluZGluZ3NbMF0uYXMoZ2V0VmFsdWVzKVxuXG4gICAgcmV0dXJuIFZhcmlhYmxlLmRlcml2ZShiaW5kaW5ncywgZ2V0VmFsdWVzKSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0ZXIgPSBgc2V0XyR7c25ha2VpZnkocHJvcCl9YFxuICAgICAgICBpZiAodHlwZW9mIG9ialtzZXR0ZXJdID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gb2JqW3NldHRlcl0odmFsdWUpXG5cbiAgICAgICAgcmV0dXJuIChvYmpbcHJvcF0gPSB2YWx1ZSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBjb3VsZCBub3Qgc2V0IHByb3BlcnR5IFwiJHtwcm9wfVwiIG9uICR7b2JqfTpgLCBlcnJvcilcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIEJpbmRhYmxlUHJvcHM8VD4gPSB7XG4gICAgW0sgaW4ga2V5b2YgVF06IEJpbmRpbmc8VFtLXT4gfCBUW0tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaG9vazxXaWRnZXQgZXh0ZW5kcyBDb25uZWN0YWJsZT4oXG4gICAgd2lkZ2V0OiBXaWRnZXQsXG4gICAgb2JqZWN0OiBDb25uZWN0YWJsZSB8IFN1YnNjcmliYWJsZSxcbiAgICBzaWduYWxPckNhbGxiYWNrOiBzdHJpbmcgfCAoKHNlbGY6IFdpZGdldCwgLi4uYXJnczogYW55W10pID0+IHZvaWQpLFxuICAgIGNhbGxiYWNrPzogKHNlbGY6IFdpZGdldCwgLi4uYXJnczogYW55W10pID0+IHZvaWQsXG4pIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdC5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgaWQgPSBvYmplY3QuY29ubmVjdChzaWduYWxPckNhbGxiYWNrLCAoXzogYW55LCAuLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh3aWRnZXQsIC4uLmFyZ3MpXG4gICAgICAgIH0pXG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAob2JqZWN0LmRpc2Nvbm5lY3QgYXMgQ29ubmVjdGFibGVbXCJkaXNjb25uZWN0XCJdKShpZClcbiAgICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3Quc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHNpZ25hbE9yQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB1bnN1YiA9IG9iamVjdC5zdWJzY3JpYmUoKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgICAgICAgICAgc2lnbmFsT3JDYWxsYmFjayh3aWRnZXQsIC4uLmFyZ3MpXG4gICAgICAgIH0pXG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCB1bnN1YilcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3Q8V2lkZ2V0IGV4dGVuZHMgQ29ubmVjdGFibGUgJiB7IFtzZXRDaGlsZHJlbl06IChjaGlsZHJlbjogYW55W10pID0+IHZvaWQgfT4od2lkZ2V0OiBXaWRnZXQsIGNvbmZpZzogYW55KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCB7IHNldHVwLCBjaGlsZCwgY2hpbGRyZW4gPSBbXSwgLi4ucHJvcHMgfSA9IGNvbmZpZ1xuXG4gICAgaWYgKGNoaWxkcmVuIGluc3RhbmNlb2YgQmluZGluZykge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl1cbiAgICB9XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgY2hpbGRyZW4udW5zaGlmdChjaGlsZClcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgdW5kZWZpbmVkIHZhbHVlc1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvbGxlY3QgYmluZGluZ3NcbiAgICBjb25zdCBiaW5kaW5nczogQXJyYXk8W3N0cmluZywgQmluZGluZzxhbnk+XT4gPSBPYmplY3RcbiAgICAgICAgLmtleXMocHJvcHMpXG4gICAgICAgIC5yZWR1Y2UoKGFjYzogYW55LCBwcm9wKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvcHNbcHJvcF0gaW5zdGFuY2VvZiBCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluZGluZyA9IHByb3BzW3Byb3BdXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW3Byb3BdXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFtwcm9wLCBiaW5kaW5nXV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NcbiAgICAgICAgfSwgW10pXG5cbiAgICAvLyBjb2xsZWN0IHNpZ25hbCBoYW5kbGVyc1xuICAgIGNvbnN0IG9uSGFuZGxlcnM6IEFycmF5PFtzdHJpbmcsIHN0cmluZyB8ICgoKSA9PiB1bmtub3duKV0+ID0gT2JqZWN0XG4gICAgICAgIC5rZXlzKHByb3BzKVxuICAgICAgICAucmVkdWNlKChhY2M6IGFueSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJvblwiKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZyA9IGtlYmFiaWZ5KGtleSkuc3BsaXQoXCItXCIpLnNsaWNlKDEpLmpvaW4oXCItXCIpXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHByb3BzW2tleV1cbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XVxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBbc2lnLCBoYW5kbGVyXV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NcbiAgICAgICAgfSwgW10pXG5cbiAgICAvLyBzZXQgY2hpbGRyZW5cbiAgICBjb25zdCBtZXJnZWRDaGlsZHJlbiA9IG1lcmdlQmluZGluZ3MoY2hpbGRyZW4uZmxhdChJbmZpbml0eSkpXG4gICAgaWYgKG1lcmdlZENoaWxkcmVuIGluc3RhbmNlb2YgQmluZGluZykge1xuICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKG1lcmdlZENoaWxkcmVuLmdldCgpKVxuICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgbWVyZ2VkQ2hpbGRyZW4uc3Vic2NyaWJlKCh2KSA9PiB7XG4gICAgICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKHYpXG4gICAgICAgIH0pKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtZXJnZWRDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKG1lcmdlZENoaWxkcmVuKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0dXAgc2lnbmFsIGhhbmRsZXJzXG4gICAgZm9yIChjb25zdCBbc2lnbmFsLCBjYWxsYmFja10gb2Ygb25IYW5kbGVycykge1xuICAgICAgICBjb25zdCBzaWcgPSBzaWduYWwuc3RhcnRzV2l0aChcIm5vdGlmeVwiKVxuICAgICAgICAgICAgPyBzaWduYWwucmVwbGFjZShcIi1cIiwgXCI6OlwiKVxuICAgICAgICAgICAgOiBzaWduYWxcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHdpZGdldC5jb25uZWN0KHNpZywgY2FsbGJhY2spXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWRnZXQuY29ubmVjdChzaWcsICgpID0+IGV4ZWNBc3luYyhjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAudGhlbihwcmludCkuY2F0Y2goY29uc29sZS5lcnJvcikpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXR1cCBiaW5kaW5ncyBoYW5kbGVyc1xuICAgIGZvciAoY29uc3QgW3Byb3AsIGJpbmRpbmddIG9mIGJpbmRpbmdzKSB7XG4gICAgICAgIGlmIChwcm9wID09PSBcImNoaWxkXCIgfHwgcHJvcCA9PT0gXCJjaGlsZHJlblwiKSB7XG4gICAgICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgYmluZGluZy5zdWJzY3JpYmUoKHY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHdpZGdldFtzZXRDaGlsZHJlbl0odilcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCBiaW5kaW5nLnN1YnNjcmliZSgodjogYW55KSA9PiB7XG4gICAgICAgICAgICBzZXRQcm9wKHdpZGdldCwgcHJvcCwgdilcbiAgICAgICAgfSkpXG4gICAgICAgIHNldFByb3Aod2lkZ2V0LCBwcm9wLCBiaW5kaW5nLmdldCgpKVxuICAgIH1cblxuICAgIC8vIGZpbHRlciB1bmRlZmluZWQgdmFsdWVzXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcHMpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbih3aWRnZXQsIHByb3BzKVxuICAgIHNldHVwPy4od2lkZ2V0KVxuICAgIHJldHVybiB3aWRnZXRcbn1cblxuZnVuY3Rpb24gaXNBcnJvd0Z1bmN0aW9uKGZ1bmM6IGFueSk6IGZ1bmMgaXMgKGFyZ3M6IGFueSkgPT4gYW55IHtcbiAgICByZXR1cm4gIU9iamVjdC5oYXNPd24oZnVuYywgXCJwcm90b3R5cGVcIilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpzeChcbiAgICBjdG9yczogUmVjb3JkPHN0cmluZywgeyBuZXcocHJvcHM6IGFueSk6IGFueSB9IHwgKChwcm9wczogYW55KSA9PiBhbnkpPixcbiAgICBjdG9yOiBzdHJpbmcgfCAoKHByb3BzOiBhbnkpID0+IGFueSkgfCB7IG5ldyhwcm9wczogYW55KTogYW55IH0sXG4gICAgeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogYW55LFxuKSB7XG4gICAgY2hpbGRyZW4gPz89IFtdXG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKVxuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl1cblxuICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKEJvb2xlYW4pXG5cbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxKVxuICAgICAgICBwcm9wcy5jaGlsZCA9IGNoaWxkcmVuWzBdXG4gICAgZWxzZSBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSlcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlblxuXG4gICAgaWYgKHR5cGVvZiBjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChpc0Fycm93RnVuY3Rpb24oY3RvcnNbY3Rvcl0pKVxuICAgICAgICAgICAgcmV0dXJuIGN0b3JzW2N0b3JdKHByb3BzKVxuXG4gICAgICAgIHJldHVybiBuZXcgY3RvcnNbY3Rvcl0ocHJvcHMpXG4gICAgfVxuXG4gICAgaWYgKGlzQXJyb3dGdW5jdGlvbihjdG9yKSlcbiAgICAgICAgcmV0dXJuIGN0b3IocHJvcHMpXG5cbiAgICByZXR1cm4gbmV3IGN0b3IocHJvcHMpXG59XG4iLCAiaW1wb3J0IHsgbm9JbXBsaWNpdERlc3Ryb3ksIHNldENoaWxkcmVuLCB0eXBlIEJpbmRhYmxlUHJvcHMsIGNvbnN0cnVjdCB9IGZyb20gXCIuLi9fYXN0YWwuanNcIlxuaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEdkayBmcm9tIFwiZ2k6Ly9HZGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEJpbmRpbmcgZnJvbSBcIi4uL2JpbmRpbmcuanNcIlxuXG5leHBvcnQgY29uc3QgdHlwZSA9IFN5bWJvbChcImNoaWxkIHR5cGVcIilcbmNvbnN0IGR1bW15QnVsZGVyID0gbmV3IEd0ay5CdWlsZGVyXG5cbmZ1bmN0aW9uIF9nZXRDaGlsZHJlbih3aWRnZXQ6IEd0ay5XaWRnZXQpOiBBcnJheTxHdGsuV2lkZ2V0PiB7XG4gICAgaWYgKFwiZ2V0X2NoaWxkXCIgaW4gd2lkZ2V0ICYmIHR5cGVvZiB3aWRnZXQuZ2V0X2NoaWxkID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gd2lkZ2V0LmdldF9jaGlsZCgpID8gW3dpZGdldC5nZXRfY2hpbGQoKV0gOiBbXVxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuOiBBcnJheTxHdGsuV2lkZ2V0PiA9IFtdXG4gICAgbGV0IGNoID0gd2lkZ2V0LmdldF9maXJzdF9jaGlsZCgpXG4gICAgd2hpbGUgKGNoICE9PSBudWxsKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2gpXG4gICAgICAgIGNoID0gY2guZ2V0X25leHRfc2libGluZygpXG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlblxufVxuXG5mdW5jdGlvbiBfc2V0Q2hpbGRyZW4od2lkZ2V0OiBHdGsuV2lkZ2V0LCBjaGlsZHJlbjogYW55W10pIHtcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZsYXQoSW5maW5pdHkpLm1hcChjaCA9PiBjaCBpbnN0YW5jZW9mIEd0ay5XaWRnZXRcbiAgICAgICAgPyBjaFxuICAgICAgICA6IG5ldyBHdGsuTGFiZWwoeyB2aXNpYmxlOiB0cnVlLCBsYWJlbDogU3RyaW5nKGNoKSB9KSlcblxuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICB3aWRnZXQudmZ1bmNfYWRkX2NoaWxkKFxuICAgICAgICAgICAgZHVtbXlCdWxkZXIsXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIHR5cGUgaW4gY2hpbGQgPyBjaGlsZFt0eXBlXSA6IG51bGwsXG4gICAgICAgIClcbiAgICB9XG59XG5cbnR5cGUgQ29uZmlnPFQgZXh0ZW5kcyBHdGsuV2lkZ2V0PiA9IHtcbiAgICBzZXRDaGlsZHJlbih3aWRnZXQ6IFQsIGNoaWxkcmVuOiBhbnlbXSk6IHZvaWRcbiAgICBnZXRDaGlsZHJlbih3aWRnZXQ6IFQpOiBBcnJheTxHdGsuV2lkZ2V0PlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc3RhbGlmeTxcbiAgICBXaWRnZXQgZXh0ZW5kcyBHdGsuV2lkZ2V0LFxuICAgIFByb3BzIGV4dGVuZHMgR3RrLldpZGdldC5Db25zdHJ1Y3RvclByb3BzID0gR3RrLldpZGdldC5Db25zdHJ1Y3RvclByb3BzLFxuICAgIFNpZ25hbHMgZXh0ZW5kcyBSZWNvcmQ8YG9uJHtzdHJpbmd9YCwgQXJyYXk8dW5rbm93bj4+ID0gUmVjb3JkPGBvbiR7c3RyaW5nfWAsIGFueVtdPixcbj4oY2xzOiB7IG5ldyguLi5hcmdzOiBhbnlbXSk6IFdpZGdldCB9LCBjb25maWc6IFBhcnRpYWw8Q29uZmlnPFdpZGdldD4+ID0ge30pIHtcbiAgICBPYmplY3QuYXNzaWduKGNscy5wcm90b3R5cGUsIHtcbiAgICAgICAgW3NldENoaWxkcmVuXShjaGlsZHJlbjogYW55W10pIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSB0aGlzIGFzIHVua25vd24gYXMgV2lkZ2V0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIChjb25maWcuZ2V0Q2hpbGRyZW4/Lih3KSB8fCBfZ2V0Q2hpbGRyZW4odykpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgR3RrLldpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC51bnBhcmVudCgpXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW4uaW5jbHVkZXMoY2hpbGQpICYmIG5vSW1wbGljaXREZXN0cm95IGluIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5ydW5fZGlzcG9zZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uZmlnLnNldENoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnNldENoaWxkcmVuKHcsIGNoaWxkcmVuKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfc2V0Q2hpbGRyZW4odywgY2hpbGRyZW4pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIFtjbHMubmFtZV06IChcbiAgICAgICAgICAgIHByb3BzOiBDb25zdHJ1Y3RQcm9wczxXaWRnZXQsIFByb3BzLCBTaWduYWxzPiA9IHt9LFxuICAgICAgICAgICAgLi4uY2hpbGRyZW46IGFueVtdXG4gICAgICAgICk6IFdpZGdldCA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aWRnZXQgPSBuZXcgY2xzKFwiY3NzTmFtZVwiIGluIHByb3BzID8geyBjc3NOYW1lOiBwcm9wcy5jc3NOYW1lIH0gOiB7fSlcblxuICAgICAgICAgICAgaWYgKFwiY3NzTmFtZVwiIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNzc05hbWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BzLm5vSW1wbGljaXREZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih3aWRnZXQsIHsgW25vSW1wbGljaXREZXN0cm95XTogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5ub0ltcGxpY2l0RGVzdHJveVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcHMudHlwZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24od2lkZ2V0LCB7IFt0eXBlXTogcHJvcHMudHlwZSB9KVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy50eXBlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwcm9wcywgeyBjaGlsZHJlbiB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0KHdpZGdldCBhcyBhbnksIHNldHVwQ29udHJvbGxlcnMod2lkZ2V0LCBwcm9wcyBhcyBhbnkpKVxuICAgICAgICB9LFxuICAgIH1bY2xzLm5hbWVdXG59XG5cbnR5cGUgU2lnSGFuZGxlcjxcbiAgICBXIGV4dGVuZHMgSW5zdGFuY2VUeXBlPHR5cGVvZiBHdGsuV2lkZ2V0PixcbiAgICBBcmdzIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4sXG4+ID0gKChzZWxmOiBXLCAuLi5hcmdzOiBBcmdzKSA9PiB1bmtub3duKSB8IHN0cmluZyB8IHN0cmluZ1tdXG5cbmV4cG9ydCB7IEJpbmRhYmxlUHJvcHMgfVxuZXhwb3J0IHR5cGUgQmluZGFibGVDaGlsZCA9IEd0ay5XaWRnZXQgfCBCaW5kaW5nPEd0ay5XaWRnZXQ+XG5cbmV4cG9ydCB0eXBlIENvbnN0cnVjdFByb3BzPFxuICAgIFNlbGYgZXh0ZW5kcyBJbnN0YW5jZVR5cGU8dHlwZW9mIEd0ay5XaWRnZXQ+LFxuICAgIFByb3BzIGV4dGVuZHMgR3RrLldpZGdldC5Db25zdHJ1Y3RvclByb3BzLFxuICAgIFNpZ25hbHMgZXh0ZW5kcyBSZWNvcmQ8YG9uJHtzdHJpbmd9YCwgQXJyYXk8dW5rbm93bj4+ID0gUmVjb3JkPGBvbiR7c3RyaW5nfWAsIGFueVtdPixcbj4gPSBQYXJ0aWFsPHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbid0IGFzc2lnbiB0byB1bmtub3duLCBidXQgaXQgd29ya3MgYXMgZXhwZWN0ZWQgdGhvdWdoXG4gICAgW1MgaW4ga2V5b2YgU2lnbmFsc106IFNpZ0hhbmRsZXI8U2VsZiwgU2lnbmFsc1tTXT5cbn0+ICYgUGFydGlhbDx7XG4gICAgW0tleSBpbiBgb24ke3N0cmluZ31gXTogU2lnSGFuZGxlcjxTZWxmLCBhbnlbXT5cbn0+ICYgUGFydGlhbDxCaW5kYWJsZVByb3BzPE9taXQ8UHJvcHMsIFwiY3NzTmFtZVwiIHwgXCJjc3NfbmFtZVwiPj4+ICYge1xuICAgIG5vSW1wbGljaXREZXN0cm95PzogdHJ1ZVxuICAgIHR5cGU/OiBzdHJpbmdcbiAgICBjc3NOYW1lPzogc3RyaW5nXG59ICYgRXZlbnRDb250cm9sbGVyPFNlbGY+ICYge1xuICAgIG9uRGVzdHJveT86IChzZWxmOiBTZWxmKSA9PiB1bmtub3duXG4gICAgc2V0dXA/OiAoc2VsZjogU2VsZikgPT4gdm9pZFxufVxuXG50eXBlIEV2ZW50Q29udHJvbGxlcjxTZWxmIGV4dGVuZHMgR3RrLldpZGdldD4gPSB7XG4gICAgb25Gb2N1c0VudGVyPzogKHNlbGY6IFNlbGYpID0+IHZvaWRcbiAgICBvbkZvY3VzTGVhdmU/OiAoc2VsZjogU2VsZikgPT4gdm9pZFxuXG4gICAgb25LZXlQcmVzc2VkPzogKHNlbGY6IFNlbGYsIGtleXZhbDogbnVtYmVyLCBrZXljb2RlOiBudW1iZXIsIHN0YXRlOiBHZGsuTW9kaWZpZXJUeXBlKSA9PiB2b2lkXG4gICAgb25LZXlSZWxlYXNlZD86IChzZWxmOiBTZWxmLCBrZXl2YWw6IG51bWJlciwga2V5Y29kZTogbnVtYmVyLCBzdGF0ZTogR2RrLk1vZGlmaWVyVHlwZSkgPT4gdm9pZFxuICAgIG9uS2V5TW9kaWZpZXI/OiAoc2VsZjogU2VsZiwgc3RhdGU6IEdkay5Nb2RpZmllclR5cGUpID0+IHZvaWRcblxuICAgIG9uTGVnYWN5PzogKHNlbGY6IFNlbGYsIGV2ZW50OiBHZGsuRXZlbnQpID0+IHZvaWRcbiAgICBvbkJ1dHRvblByZXNzZWQ/OiAoc2VsZjogU2VsZiwgc3RhdGU6IEdkay5CdXR0b25FdmVudCkgPT4gdm9pZFxuICAgIG9uQnV0dG9uUmVsZWFzZWQ/OiAoc2VsZjogU2VsZiwgc3RhdGU6IEdkay5CdXR0b25FdmVudCkgPT4gdm9pZFxuXG4gICAgb25Ib3ZlckVudGVyPzogKHNlbGY6IFNlbGYsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB2b2lkXG4gICAgb25Ib3ZlckxlYXZlPzogKHNlbGY6IFNlbGYpID0+IHZvaWRcbiAgICBvbk1vdGlvbj86IChzZWxmOiBTZWxmLCB4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gdm9pZFxuXG4gICAgb25TY3JvbGw/OiAoc2VsZjogU2VsZiwgZHg6IG51bWJlciwgZHk6IG51bWJlcikgPT4gdm9pZFxuICAgIG9uU2Nyb2xsRGVjZWxlcmF0ZT86IChzZWxmOiBTZWxmLCB2ZWxfeDogbnVtYmVyLCB2ZWxfeTogbnVtYmVyKSA9PiB2b2lkXG59XG5cbmZ1bmN0aW9uIHNldHVwQ29udHJvbGxlcnM8VD4od2lkZ2V0OiBHdGsuV2lkZ2V0LCB7XG4gICAgb25Gb2N1c0VudGVyLFxuICAgIG9uRm9jdXNMZWF2ZSxcbiAgICBvbktleVByZXNzZWQsXG4gICAgb25LZXlSZWxlYXNlZCxcbiAgICBvbktleU1vZGlmaWVyLFxuICAgIG9uTGVnYWN5LFxuICAgIG9uQnV0dG9uUHJlc3NlZCxcbiAgICBvbkJ1dHRvblJlbGVhc2VkLFxuICAgIG9uSG92ZXJFbnRlcixcbiAgICBvbkhvdmVyTGVhdmUsXG4gICAgb25Nb3Rpb24sXG4gICAgb25TY3JvbGwsXG4gICAgb25TY3JvbGxEZWNlbGVyYXRlLFxuICAgIC4uLnByb3BzXG59OiBFdmVudENvbnRyb2xsZXI8R3RrLldpZGdldD4gJiBUKSB7XG4gICAgaWYgKG9uRm9jdXNFbnRlciB8fCBvbkZvY3VzTGVhdmUpIHtcbiAgICAgICAgY29uc3QgZm9jdXMgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlckZvY3VzXG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihmb2N1cylcblxuICAgICAgICBpZiAob25Gb2N1c0VudGVyKVxuICAgICAgICAgICAgZm9jdXMuY29ubmVjdChcImVudGVyXCIsICgpID0+IG9uRm9jdXNFbnRlcih3aWRnZXQpKVxuXG4gICAgICAgIGlmIChvbkZvY3VzTGVhdmUpXG4gICAgICAgICAgICBmb2N1cy5jb25uZWN0KFwibGVhdmVcIiwgKCkgPT4gb25Gb2N1c0xlYXZlKHdpZGdldCkpXG4gICAgfVxuXG4gICAgaWYgKG9uS2V5UHJlc3NlZCB8fCBvbktleVJlbGVhc2VkIHx8IG9uS2V5TW9kaWZpZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmV3IEd0ay5FdmVudENvbnRyb2xsZXJLZXlcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKGtleSlcblxuICAgICAgICBpZiAob25LZXlQcmVzc2VkKVxuICAgICAgICAgICAga2V5LmNvbm5lY3QoXCJrZXktcHJlc3NlZFwiLCAoXywgdmFsLCBjb2RlLCBzdGF0ZSkgPT4gb25LZXlQcmVzc2VkKHdpZGdldCwgdmFsLCBjb2RlLCBzdGF0ZSkpXG5cbiAgICAgICAgaWYgKG9uS2V5UmVsZWFzZWQpXG4gICAgICAgICAgICBrZXkuY29ubmVjdChcImtleS1yZWxlYXNlZFwiLCAoXywgdmFsLCBjb2RlLCBzdGF0ZSkgPT4gb25LZXlSZWxlYXNlZCh3aWRnZXQsIHZhbCwgY29kZSwgc3RhdGUpKVxuXG4gICAgICAgIGlmIChvbktleU1vZGlmaWVyKVxuICAgICAgICAgICAga2V5LmNvbm5lY3QoXCJtb2RpZmllcnNcIiwgKF8sIHN0YXRlKSA9PiBvbktleU1vZGlmaWVyKHdpZGdldCwgc3RhdGUpKVxuICAgIH1cblxuICAgIGlmIChvbkxlZ2FjeSB8fCBvbkJ1dHRvblByZXNzZWQgfHwgb25CdXR0b25SZWxlYXNlZCkge1xuICAgICAgICBjb25zdCBsZWdhY3kgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlckxlZ2FjeVxuICAgICAgICB3aWRnZXQuYWRkX2NvbnRyb2xsZXIobGVnYWN5KVxuXG4gICAgICAgIGxlZ2FjeS5jb25uZWN0KFwiZXZlbnRcIiwgKF8sIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0X2V2ZW50X3R5cGUoKSA9PT0gR2RrLkV2ZW50VHlwZS5CVVRUT05fUFJFU1MpIHtcbiAgICAgICAgICAgICAgICBvbkJ1dHRvblByZXNzZWQ/Lih3aWRnZXQsIGV2ZW50IGFzIEdkay5CdXR0b25FdmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmdldF9ldmVudF90eXBlKCkgPT09IEdkay5FdmVudFR5cGUuQlVUVE9OX1JFTEVBU0UpIHtcbiAgICAgICAgICAgICAgICBvbkJ1dHRvblJlbGVhc2VkPy4od2lkZ2V0LCBldmVudCBhcyBHZGsuQnV0dG9uRXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uTGVnYWN5Py4od2lkZ2V0LCBldmVudClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAob25Nb3Rpb24gfHwgb25Ib3ZlckVudGVyIHx8IG9uSG92ZXJMZWF2ZSkge1xuICAgICAgICBjb25zdCBob3ZlciA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyTW90aW9uXG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihob3ZlcilcblxuICAgICAgICBpZiAob25Ib3ZlckVudGVyKVxuICAgICAgICAgICAgaG92ZXIuY29ubmVjdChcImVudGVyXCIsIChfLCB4LCB5KSA9PiBvbkhvdmVyRW50ZXIod2lkZ2V0LCB4LCB5KSlcblxuICAgICAgICBpZiAob25Ib3ZlckxlYXZlKVxuICAgICAgICAgICAgaG92ZXIuY29ubmVjdChcImxlYXZlXCIsICgpID0+IG9uSG92ZXJMZWF2ZSh3aWRnZXQpKVxuXG4gICAgICAgIGlmIChvbk1vdGlvbilcbiAgICAgICAgICAgIGhvdmVyLmNvbm5lY3QoXCJtb3Rpb25cIiwgKF8sIHgsIHkpID0+IG9uTW90aW9uKHdpZGdldCwgeCwgeSkpXG4gICAgfVxuXG4gICAgaWYgKG9uU2Nyb2xsIHx8IG9uU2Nyb2xsRGVjZWxlcmF0ZSkge1xuICAgICAgICBjb25zdCBzY3JvbGwgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlclNjcm9sbFxuICAgICAgICBzY3JvbGwuZmxhZ3MgPSBHdGsuRXZlbnRDb250cm9sbGVyU2Nyb2xsRmxhZ3MuQk9USF9BWEVTIHwgR3RrLkV2ZW50Q29udHJvbGxlclNjcm9sbEZsYWdzLktJTkVUSUNcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKHNjcm9sbClcblxuICAgICAgICBpZiAob25TY3JvbGwpXG4gICAgICAgICAgICBzY3JvbGwuY29ubmVjdChcInNjcm9sbFwiLCAoXywgeCwgeSkgPT4gb25TY3JvbGwod2lkZ2V0LCB4LCB5KSlcblxuICAgICAgICBpZiAob25TY3JvbGxEZWNlbGVyYXRlKVxuICAgICAgICAgICAgc2Nyb2xsLmNvbm5lY3QoXCJkZWNlbGVyYXRlXCIsIChfLCB4LCB5KSA9PiBvblNjcm9sbERlY2VsZXJhdGUod2lkZ2V0LCB4LCB5KSlcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHNcbn1cbiIsICJpbXBvcnQgR0xpYiBmcm9tIFwiZ2k6Ly9HTGliP3ZlcnNpb249Mi4wXCJcbmltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgeyBta0FwcCB9IGZyb20gXCIuLi9fYXBwXCJcblxuR3RrLmluaXQoKVxuXG4vLyBzdG9wIHRoaXMgZnJvbSBsZWFraW5nIGludG8gc3VicHJvY2Vzc2VzXG4vLyBhbmQgZ2lvIGxhdW5jaCBpbnZvY2F0aW9uc1xuR0xpYi51bnNldGVudihcIkxEX1BSRUxPQURcIilcblxuLy8gdXNlcnMgbWlnaHQgd2FudCB0byB1c2UgQWR3YWl0YSBpbiB3aGljaCBjYXNlIGl0IGhhcyB0byBiZSBpbml0aWFsaXplZFxuLy8gaXQgbWlnaHQgYmUgY29tbW9uIHBpdGZhbGwgdG8gZm9yZ2V0IGl0IGJlY2F1c2UgYEFwcGAgaXMgbm90IGBBZHcuQXBwbGljYXRpb25gXG5hd2FpdCBpbXBvcnQoXCJnaTovL0Fkdz92ZXJzaW9uPTFcIilcbiAgICAudGhlbigoeyBkZWZhdWx0OiBBZHcgfSkgPT4gQWR3LmluaXQoKSlcbiAgICAuY2F0Y2goKCkgPT4gdm9pZCAwKVxuXG5leHBvcnQgZGVmYXVsdCBta0FwcChBc3RhbC5BcHBsaWNhdGlvbilcbiIsICIvKipcbiAqIFdvcmthcm91bmQgZm9yIFwiQ2FuJ3QgY29udmVydCBub24tbnVsbCBwb2ludGVyIHRvIEpTIHZhbHVlIFwiXG4gKi9cblxuZXhwb3J0IHsgfVxuXG5jb25zdCBzbmFrZWlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDFfJDJcIilcbiAgICAucmVwbGFjZUFsbChcIi1cIiwgXCJfXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxuYXN5bmMgZnVuY3Rpb24gc3VwcHJlc3M8VD4obW9kOiBQcm9taXNlPHsgZGVmYXVsdDogVCB9PiwgcGF0Y2g6IChtOiBUKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIG1vZC50aGVuKG0gPT4gcGF0Y2gobS5kZWZhdWx0KSkuY2F0Y2goKCkgPT4gdm9pZCAwKVxufVxuXG5mdW5jdGlvbiBwYXRjaDxQIGV4dGVuZHMgb2JqZWN0Pihwcm90bzogUCwgcHJvcDogRXh0cmFjdDxrZXlvZiBQLCBzdHJpbmc+KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBwcm9wLCB7XG4gICAgICAgIGdldCgpIHsgcmV0dXJuIHRoaXNbYGdldF8ke3NuYWtlaWZ5KHByb3ApfWBdKCkgfSxcbiAgICB9KVxufVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsQXBwc1wiKSwgKHsgQXBwcywgQXBwbGljYXRpb24gfSkgPT4ge1xuICAgIHBhdGNoKEFwcHMucHJvdG90eXBlLCBcImxpc3RcIilcbiAgICBwYXRjaChBcHBsaWNhdGlvbi5wcm90b3R5cGUsIFwia2V5d29yZHNcIilcbiAgICBwYXRjaChBcHBsaWNhdGlvbi5wcm90b3R5cGUsIFwiY2F0ZWdvcmllc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbEJhdHRlcnlcIiksICh7IFVQb3dlciB9KSA9PiB7XG4gICAgcGF0Y2goVVBvd2VyLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsQmx1ZXRvb3RoXCIpLCAoeyBBZGFwdGVyLCBCbHVldG9vdGgsIERldmljZSB9KSA9PiB7XG4gICAgcGF0Y2goQWRhcHRlci5wcm90b3R5cGUsIFwidXVpZHNcIilcbiAgICBwYXRjaChCbHVldG9vdGgucHJvdG90eXBlLCBcImFkYXB0ZXJzXCIpXG4gICAgcGF0Y2goQmx1ZXRvb3RoLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJ1dWlkc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbENhdmFcIiksICh7IENhdmEgfSkgPT4ge1xuICAgIHBhdGNoKENhdmEucHJvdG90eXBlLCBcInZhbHVlc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kXCIpLCAoeyBIeXBybGFuZCwgTW9uaXRvciwgV29ya3NwYWNlIH0pID0+IHtcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwiYmluZHNcIilcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwibW9uaXRvcnNcIilcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwid29ya3NwYWNlc1wiKVxuICAgIHBhdGNoKEh5cHJsYW5kLnByb3RvdHlwZSwgXCJjbGllbnRzXCIpXG4gICAgcGF0Y2goTW9uaXRvci5wcm90b3R5cGUsIFwiYXZhaWxhYmxlTW9kZXNcIilcbiAgICBwYXRjaChNb25pdG9yLnByb3RvdHlwZSwgXCJhdmFpbGFibGVfbW9kZXNcIilcbiAgICBwYXRjaChXb3Jrc3BhY2UucHJvdG90eXBlLCBcImNsaWVudHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxNcHJpc1wiKSwgKHsgTXByaXMsIFBsYXllciB9KSA9PiB7XG4gICAgcGF0Y2goTXByaXMucHJvdG90eXBlLCBcInBsYXllcnNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcInN1cHBvcnRlZF91cmlfc2NoZW1lc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwic3VwcG9ydGVkVXJpU2NoZW1lc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwic3VwcG9ydGVkX21pbWVfdHlwZXNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcInN1cHBvcnRlZE1pbWVUeXBlc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwiY29tbWVudHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxOZXR3b3JrXCIpLCAoeyBXaWZpIH0pID0+IHtcbiAgICBwYXRjaChXaWZpLnByb3RvdHlwZSwgXCJhY2Nlc3NfcG9pbnRzXCIpXG4gICAgcGF0Y2goV2lmaS5wcm90b3R5cGUsIFwiYWNjZXNzUG9pbnRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsTm90aWZkXCIpLCAoeyBOb3RpZmQsIE5vdGlmaWNhdGlvbiB9KSA9PiB7XG4gICAgcGF0Y2goTm90aWZkLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIpXG4gICAgcGF0Y2goTm90aWZpY2F0aW9uLnByb3RvdHlwZSwgXCJhY3Rpb25zXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsUG93ZXJQcm9maWxlc1wiKSwgKHsgUG93ZXJQcm9maWxlcyB9KSA9PiB7XG4gICAgcGF0Y2goUG93ZXJQcm9maWxlcy5wcm90b3R5cGUsIFwiYWN0aW9uc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbFJpdmVyXCIpLCAoeyBSaXZlciB9KSA9PiB7XG4gIHBhdGNoKFJpdmVyLnByb3RvdHlwZSwgXCJvdXRwdXRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsVHJheVwiKSwgKHsgVHJheSB9KSA9PiB7XG4gIHBhdGNoKFRyYXkucHJvdG90eXBlLCBcIml0ZW1zXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsV3BcIiksICh7IFdwLCBBdWRpbywgVmlkZW8sIE5vZGUsIEVuZHBvaW50LCBEZXZpY2UgfSkgPT4ge1xuICAgIHBhdGNoKFdwLnByb3RvdHlwZSwgXCJub2Rlc1wiKVxuICAgIHBhdGNoKFdwLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcInN0cmVhbXNcIilcbiAgICBwYXRjaChBdWRpby5wcm90b3R5cGUsIFwicmVjb3JkZXJzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcIm1pY3JvcGhvbmVzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcInNwZWFrZXJzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcImRldmljZXNcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwic3RyZWFtc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJyZWNvcmRlcnNcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwic2lua3NcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwic291cmNlc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goRW5kcG9pbnQucHJvdG90eXBlLCBcInJvdXRlc1wiKVxuICAgIHBhdGNoKE5vZGUucHJvdG90eXBlLCBcImNoYW5uZWxzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJwcm9maWxlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwicm91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJpbnB1dF9yb3V0ZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcImlucHV0Um91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJvdXRwdXRfcm91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJvdXRwdXRSb3V0ZXNcIilcbn0pXG4iLCAiaW1wb3J0IFwiLi9vdmVycmlkZXMuanNcIlxuaW1wb3J0IHsgc2V0Q29uc29sZUxvZ0RvbWFpbiB9IGZyb20gXCJjb25zb2xlXCJcbmltcG9ydCB7IGV4aXQsIHByb2dyYW1BcmdzIH0gZnJvbSBcInN5c3RlbVwiXG5pbXBvcnQgSU8gZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5pbXBvcnQgR09iamVjdCBmcm9tIFwiZ2k6Ly9HT2JqZWN0XCJcbmltcG9ydCBHaW8gZnJvbSBcImdpOi8vR2lvP3ZlcnNpb249Mi4wXCJcbmltcG9ydCB0eXBlIEFzdGFsMyBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTMuMFwiXG5pbXBvcnQgdHlwZSBBc3RhbDQgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj00LjBcIlxuXG50eXBlIENvbmZpZyA9IFBhcnRpYWw8e1xuICAgIGluc3RhbmNlTmFtZTogc3RyaW5nXG4gICAgY3NzOiBzdHJpbmdcbiAgICBpY29uczogc3RyaW5nXG4gICAgZ3RrVGhlbWU6IHN0cmluZ1xuICAgIGljb25UaGVtZTogc3RyaW5nXG4gICAgY3Vyc29yVGhlbWU6IHN0cmluZ1xuICAgIGhvbGQ6IGJvb2xlYW5cbiAgICByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0OiBzdHJpbmcsIHJlczogKHJlc3BvbnNlOiBhbnkpID0+IHZvaWQpOiB2b2lkXG4gICAgbWFpbiguLi5hcmdzOiBzdHJpbmdbXSk6IHZvaWRcbiAgICBjbGllbnQobWVzc2FnZTogKG1zZzogc3RyaW5nKSA9PiBzdHJpbmcsIC4uLmFyZ3M6IHN0cmluZ1tdKTogdm9pZFxufT5cblxuaW50ZXJmYWNlIEFzdGFsM0pTIGV4dGVuZHMgQXN0YWwzLkFwcGxpY2F0aW9uIHtcbiAgICBldmFsKGJvZHk6IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIHJlcXVlc3RIYW5kbGVyOiBDb25maWdbXCJyZXF1ZXN0SGFuZGxlclwiXVxuICAgIGFwcGx5X2NzcyhzdHlsZTogc3RyaW5nLCByZXNldD86IGJvb2xlYW4pOiB2b2lkXG4gICAgcXVpdChjb2RlPzogbnVtYmVyKTogdm9pZFxuICAgIHN0YXJ0KGNvbmZpZz86IENvbmZpZyk6IHZvaWRcbn1cblxuaW50ZXJmYWNlIEFzdGFsNEpTIGV4dGVuZHMgQXN0YWw0LkFwcGxpY2F0aW9uIHtcbiAgICBldmFsKGJvZHk6IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIHJlcXVlc3RIYW5kbGVyPzogQ29uZmlnW1wicmVxdWVzdEhhbmRsZXJcIl1cbiAgICBhcHBseV9jc3Moc3R5bGU6IHN0cmluZywgcmVzZXQ/OiBib29sZWFuKTogdm9pZFxuICAgIHF1aXQoY29kZT86IG51bWJlcik6IHZvaWRcbiAgICBzdGFydChjb25maWc/OiBDb25maWcpOiB2b2lkXG59XG5cbnR5cGUgQXBwMyA9IHR5cGVvZiBBc3RhbDMuQXBwbGljYXRpb25cbnR5cGUgQXBwNCA9IHR5cGVvZiBBc3RhbDQuQXBwbGljYXRpb25cblxuZXhwb3J0IGZ1bmN0aW9uIG1rQXBwPEFwcCBleHRlbmRzIEFwcDM+KEFwcDogQXBwKTogQXN0YWwzSlNcbmV4cG9ydCBmdW5jdGlvbiBta0FwcDxBcHAgZXh0ZW5kcyBBcHA0PihBcHA6IEFwcCk6IEFzdGFsNEpTXG5cbmV4cG9ydCBmdW5jdGlvbiBta0FwcChBcHA6IEFwcDMgfCBBcHA0KSB7XG4gICAgcmV0dXJuIG5ldyAoY2xhc3MgQXN0YWxKUyBleHRlbmRzIEFwcCB7XG4gICAgICAgIHN0YXRpYyB7IEdPYmplY3QucmVnaXN0ZXJDbGFzcyh7IEdUeXBlTmFtZTogXCJBc3RhbEpTXCIgfSwgdGhpcyBhcyBhbnkpIH1cblxuICAgICAgICBldmFsKGJvZHk6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSBGdW5jdGlvbihgcmV0dXJuIChhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR7Ym9keS5pbmNsdWRlcyhcIjtcIikgPyBib2R5IDogYHJldHVybiAke2JvZHl9O2B9XG4gICAgICAgICAgICAgICAgICAgIH0pYClcbiAgICAgICAgICAgICAgICAgICAgZm4oKSgpLnRoZW4ocmVzKS5jYXRjaChyZWopXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqKGVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0SGFuZGxlcj86IENvbmZpZ1tcInJlcXVlc3RIYW5kbGVyXCJdXG5cbiAgICAgICAgdmZ1bmNfcmVxdWVzdChtc2c6IHN0cmluZywgY29ubjogR2lvLlNvY2tldENvbm5lY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXF1ZXN0SGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SGFuZGxlcihtc2csIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBJTy53cml0ZV9zb2NrKGNvbm4sIFN0cmluZyhyZXNwb25zZSksIChfLCByZXMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBJTy53cml0ZV9zb2NrX2ZpbmlzaChyZXMpLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VwZXIudmZ1bmNfcmVxdWVzdChtc2csIGNvbm4pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhcHBseV9jc3Moc3R5bGU6IHN0cmluZywgcmVzZXQgPSBmYWxzZSkge1xuICAgICAgICAgICAgc3VwZXIuYXBwbHlfY3NzKHN0eWxlLCByZXNldClcbiAgICAgICAgfVxuXG4gICAgICAgIHF1aXQoY29kZT86IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgc3VwZXIucXVpdCgpXG4gICAgICAgICAgICBleGl0KGNvZGUgPz8gMClcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0KHsgcmVxdWVzdEhhbmRsZXIsIGNzcywgaG9sZCwgbWFpbiwgY2xpZW50LCBpY29ucywgLi4uY2ZnIH06IENvbmZpZyA9IHt9KSB7XG4gICAgICAgICAgICBjb25zdCBhcHAgPSB0aGlzIGFzIHVua25vd24gYXMgSW5zdGFuY2VUeXBlPEFwcDMgfCBBcHA0PlxuXG4gICAgICAgICAgICBjbGllbnQgPz89ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwcmludChgQXN0YWwgaW5zdGFuY2UgXCIke2FwcC5pbnN0YW5jZU5hbWV9XCIgYWxyZWFkeSBydW5uaW5nYClcbiAgICAgICAgICAgICAgICBleGl0KDEpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgY2ZnKVxuICAgICAgICAgICAgc2V0Q29uc29sZUxvZ0RvbWFpbihhcHAuaW5zdGFuY2VOYW1lKVxuXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RIYW5kbGVyID0gcmVxdWVzdEhhbmRsZXJcbiAgICAgICAgICAgIGFwcC5jb25uZWN0KFwiYWN0aXZhdGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1haW4/LiguLi5wcm9ncmFtQXJncylcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXBwLmFjcXVpcmVfc29ja2V0KClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudChtc2cgPT4gSU8uc2VuZF9yZXF1ZXN0KGFwcC5pbnN0YW5jZU5hbWUsIG1zZykhLCAuLi5wcm9ncmFtQXJncylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5X2Nzcyhjc3MsIGZhbHNlKVxuXG4gICAgICAgICAgICBpZiAoaWNvbnMpXG4gICAgICAgICAgICAgICAgYXBwLmFkZF9pY29ucyhpY29ucylcblxuICAgICAgICAgICAgaG9sZCA/Pz0gdHJ1ZVxuICAgICAgICAgICAgaWYgKGhvbGQpXG4gICAgICAgICAgICAgICAgYXBwLmhvbGQoKVxuXG4gICAgICAgICAgICBhcHAucnVuQXN5bmMoW10pXG4gICAgICAgIH1cbiAgICB9KVxufVxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgR3RrIGZyb20gXCJnaTovL0d0az92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgYXN0YWxpZnksIHsgdHlwZSwgdHlwZSBDb25zdHJ1Y3RQcm9wcyB9IGZyb20gXCIuL2FzdGFsaWZ5LmpzXCJcblxuZnVuY3Rpb24gZmlsdGVyKGNoaWxkcmVuOiBhbnlbXSkge1xuICAgIHJldHVybiBjaGlsZHJlbi5mbGF0KEluZmluaXR5KS5tYXAoY2ggPT4gY2ggaW5zdGFuY2VvZiBHdGsuV2lkZ2V0XG4gICAgICAgID8gY2hcbiAgICAgICAgOiBuZXcgR3RrLkxhYmVsKHsgdmlzaWJsZTogdHJ1ZSwgbGFiZWw6IFN0cmluZyhjaCkgfSkpXG59XG5cbi8vIEJveFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFzdGFsLkJveC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgIGdldCgpIHsgcmV0dXJuIHRoaXMuZ2V0X2NoaWxkcmVuKCkgfSxcbiAgICBzZXQodikgeyB0aGlzLnNldF9jaGlsZHJlbih2KSB9LFxufSlcblxuZXhwb3J0IHR5cGUgQm94UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxBc3RhbC5Cb3gsIEFzdGFsLkJveC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IEJveCA9IGFzdGFsaWZ5PEFzdGFsLkJveCwgQXN0YWwuQm94LkNvbnN0cnVjdG9yUHJvcHM+KEFzdGFsLkJveCwge1xuICAgIGdldENoaWxkcmVuKHNlbGYpIHsgcmV0dXJuIHNlbGYuZ2V0X2NoaWxkcmVuKCkgfSxcbiAgICBzZXRDaGlsZHJlbihzZWxmLCBjaGlsZHJlbikgeyByZXR1cm4gc2VsZi5zZXRfY2hpbGRyZW4oZmlsdGVyKGNoaWxkcmVuKSkgfSxcbn0pXG5cbi8vIEJ1dHRvblxudHlwZSBCdXR0b25TaWduYWxzID0ge1xuICAgIG9uQ2xpY2tlZDogW11cbn1cblxuZXhwb3J0IHR5cGUgQnV0dG9uUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuQnV0dG9uLCBHdGsuQnV0dG9uLkNvbnN0cnVjdG9yUHJvcHMsIEJ1dHRvblNpZ25hbHM+XG5leHBvcnQgY29uc3QgQnV0dG9uID0gYXN0YWxpZnk8R3RrLkJ1dHRvbiwgR3RrLkJ1dHRvbi5Db25zdHJ1Y3RvclByb3BzLCBCdXR0b25TaWduYWxzPihHdGsuQnV0dG9uKVxuXG4vLyBDZW50ZXJCb3hcbmV4cG9ydCB0eXBlIENlbnRlckJveFByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkNlbnRlckJveCwgR3RrLkNlbnRlckJveC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IENlbnRlckJveCA9IGFzdGFsaWZ5PEd0ay5DZW50ZXJCb3gsIEd0ay5DZW50ZXJCb3guQ29uc3RydWN0b3JQcm9wcz4oR3RrLkNlbnRlckJveCwge1xuICAgIGdldENoaWxkcmVuKGJveCkge1xuICAgICAgICByZXR1cm4gW2JveC5zdGFydFdpZGdldCwgYm94LmNlbnRlcldpZGdldCwgYm94LmVuZFdpZGdldF1cbiAgICB9LFxuICAgIHNldENoaWxkcmVuKGJveCwgY2hpbGRyZW4pIHtcbiAgICAgICAgY29uc3QgY2ggPSBmaWx0ZXIoY2hpbGRyZW4pXG4gICAgICAgIGJveC5zdGFydFdpZGdldCA9IGNoWzBdIHx8IG5ldyBHdGsuQm94XG4gICAgICAgIGJveC5jZW50ZXJXaWRnZXQgPSBjaFsxXSB8fCBuZXcgR3RrLkJveFxuICAgICAgICBib3guZW5kV2lkZ2V0ID0gY2hbMl0gfHwgbmV3IEd0ay5Cb3hcbiAgICB9LFxufSlcblxuLy8gVE9ETzogQ2lyY3VsYXJQcm9ncmVzc1xuLy8gVE9ETzogRHJhd2luZ0FyZWFcblxuLy8gRW50cnlcbnR5cGUgRW50cnlTaWduYWxzID0ge1xuICAgIG9uQWN0aXZhdGU6IFtdXG4gICAgb25Ob3RpZnlUZXh0OiBbXVxufVxuXG5leHBvcnQgdHlwZSBFbnRyeVByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkVudHJ5LCBHdGsuRW50cnkuQ29uc3RydWN0b3JQcm9wcywgRW50cnlTaWduYWxzPlxuZXhwb3J0IGNvbnN0IEVudHJ5ID0gYXN0YWxpZnk8R3RrLkVudHJ5LCBHdGsuRW50cnkuQ29uc3RydWN0b3JQcm9wcywgRW50cnlTaWduYWxzPihHdGsuRW50cnksIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBJbWFnZVxuZXhwb3J0IHR5cGUgSW1hZ2VQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5JbWFnZSwgR3RrLkltYWdlLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgSW1hZ2UgPSBhc3RhbGlmeTxHdGsuSW1hZ2UsIEd0ay5JbWFnZS5Db25zdHJ1Y3RvclByb3BzPihHdGsuSW1hZ2UsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBMYWJlbFxuZXhwb3J0IHR5cGUgTGFiZWxQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5MYWJlbCwgR3RrLkxhYmVsLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgTGFiZWwgPSBhc3RhbGlmeTxHdGsuTGFiZWwsIEd0ay5MYWJlbC5Db25zdHJ1Y3RvclByb3BzPihHdGsuTGFiZWwsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHsgc2VsZi5sYWJlbCA9IFN0cmluZyhjaGlsZHJlbikgfSxcbn0pXG5cbi8vIExldmVsQmFyXG5leHBvcnQgdHlwZSBMZXZlbEJhclByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkxldmVsQmFyLCBHdGsuTGV2ZWxCYXIuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBMZXZlbEJhciA9IGFzdGFsaWZ5PEd0ay5MZXZlbEJhciwgR3RrLkxldmVsQmFyLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5MZXZlbEJhciwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIFRPRE86IExpc3RCb3hcblxuLy8gT3ZlcmxheVxuZXhwb3J0IHR5cGUgT3ZlcmxheVByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLk92ZXJsYXksIEd0ay5PdmVybGF5LkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgT3ZlcmxheSA9IGFzdGFsaWZ5PEd0ay5PdmVybGF5LCBHdGsuT3ZlcmxheS5Db25zdHJ1Y3RvclByb3BzPihHdGsuT3ZlcmxheSwge1xuICAgIGdldENoaWxkcmVuKHNlbGYpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW46IEFycmF5PEd0ay5XaWRnZXQ+ID0gW11cbiAgICAgICAgbGV0IGNoID0gc2VsZi5nZXRfZmlyc3RfY2hpbGQoKVxuICAgICAgICB3aGlsZSAoY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2gpXG4gICAgICAgICAgICBjaCA9IGNoLmdldF9uZXh0X3NpYmxpbmcoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuLmZpbHRlcihjaCA9PiBjaCAhPT0gc2VsZi5jaGlsZClcbiAgICB9LFxuICAgIHNldENoaWxkcmVuKHNlbGYsIGNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmlsdGVyKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZXMgPSB0eXBlIGluIGNoaWxkXG4gICAgICAgICAgICAgICAgPyAoY2hpbGRbdHlwZV0gYXMgc3RyaW5nKS5zcGxpdCgvXFxzKy8pXG4gICAgICAgICAgICAgICAgOiBbXVxuXG4gICAgICAgICAgICBpZiAodHlwZXMuaW5jbHVkZXMoXCJvdmVybGF5XCIpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRfb3ZlcmxheShjaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfY2hpbGQoY2hpbGQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuc2V0X21lYXN1cmVfb3ZlcmxheShjaGlsZCwgdHlwZXMuaW5jbHVkZXMoXCJtZWFzdXJlXCIpKVxuICAgICAgICAgICAgc2VsZi5zZXRfY2xpcF9vdmVybGF5KGNoaWxkLCB0eXBlcy5pbmNsdWRlcyhcImNsaXBcIikpXG4gICAgICAgIH1cbiAgICB9LFxufSlcblxuLy8gUmV2ZWFsZXJcbmV4cG9ydCB0eXBlIFJldmVhbGVyUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuUmV2ZWFsZXIsIEd0ay5SZXZlYWxlci5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFJldmVhbGVyID0gYXN0YWxpZnk8R3RrLlJldmVhbGVyLCBHdGsuUmV2ZWFsZXIuQ29uc3RydWN0b3JQcm9wcz4oR3RrLlJldmVhbGVyKVxuXG4vLyBTbGlkZXJcbnR5cGUgU2xpZGVyU2lnbmFscyA9IHtcbiAgICBvbkNoYW5nZVZhbHVlOiBbXVxufVxuXG5leHBvcnQgdHlwZSBTbGlkZXJQcm9wcyA9IENvbnN0cnVjdFByb3BzPEFzdGFsLlNsaWRlciwgQXN0YWwuU2xpZGVyLkNvbnN0cnVjdG9yUHJvcHMsIFNsaWRlclNpZ25hbHM+XG5leHBvcnQgY29uc3QgU2xpZGVyID0gYXN0YWxpZnk8QXN0YWwuU2xpZGVyLCBBc3RhbC5TbGlkZXIuQ29uc3RydWN0b3JQcm9wcywgU2xpZGVyU2lnbmFscz4oQXN0YWwuU2xpZGVyLCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxufSlcblxuLy8gU3RhY2tcbmV4cG9ydCB0eXBlIFN0YWNrUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuU3RhY2ssIEd0ay5TdGFjay5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFN0YWNrID0gYXN0YWxpZnk8R3RrLlN0YWNrLCBHdGsuU3RhY2suQ29uc3RydWN0b3JQcm9wcz4oR3RrLlN0YWNrLCB7XG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmaWx0ZXIoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQubmFtZSAhPSBcIlwiICYmIGNoaWxkLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkX25hbWVkKGNoaWxkLCBjaGlsZC5uYW1lKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZF9jaGlsZChjaGlsZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59KVxuXG4vLyBTd2l0Y2hcbmV4cG9ydCB0eXBlIFN3aXRjaFByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLlN3aXRjaCwgR3RrLlN3aXRjaC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFN3aXRjaCA9IGFzdGFsaWZ5PEd0ay5Td2l0Y2gsIEd0ay5Td2l0Y2guQ29uc3RydWN0b3JQcm9wcz4oR3RrLlN3aXRjaCwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIFdpbmRvd1xuZXhwb3J0IHR5cGUgV2luZG93UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxBc3RhbC5XaW5kb3csIEFzdGFsLldpbmRvdy5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFdpbmRvdyA9IGFzdGFsaWZ5PEFzdGFsLldpbmRvdywgQXN0YWwuV2luZG93LkNvbnN0cnVjdG9yUHJvcHM+KEFzdGFsLldpbmRvdylcblxuLy8gTWVudUJ1dHRvblxuZXhwb3J0IHR5cGUgTWVudUJ1dHRvblByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLk1lbnVCdXR0b24sIEd0ay5NZW51QnV0dG9uLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgTWVudUJ1dHRvbiA9IGFzdGFsaWZ5PEd0ay5NZW51QnV0dG9uLCBHdGsuTWVudUJ1dHRvbi5Db25zdHJ1Y3RvclByb3BzPihHdGsuTWVudUJ1dHRvbiwge1xuICAgIGdldENoaWxkcmVuKHNlbGYpIHsgcmV0dXJuIFtzZWxmLnBvcG92ZXIsIHNlbGYuY2hpbGRdIH0sXG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmaWx0ZXIoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBHdGsuUG9wb3Zlcikge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X3BvcG92ZXIoY2hpbGQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2NoaWxkKGNoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbn0pXG5cbi8vIFBvcG9wZXJcbmV4cG9ydCB0eXBlIFBvcG92ZXJQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5Qb3BvdmVyLCBHdGsuUG9wb3Zlci5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFBvcG92ZXIgPSBhc3RhbGlmeTxHdGsuUG9wb3ZlciwgR3RrLlBvcG92ZXIuQ29uc3RydWN0b3JQcm9wcz4oR3RrLlBvcG92ZXIpXG4iLCAiLyogQ2F0cHB1Y2NpbiBtb2NoYSBjb2xvcnMgKi9cbi5NZWRpYSAuTXByaXNJbmZvLCAuV29ya3NwYWNlcywgLkNsaWVudHMsIC5BdWRpb0NvbnRyb2wsIC5DcHVVc2FnZSwgLkJhdHRlcnksIC5NZW1vcnlVc2FnZSwgLlRpbWUge1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBwYWRkaW5nOiAycHggNHB4O1xuICBtYXJnaW46IDJweCA0cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMThweDtcbn1cbi5NZWRpYSAuTXByaXNJbmZvICosIC5Xb3Jrc3BhY2VzICosIC5DbGllbnRzICosIC5BdWRpb0NvbnRyb2wgKiwgLkNwdVVzYWdlICosIC5CYXR0ZXJ5ICosIC5NZW1vcnlVc2FnZSAqLCAuVGltZSAqIHtcbiAgbWFyZ2luOiAwcHggMnB4O1xufVxuXG4uVGltZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDksIDUwLCA2OCwgMC42KTtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgbWFyZ2luOiA0cHg7XG59XG5cbi5NZW1vcnlVc2FnZSB7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG4gIGNvbG9yOiAjZmFiMzg3O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuLk1lbW9yeVVzYWdlOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogI2ZhYjM4NztcbiAgY29sb3I6ICMxZTFlMmU7XG59XG5cbi5CYXR0ZXJ5IHtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbn1cbi5CYXR0ZXJ5IC5CYXR0ZXJ5SWNvbiwgLkJhdHRlcnkgLkJhdHRlcnlMYWJlbCB7XG4gIGNvbG9yOiAjYjRiZWZlO1xufVxuXG4uQmF0dGVyeUNyaXRpY2FsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzOGJhODtcbn1cbi5CYXR0ZXJ5Q3JpdGljYWwgLkJhdHRlcnlJY29uLCAuQmF0dGVyeUNyaXRpY2FsIC5CYXR0ZXJ5VXNhZ2VMYWJlbCB7XG4gIGNvbG9yOiAjMTExMTFiO1xufVxuXG4uQ3B1VXNhZ2Uge1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBjb2xvcjogI2E2ZTNhMTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cbi5DcHVVc2FnZTpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICNhNmUzYTE7XG4gIGNvbG9yOiAjMWUxZTJlO1xufVxuXG4uQXVkaW9Db250cm9sIHtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgYmFja2dyb3VuZDogbm9uZTtcbn1cbi5BdWRpb0NvbnRyb2wgKiB7XG4gIGNvbG9yOiAjY2RkNmY0O1xufVxuLkF1ZGlvQ29udHJvbDpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICM4OWI0ZmE7XG59XG4uQXVkaW9Db250cm9sOmhvdmVyICoge1xuICBjb2xvcjogIzFlMWUyZTtcbn1cblxuLkNsaWVudHMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE3LCAxNywgMjcsIDAuOCk7XG4gIHRyYW5zaXRpb246IGFsbCAwLjI1cyBlYXNlO1xufVxuLkNsaWVudHM6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEzNywgMTgwLCAyNTAsIDAuOCk7XG59XG4uQ2xpZW50czpob3ZlciAuQ2xpZW50IHtcbiAgY29sb3I6ICMxMTExMWI7XG59XG4uQ2xpZW50cyAuQ2xpZW50c1BvcG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ5LCA1MCwgNjgsIDAuOCk7XG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gIHBhZGRpbmc6IDZweDtcbn1cbi5DbGllbnRzIC5DbGllbnRzUG9wb3ZlciAuQ2xpZW50RW50cnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDY5LCA3MSwgOTAsIDAuOCk7XG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gIHBhZGRpbmc6IDRweDtcbiAgbWFyZ2luOiAycHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjI1cyBlYXNlO1xufVxuLkNsaWVudHMgLkNsaWVudHNQb3BvdmVyIC5DbGllbnRFbnRyeTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTM3LCAxODAsIDI1MCwgMC44KTtcbiAgY29sb3I6ICM0NTQ3NWE7XG59XG5cbi5Xb3Jrc3BhY2VzIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0OSwgNTAsIDY4LCAwLjgpO1xuICBwYWRkaW5nOiAycHggNHB4O1xuICBtYXJnaW46IDJweDtcbiAgYm9yZGVyLXJhZGl1czogMThweDtcbn1cbi5Xb3Jrc3BhY2VzIC5Xb3Jrc3BhY2UsIC5Xb3Jrc3BhY2VzIC5Xb3Jrc3BhY2VQb3BvdmVySXRlbSwgLldvcmtzcGFjZXMgLk1vcmVXb3Jrc3BhY2VzQnV0dG9uIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTcsIDE3LCAyNywgMC44KTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMnB4O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICBtaW4td2lkdGg6IDI0cHg7XG4gIG1pbi1oZWlnaHQ6IDI0cHg7XG59XG4uV29ya3NwYWNlcyAuTW9yZVdvcmtzcGFjZXNCdXR0b24ge1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBiYWNrZ3JvdW5kOiBub25lO1xufVxuLldvcmtzcGFjZXMgLk1vcmVXb3Jrc3BhY2VzQnV0dG9uICoge1xuICBjb2xvcjogI2NkZDZmNDtcbn1cbi5Xb3Jrc3BhY2VzIC5Nb3JlV29ya3NwYWNlc0J1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICM4OWI0ZmE7XG59XG4uV29ya3NwYWNlcyAuTW9yZVdvcmtzcGFjZXNCdXR0b246aG92ZXIgKiB7XG4gIGNvbG9yOiAjMWUxZTJlO1xufVxuLldvcmtzcGFjZXMgLkFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTM3LCAxODAsIDI1MCwgMC45KTtcbiAgY29sb3I6ICMxMTExMWI7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG59XG4uV29ya3NwYWNlcyAuSW5hY3RpdmUge1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xufVxuLldvcmtzcGFjZXMgLkluYWN0aXZlOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzcsIDE4MCwgMjUwLCAwLjYpO1xuICBjb2xvcjogIzExMTExYjtcbn1cbi5Xb3Jrc3BhY2VzIC5JbmFjdGl2ZTpmb2N1cyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTM3LCAxODAsIDI1MCwgMC40KTtcbn1cbi5Xb3Jrc3BhY2VzIC5Xb3Jrc3BhY2VQb3BvdmVyIHtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgcGFkZGluZzogNnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ5LCA1MCwgNjgsIDAuOTUpO1xuICBtYXJnaW46IDJweDtcbn1cblxuLlRyYXlJdGVtIHtcbiAgcGFkZGluZzogMnB4IDRweDtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgbWFyZ2luOiAycHg7XG4gIC1ndGstaWNvbi1zaXplOiAxOHB4O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXMgZWFzZTtcbn1cbi5UcmF5SXRlbTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTM3LCAxODAsIDI1MCwgMC44KTtcbiAgY29sb3I6ICMxMTExMWI7XG59XG4uVHJheUl0ZW06YWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzcsIDE4MCwgMjUwLCAwLjYpO1xuICBjb2xvcjogIzExMTExYjtcbn1cbi5UcmF5SXRlbSBwb3BvdmVyLm1lbnUge1xuICBtYXJnaW46IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzMTMyNDQ7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG4uVHJheUl0ZW0gcG9wb3Zlci5tZW51IG1vZGVsYnV0dG9uIHtcbiAgcGFkZGluZzogMnB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIG1hcmdpbjogMCAycHg7XG59XG4uVHJheUl0ZW0gcG9wb3Zlci5tZW51IG1vZGVsYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSg2OSwgNzEsIDkwLCAwLjIpO1xufVxuLlRyYXlJdGVtIHBvcG92ZXIubWVudSBtb2RlbGJ1dHRvbjphY3RpdmUge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDY5LCA3MSwgOTAsIDAuNCk7XG59XG5cbi5NZWRpYSAuTXByaXNJbmZvIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0OSwgNTAsIDY4LCAwLjgpO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4yNXMgZWFzZTtcbn1cbi5NZWRpYSAuTXByaXNJbmZvOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzcsIDE4MCwgMjUwLCAwLjgpO1xuICBjb2xvcjogIzExMTExYjtcbn1cbi5NZWRpYSAuTXByaXNQbGF5ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE3LCAxNywgMjcsIDAuNik7XG59XG4uTWVkaWEgLk1wcmlzUGxheWVyIC5DYXZhLCAuTWVkaWEgLk1wcmlzUGxheWVyIC5DYXZhID4gKiB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgY29sb3I6IHJnYmEoMTM3LCAxODAsIDI1MCwgMC44KTtcbn1cbi5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8ge1xuICBwYWRkaW5nOiAxNnB4O1xufVxuLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuSW5mbyB7XG4gIG1hcmdpbi1sZWZ0OiAxMnB4O1xufVxuLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuSW5mbyAuVGl0bGUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGNvbG9yOiAjY2RkNmY0O1xufVxuLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuSW5mbyAuQXJ0aXN0IHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBjb2xvcjogcmdiYSgyMDUsIDIxNCwgMjQ0LCAwLjcpO1xufVxuLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuSW5mbyAuQWxidW0ge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiByZ2JhKDIwNSwgMjE0LCAyNDQsIDAuNSk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cbi5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8gLkxvd2VyUGFydCB7XG4gIG1hcmdpbi10b3A6IDEycHg7XG4gIHBhZGRpbmc6IDEycHg7XG59XG4uTWVkaWEgLk1wcmlzUGxheWVyIC5QbGF5ZXJJbmZvIC5Mb3dlclBhcnQgLlBsYXllclNsaWRlciB7XG4gIHBhZGRpbmc6IDRweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNywgMTcsIDI3LCAwLjgpO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDE0cHg7XG4gIG1hcmdpbjogNXB4O1xufVxuLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuTG93ZXJQYXJ0IC5QbGF5ZXJTbGlkZXIgLlNsaWRlciB7XG4gIG1pbi13aWR0aDogMTYwcHg7XG4gIG1pbi1oZWlnaHQ6IDFweDtcbn1cbi5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8gLkxvd2VyUGFydCAuUGxheWVyU2xpZGVyIC5TbGlkZXIgaGlnaGxpZ2h0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzg5YjRmYTtcbn1cbi5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8gLkxvd2VyUGFydCAuUGxheWVyU2xpZGVyIC5UaW1lTGFiZWwge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgZm9udC1zaXplOiAwLjllbTtcbiAgb3BhY2l0eTogMC44O1xuICBtaW4td2lkdGg6IDQwcHg7XG59XG4uTWVkaWEgLk1wcmlzUGxheWVyIC5QbGF5ZXJJbmZvIC5Mb3dlclBhcnQgLkNvbnRyb2xsZXJzIC5QcmV2aW91cywgLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuTG93ZXJQYXJ0IC5Db250cm9sbGVycyAuUGxheVBhdXNlLCAuTWVkaWEgLk1wcmlzUGxheWVyIC5QbGF5ZXJJbmZvIC5Mb3dlclBhcnQgLkNvbnRyb2xsZXJzIC5OZXh0IHtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMjVzIGVhc2U7XG4gIG1hcmdpbjogNHB4O1xuICBiYWNrZ3JvdW5kOiAjMWUxZTJlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbn1cbi5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8gLkxvd2VyUGFydCAuQ29udHJvbGxlcnMgLlByZXZpb3VzIGltYWdlLCAuTWVkaWEgLk1wcmlzUGxheWVyIC5QbGF5ZXJJbmZvIC5Mb3dlclBhcnQgLkNvbnRyb2xsZXJzIC5QbGF5UGF1c2UgaW1hZ2UsIC5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8gLkxvd2VyUGFydCAuQ29udHJvbGxlcnMgLk5leHQgaW1hZ2Uge1xuICBtYXJnaW46IDEycHg7XG4gIGNvbG9yOiAjODliNGZhO1xufVxuLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuTG93ZXJQYXJ0IC5Db250cm9sbGVycyAuUHJldmlvdXM6aG92ZXIsIC5NZWRpYSAuTXByaXNQbGF5ZXIgLlBsYXllckluZm8gLkxvd2VyUGFydCAuQ29udHJvbGxlcnMgLlBsYXlQYXVzZTpob3ZlciwgLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuTG93ZXJQYXJ0IC5Db250cm9sbGVycyAuTmV4dDpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICM4OWI0ZmE7XG59XG4uTWVkaWEgLk1wcmlzUGxheWVyIC5QbGF5ZXJJbmZvIC5Mb3dlclBhcnQgLkNvbnRyb2xsZXJzIC5QcmV2aW91czpob3ZlciBpbWFnZSwgLk1lZGlhIC5NcHJpc1BsYXllciAuUGxheWVySW5mbyAuTG93ZXJQYXJ0IC5Db250cm9sbGVycyAuUGxheVBhdXNlOmhvdmVyIGltYWdlLCAuTWVkaWEgLk1wcmlzUGxheWVyIC5QbGF5ZXJJbmZvIC5Mb3dlclBhcnQgLkNvbnRyb2xsZXJzIC5OZXh0OmhvdmVyIGltYWdlIHtcbiAgY29sb3I6ICMxZTFlMmU7XG59XG5cbi8qIFJlc2V0dGluZyBldmVyeSBkZWNvcmF0aW9uIGFwcGxpZWQgZWFybGllciAqL1xuKiB7XG4gIGZvbnQtZmFtaWx5OiBcIk1vbm9zcGFjZVwiO1xuICBmb250LXNpemU6IDE2cHg7XG4gIC1ndGstaWNvbi1zaXplOiAyNHB4O1xuICBjb2xvcjogI2NkZDZmNDtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3gtc2hhZG93OiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5CYXIge1xuICBiYWNrZ3JvdW5kOiAjMWUxZTJlO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBtYXJnaW46IDRweCA2cHg7XG4gIHBhZGRpbmc6IDFweDtcbn0iLCAiaW1wb3J0IEFzdGFsQmF0dGVyeSBmcm9tIFwiZ2k6Ly9Bc3RhbEJhdHRlcnlcIlxuaW1wb3J0IHsgVmFyaWFibGUsIGJpbmQgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IEdUb3AgZnJvbSBcImdpOi8vR1RvcD92ZXJzaW9uPTIuMFwiO1xuXG5jb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiBgJHtNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKX1oJHtNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCl9bWA7XG5cbmNvbnN0IFBPTExfSU5URVJWQUwgPSAzMDAwO1xuY29uc3QgY3B1ID0gbmV3IEdUb3AuZ2xpYnRvcF9jcHUoKTtcbmNvbnN0IG1lbSA9IG5ldyBHVG9wLmdsaWJ0b3BfbWVtKCk7XG5jb25zdCBiYXR0ZXJ5ID0gQXN0YWxCYXR0ZXJ5LmdldF9kZWZhdWx0KCk7XG5cbmNvbnN0IGNwdURhdGEgPSB7XG4gICAgcHJldjogeyB1c2VyOiAwLCBzeXM6IDAsIHRvdGFsOiAwIH0sXG4gICAgZGlmZjogeyB1c2VyOiAwLCBzeXM6IDAsIHRvdGFsOiAwIH1cbn07XG5cbkdUb3AuZ2xpYnRvcF9nZXRfY3B1KGNwdSk7XG5jcHVEYXRhLnByZXYudXNlciA9IGNwdS51c2VyO1xuY3B1RGF0YS5wcmV2LnN5cyA9IGNwdS5zeXM7XG5jcHVEYXRhLnByZXYudG90YWwgPSBjcHUudG90YWw7XG5cbmNvbnN0IGNhbGN1bGF0ZU1ldHJpY3MgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJldlVzZXIgPSBjcHVEYXRhLnByZXYudXNlcjtcbiAgICAgICAgY29uc3QgcHJldlN5cyA9IGNwdURhdGEucHJldi5zeXM7XG4gICAgICAgIGNvbnN0IHByZXZUb3RhbCA9IGNwdURhdGEucHJldi50b3RhbDtcblxuICAgICAgICBHVG9wLmdsaWJ0b3BfZ2V0X2NwdShjcHUpO1xuICAgICAgICBHVG9wLmdsaWJ0b3BfZ2V0X21lbShtZW0pO1xuXG4gICAgICAgIGNwdURhdGEuZGlmZi51c2VyID0gY3B1LnVzZXIgLSBwcmV2VXNlcjtcbiAgICAgICAgY3B1RGF0YS5kaWZmLnN5cyA9IGNwdS5zeXMgLSBwcmV2U3lzO1xuICAgICAgICBjcHVEYXRhLmRpZmYudG90YWwgPSBjcHUudG90YWwgLSBwcmV2VG90YWw7XG5cbiAgICAgICAgY3B1RGF0YS5wcmV2LnVzZXIgPSBjcHUudXNlcjtcbiAgICAgICAgY3B1RGF0YS5wcmV2LnN5cyA9IGNwdS5zeXM7XG4gICAgICAgIGNwdURhdGEucHJldi50b3RhbCA9IGNwdS50b3RhbDtcblxuICAgICAgICBjb25zdCBjcHVQZXJjZW50ID0gY3B1RGF0YS5kaWZmLnRvdGFsID4gMFxuICAgICAgICAgICAgPyBNYXRoLnJvdW5kKCgoY3B1RGF0YS5kaWZmLnVzZXIgKyBjcHVEYXRhLmRpZmYuc3lzKSAvIGNwdURhdGEuZGlmZi50b3RhbCkgKiAxMDApXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIGNvbnN0IG1lbVBlcmNlbnQgPSBtZW0udG90YWwgPiAwXG4gICAgICAgICAgICA/IE1hdGgucm91bmQoKG1lbS51c2VyIC8gbWVtLnRvdGFsKSAqIDEwMClcbiAgICAgICAgICAgIDogMDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3B1OiBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGNwdVBlcmNlbnQpKSxcbiAgICAgICAgICAgIG1lbTogTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBtZW1QZXJjZW50KSlcbiAgICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvIGFvIG9idGVyIG1cdTAwRTl0cmljYXMgZG8gc2lzdGVtYTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBjcHU6IDAsIG1lbTogMCB9O1xuICAgIH1cbn07XG5cbmNvbnN0IG1ldHJpY3MgPSBWYXJpYWJsZSh7IGNwdTogMCwgbWVtOiAwIH0pLnBvbGwoUE9MTF9JTlRFUlZBTCwgY2FsY3VsYXRlTWV0cmljcyk7XG5cbmNvbnN0IENwdVVzYWdlID0gKCkgPT4gKFxuICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJDcHVVc2FnZVwiXX0gbGFiZWw9e2JpbmQobWV0cmljcykuYXMobSA9PiBgQ1BVOiAke20uY3B1fSVgKX0gLz5cbik7XG5cbmNvbnN0IE1lbW9yeVVzYWdlID0gKCkgPT4gKFxuICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJNZW1vcnlVc2FnZVwiXX0gbGFiZWw9e2JpbmQobWV0cmljcykuYXMobSA9PiBgTUVNOiAke20ubWVtfSVgKX0gLz5cbik7XG5cbmxldCBiYXR0ZXJ5SGFuZGxlcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbmNvbnN0IEJhdHRlcnkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQmF0dGVyeVwiXX1cbiAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtiaW5kKGJhdHRlcnksIFwiY2hhcmdpbmdcIikuYXMoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2hhcmdpbmcgPSBiYXR0ZXJ5LmdldF9jaGFyZ2luZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gaXNDaGFyZ2luZyA/IGJhdHRlcnkudGltZV90b19mdWxsIDogYmF0dGVyeS50aW1lX3RvX2VtcHR5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBpc0NoYXJnaW5nID8gXCJDYXJyZWdhbmRvXCIgOiBcIkRlc2NhcnJlZ2FuZG9cIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2FjdGlvbn06ICR7Zm9ybWF0VGltZSh0aW1lUmVtYWluaW5nKX0gcmVzdGFudGUocylgO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbmZvcm1hXHUwMEU3XHUwMEY1ZXMgZGEgYmF0ZXJpYSBpbmRpc3Bvblx1MDBFRHZlaXNcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChiYXR0ZXJ5SGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBiYXR0ZXJ5LmRpc2Nvbm5lY3QoYmF0dGVyeUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJhdHRlcnlIYW5kbGVyID0gYmF0dGVyeS5jb25uZWN0KFwibm90aWZ5OjpjaGFyZ2luZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NyaXRpY2FsID0gYmF0dGVyeS5wZXJjZW50YWdlIDw9IDAuMiAmJiAhYmF0dGVyeS5jaGFyZ2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzQ3JpdGljYWwpIHNlbGYuYWRkX2Nzc19jbGFzcyhcIkJhdHRlcnlDcml0aWNhbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHNlbGYucmVtb3ZlX2Nzc19jbGFzcyhcIkJhdHRlcnlDcml0aWNhbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm8gYW8gdmVyaWZpY2FyIHN0YXR1cyBkYSBiYXRlcmlhOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkRlc3Ryb3k9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYmF0dGVyeUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0dGVyeS5kaXNjb25uZWN0KGJhdHRlcnlIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgYmF0dGVyeUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxpbWFnZSBjc3NDbGFzc2VzPXtbXCJCYXR0ZXJ5SWNvblwiXX0gaWNvbk5hbWU9e2JpbmQoYmF0dGVyeSwgXCJpY29uTmFtZVwiKX0gLz5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhdHRlcnlVc2FnZUxhYmVsXCJdfVxuICAgICAgICAgICAgICAgIGxhYmVsPXtiaW5kKGJhdHRlcnksIFwicGVyY2VudGFnZVwiKS5hcyhwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcCAqIDEwMCkpKX0lYDtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIwJVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2JveD5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3lzdGVtTW9uaXRvcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJTeXN0ZW1Nb25pdG9yXCJdfVxuICAgICAgICAgICAgb25EZXN0cm95PXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWV0cmljcy5kcm9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJhdHRlcnlIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdHRlcnkuZGlzY29ubmVjdChiYXR0ZXJ5SGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIGJhdHRlcnlIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8Q3B1VXNhZ2UgLz5cbiAgICAgICAgICAgIDxNZW1vcnlVc2FnZSAvPlxuICAgICAgICAgICAgPEJhdHRlcnkgLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgXCIuL292ZXJyaWRlcy5qc1wiXG5leHBvcnQgeyBkZWZhdWx0IGFzIEFzdGFsSU8gfSBmcm9tIFwiZ2k6Ly9Bc3RhbElPP3ZlcnNpb249MC4xXCJcbmV4cG9ydCAqIGZyb20gXCIuL3Byb2Nlc3MuanNcIlxuZXhwb3J0ICogZnJvbSBcIi4vdGltZS5qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9maWxlLmpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL2dvYmplY3QuanNcIlxuZXhwb3J0IHsgQmluZGluZywgYmluZCB9IGZyb20gXCIuL2JpbmRpbmcuanNcIlxuZXhwb3J0IHsgVmFyaWFibGUsIGRlcml2ZSB9IGZyb20gXCIuL3ZhcmlhYmxlLmpzXCJcbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5pbXBvcnQgR2lvIGZyb20gXCJnaTovL0dpbz92ZXJzaW9uPTIuMFwiXG5cbmV4cG9ydCB7IEdpbyB9XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmlsZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBBc3RhbC5yZWFkX2ZpbGUocGF0aCkgfHwgXCJcIlxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpbGVBc3luYyhwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIEFzdGFsLnJlYWRfZmlsZV9hc3luYyhwYXRoLCAoXywgcmVzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoQXN0YWwucmVhZF9maWxlX2ZpbmlzaChyZXMpIHx8IFwiXCIpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVGaWxlKHBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgQXN0YWwud3JpdGVfZmlsZShwYXRoLCBjb250ZW50KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVGaWxlQXN5bmMocGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBBc3RhbC53cml0ZV9maWxlX2FzeW5jKHBhdGgsIGNvbnRlbnQsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShBc3RhbC53cml0ZV9maWxlX2ZpbmlzaChyZXMpKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vbml0b3JGaWxlKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBjYWxsYmFjazogKGZpbGU6IHN0cmluZywgZXZlbnQ6IEdpby5GaWxlTW9uaXRvckV2ZW50KSA9PiB2b2lkLFxuKTogR2lvLkZpbGVNb25pdG9yIHtcbiAgICByZXR1cm4gQXN0YWwubW9uaXRvcl9maWxlKHBhdGgsIChmaWxlOiBzdHJpbmcsIGV2ZW50OiBHaW8uRmlsZU1vbml0b3JFdmVudCkgPT4ge1xuICAgICAgICBjYWxsYmFjayhmaWxlLCBldmVudClcbiAgICB9KSFcbn1cbiIsICJpbXBvcnQgR09iamVjdCBmcm9tIFwiZ2k6Ly9HT2JqZWN0XCJcblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBHTGliIH0gZnJvbSBcImdpOi8vR0xpYj92ZXJzaW9uPTIuMFwiXG5leHBvcnQgeyBHT2JqZWN0LCBHT2JqZWN0IGFzIGRlZmF1bHQgfVxuXG5jb25zdCBtZXRhID0gU3ltYm9sKFwibWV0YVwiKVxuY29uc3QgcHJpdiA9IFN5bWJvbChcInByaXZcIilcblxuY29uc3QgeyBQYXJhbVNwZWMsIFBhcmFtRmxhZ3MgfSA9IEdPYmplY3RcblxuY29uc3Qga2ViYWJpZnkgPSAoc3RyOiBzdHJpbmcpID0+IHN0clxuICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpXG4gICAgLnJlcGxhY2VBbGwoXCJfXCIsIFwiLVwiKVxuICAgIC50b0xvd2VyQ2FzZSgpXG5cbnR5cGUgU2lnbmFsRGVjbGFyYXRpb24gPSB7XG4gICAgZmxhZ3M/OiBHT2JqZWN0LlNpZ25hbEZsYWdzXG4gICAgYWNjdW11bGF0b3I/OiBHT2JqZWN0LkFjY3VtdWxhdG9yVHlwZVxuICAgIHJldHVybl90eXBlPzogR09iamVjdC5HVHlwZVxuICAgIHBhcmFtX3R5cGVzPzogQXJyYXk8R09iamVjdC5HVHlwZT5cbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uID1cbiAgICB8IEluc3RhbmNlVHlwZTx0eXBlb2YgR09iamVjdC5QYXJhbVNwZWM+XG4gICAgfCB7ICRndHlwZTogR09iamVjdC5HVHlwZSB9XG4gICAgfCB0eXBlb2YgU3RyaW5nXG4gICAgfCB0eXBlb2YgTnVtYmVyXG4gICAgfCB0eXBlb2YgQm9vbGVhblxuICAgIHwgdHlwZW9mIE9iamVjdFxuXG50eXBlIEdPYmplY3RDb25zdHJ1Y3RvciA9IHtcbiAgICBbbWV0YV0/OiB7XG4gICAgICAgIFByb3BlcnRpZXM/OiB7IFtrZXk6IHN0cmluZ106IEdPYmplY3QuUGFyYW1TcGVjIH1cbiAgICAgICAgU2lnbmFscz86IHsgW2tleTogc3RyaW5nXTogR09iamVjdC5TaWduYWxEZWZpbml0aW9uIH1cbiAgICB9XG4gICAgbmV3KC4uLmFyZ3M6IGFueVtdKTogYW55XG59XG5cbnR5cGUgTWV0YUluZm8gPSBHT2JqZWN0Lk1ldGFJbmZvPG5ldmVyLCBBcnJheTx7ICRndHlwZTogR09iamVjdC5HVHlwZSB9PiwgbmV2ZXI+XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihvcHRpb25zOiBNZXRhSW5mbyA9IHt9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjbHM6IEdPYmplY3RDb25zdHJ1Y3Rvcikge1xuICAgICAgICBjb25zdCB0ID0gb3B0aW9ucy5UZW1wbGF0ZVxuICAgICAgICBpZiAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIgJiYgIXQuc3RhcnRzV2l0aChcInJlc291cmNlOi8vXCIpICYmICF0LnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpKSB7XG4gICAgICAgICAgICAvLyBhc3N1bWUgeG1sIHRlbXBsYXRlXG4gICAgICAgICAgICBvcHRpb25zLlRlbXBsYXRlID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpXG4gICAgICAgIH1cblxuICAgICAgICBHT2JqZWN0LnJlZ2lzdGVyQ2xhc3Moe1xuICAgICAgICAgICAgU2lnbmFsczogeyAuLi5jbHNbbWV0YV0/LlNpZ25hbHMgfSxcbiAgICAgICAgICAgIFByb3BlcnRpZXM6IHsgLi4uY2xzW21ldGFdPy5Qcm9wZXJ0aWVzIH0sXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9LCBjbHMpXG5cbiAgICAgICAgZGVsZXRlIGNsc1ttZXRhXVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KGRlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gT2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcDogYW55LCBkZXNjPzogUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXSA/Pz0ge31cbiAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdLlByb3BlcnRpZXMgPz89IHt9XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IGtlYmFiaWZ5KHByb3ApXG5cbiAgICAgICAgaWYgKCFkZXNjKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcml2XT8uW3Byb3BdID8/IGRlZmF1bHRWYWx1ZShkZWNsYXJhdGlvbilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2OiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgIT09IHRoaXNbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJpdl0gPz89IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3ByaXZdW3Byb3BdID0gdlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkobmFtZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgc2V0XyR7bmFtZS5yZXBsYWNlKFwiLVwiLCBcIl9cIil9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlKHY6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BdID0gdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgZ2V0XyR7bmFtZS5yZXBsYWNlKFwiLVwiLCBcIl9cIil9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcm9wXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uUHJvcGVydGllc1trZWJhYmlmeShwcm9wKV0gPSBwc3BlYyhuYW1lLCBQYXJhbUZsYWdzLlJFQURXUklURSwgZGVjbGFyYXRpb24pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSAwXG4gICAgICAgICAgICBpZiAoZGVzYy5nZXQpIGZsYWdzIHw9IFBhcmFtRmxhZ3MuUkVBREFCTEVcbiAgICAgICAgICAgIGlmIChkZXNjLnNldCkgZmxhZ3MgfD0gUGFyYW1GbGFncy5XUklUQUJMRVxuXG4gICAgICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uUHJvcGVydGllc1trZWJhYmlmeShwcm9wKV0gPSBwc3BlYyhuYW1lLCBmbGFncywgZGVjbGFyYXRpb24pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoLi4ucGFyYW1zOiBBcnJheTx7ICRndHlwZTogR09iamVjdC5HVHlwZSB9IHwgdHlwZW9mIE9iamVjdD4pOlxuKHRhcmdldDogYW55LCBzaWduYWw6IGFueSwgZGVzYz86IFByb3BlcnR5RGVzY3JpcHRvcikgPT4gdm9pZFxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbmFsKGRlY2xhcmF0aW9uPzogU2lnbmFsRGVjbGFyYXRpb24pOlxuKHRhcmdldDogYW55LCBzaWduYWw6IGFueSwgZGVzYz86IFByb3BlcnR5RGVzY3JpcHRvcikgPT4gdm9pZFxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbmFsKFxuICAgIGRlY2xhcmF0aW9uPzogU2lnbmFsRGVjbGFyYXRpb24gfCB7ICRndHlwZTogR09iamVjdC5HVHlwZSB9IHwgdHlwZW9mIE9iamVjdCxcbiAgICAuLi5wYXJhbXM6IEFycmF5PHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0gfCB0eXBlb2YgT2JqZWN0PlxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgc2lnbmFsOiBhbnksIGRlc2M/OiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdID8/PSB7fVxuICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uU2lnbmFscyA/Pz0ge31cblxuICAgICAgICBjb25zdCBuYW1lID0ga2ViYWJpZnkoc2lnbmFsKVxuXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbiB8fCBwYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiB0eXBlIGFzc2VydFxuICAgICAgICAgICAgY29uc3QgYXJyID0gW2RlY2xhcmF0aW9uLCAuLi5wYXJhbXNdLm1hcCh2ID0+IHYuJGd0eXBlKVxuICAgICAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdLlNpZ25hbHNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgcGFyYW1fdHlwZXM6IGFycixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5TaWduYWxzW25hbWVdID0gZGVjbGFyYXRpb24gfHwge1xuICAgICAgICAgICAgICAgIHBhcmFtX3R5cGVzOiBbXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVzYykge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgc2lnbmFsLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQobmFtZSwgLi4uYXJncylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9nOiAoKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSA9IGRlc2MudmFsdWVcbiAgICAgICAgICAgIGRlc2MudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG5vdCB0eXBlZFxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChuYW1lLCAuLi5hcmdzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYG9uXyR7bmFtZS5yZXBsYWNlKFwiLVwiLCBcIl9cIil9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9nLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBzcGVjKG5hbWU6IHN0cmluZywgZmxhZ3M6IG51bWJlciwgZGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAoZGVjbGFyYXRpb24gaW5zdGFuY2VvZiBQYXJhbVNwZWMpXG4gICAgICAgIHJldHVybiBkZWNsYXJhdGlvblxuXG4gICAgc3dpdGNoIChkZWNsYXJhdGlvbikge1xuICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMuc3RyaW5nKG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCBcIlwiKVxuICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMuZG91YmxlKG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCAtTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgMClcbiAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5ib29sZWFuKG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCBmYWxzZSlcbiAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1TcGVjLmpzb2JqZWN0KG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzKVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBtaXNzdHlwZWRcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMub2JqZWN0KG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCBkZWNsYXJhdGlvbi4kZ3R5cGUpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0VmFsdWUoZGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAoZGVjbGFyYXRpb24gaW5zdGFuY2VvZiBQYXJhbVNwZWMpXG4gICAgICAgIHJldHVybiBkZWNsYXJhdGlvbi5nZXRfZGVmYXVsdF92YWx1ZSgpXG5cbiAgICBzd2l0Y2ggKGRlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbn1cbiIsICJpbXBvcnQgR3RrIGZyb20gXCJnaTovL0d0az92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgeyB0eXBlIEJpbmRhYmxlQ2hpbGQgfSBmcm9tIFwiLi9hc3RhbGlmeS5qc1wiXG5pbXBvcnQgeyBtZXJnZUJpbmRpbmdzLCBqc3ggYXMgX2pzeCB9IGZyb20gXCIuLi9fYXN0YWwuanNcIlxuaW1wb3J0ICogYXMgV2lkZ2V0IGZyb20gXCIuL3dpZGdldC5qc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBGcmFnbWVudCh7IGNoaWxkcmVuID0gW10sIGNoaWxkIH06IHtcbiAgICBjaGlsZD86IEJpbmRhYmxlQ2hpbGRcbiAgICBjaGlsZHJlbj86IEFycmF5PEJpbmRhYmxlQ2hpbGQ+XG59KSB7XG4gICAgaWYgKGNoaWxkKSBjaGlsZHJlbi5wdXNoKGNoaWxkKVxuICAgIHJldHVybiBtZXJnZUJpbmRpbmdzKGNoaWxkcmVuKVxufVxuXG5leHBvcnQgZnVuY3Rpb24ganN4KFxuICAgIGN0b3I6IGtleW9mIHR5cGVvZiBjdG9ycyB8IHR5cGVvZiBHdGsuV2lkZ2V0LFxuICAgIHByb3BzOiBhbnksXG4pIHtcbiAgICByZXR1cm4gX2pzeChjdG9ycywgY3RvciBhcyBhbnksIHByb3BzKVxufVxuXG5jb25zdCBjdG9ycyA9IHtcbiAgICBib3g6IFdpZGdldC5Cb3gsXG4gICAgYnV0dG9uOiBXaWRnZXQuQnV0dG9uLFxuICAgIGNlbnRlcmJveDogV2lkZ2V0LkNlbnRlckJveCxcbiAgICAvLyBjaXJjdWxhcnByb2dyZXNzOiBXaWRnZXQuQ2lyY3VsYXJQcm9ncmVzcyxcbiAgICAvLyBkcmF3aW5nYXJlYTogV2lkZ2V0LkRyYXdpbmdBcmVhLFxuICAgIGVudHJ5OiBXaWRnZXQuRW50cnksXG4gICAgaW1hZ2U6IFdpZGdldC5JbWFnZSxcbiAgICBsYWJlbDogV2lkZ2V0LkxhYmVsLFxuICAgIGxldmVsYmFyOiBXaWRnZXQuTGV2ZWxCYXIsXG4gICAgb3ZlcmxheTogV2lkZ2V0Lk92ZXJsYXksXG4gICAgcmV2ZWFsZXI6IFdpZGdldC5SZXZlYWxlcixcbiAgICBzbGlkZXI6IFdpZGdldC5TbGlkZXIsXG4gICAgc3RhY2s6IFdpZGdldC5TdGFjayxcbiAgICBzd2l0Y2g6IFdpZGdldC5Td2l0Y2gsXG4gICAgd2luZG93OiBXaWRnZXQuV2luZG93LFxuICAgIG1lbnVidXR0b246IFdpZGdldC5NZW51QnV0dG9uLFxuICAgIHBvcG92ZXI6IFdpZGdldC5Qb3BvdmVyLFxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgICBuYW1lc3BhY2UgSlNYIHtcbiAgICAgICAgdHlwZSBFbGVtZW50ID0gR3RrLldpZGdldFxuICAgICAgICB0eXBlIEVsZW1lbnRDbGFzcyA9IEd0ay5XaWRnZXRcbiAgICAgICAgaW50ZXJmYWNlIEludHJpbnNpY0VsZW1lbnRzIHtcbiAgICAgICAgICAgIGJveDogV2lkZ2V0LkJveFByb3BzXG4gICAgICAgICAgICBidXR0b246IFdpZGdldC5CdXR0b25Qcm9wc1xuICAgICAgICAgICAgY2VudGVyYm94OiBXaWRnZXQuQ2VudGVyQm94UHJvcHNcbiAgICAgICAgICAgIC8vIGNpcmN1bGFycHJvZ3Jlc3M6IFdpZGdldC5DaXJjdWxhclByb2dyZXNzUHJvcHNcbiAgICAgICAgICAgIC8vIGRyYXdpbmdhcmVhOiBXaWRnZXQuRHJhd2luZ0FyZWFQcm9wc1xuICAgICAgICAgICAgZW50cnk6IFdpZGdldC5FbnRyeVByb3BzXG4gICAgICAgICAgICBpbWFnZTogV2lkZ2V0LkltYWdlUHJvcHNcbiAgICAgICAgICAgIGxhYmVsOiBXaWRnZXQuTGFiZWxQcm9wc1xuICAgICAgICAgICAgbGV2ZWxiYXI6IFdpZGdldC5MZXZlbEJhclByb3BzXG4gICAgICAgICAgICBvdmVybGF5OiBXaWRnZXQuT3ZlcmxheVByb3BzXG4gICAgICAgICAgICByZXZlYWxlcjogV2lkZ2V0LlJldmVhbGVyUHJvcHNcbiAgICAgICAgICAgIHNsaWRlcjogV2lkZ2V0LlNsaWRlclByb3BzXG4gICAgICAgICAgICBzdGFjazogV2lkZ2V0LlN0YWNrUHJvcHNcbiAgICAgICAgICAgIHN3aXRjaDogV2lkZ2V0LlN3aXRjaFByb3BzXG4gICAgICAgICAgICB3aW5kb3c6IFdpZGdldC5XaW5kb3dQcm9wc1xuICAgICAgICAgICAgbWVudWJ1dHRvbjogV2lkZ2V0Lk1lbnVCdXR0b25Qcm9wc1xuICAgICAgICAgICAgcG9wb3ZlcjogV2lkZ2V0LlBvcG92ZXJQcm9wc1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QganN4cyA9IGpzeFxuIiwgImltcG9ydCBXcCBmcm9tIFwiZ2k6Ly9Bc3RhbFdwXCJcbmltcG9ydCB7IGJpbmQsIEdMaWIgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrLCBHZGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiO1xuXG50eXBlIE1vdXNlQ2xpY2tIYW5kbGVycyA9IHtcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlclxufVxuXG50eXBlIEF1ZGlvSGFuZGxlcnMgPSB7XG4gICAgc2Nyb2xsOiBudW1iZXIsXG4gICAgbW91c2U6IE1vdXNlQ2xpY2tIYW5kbGVyc1xufVxuXG5jb25zdCBhdWRpbyA9IFdwLmdldF9kZWZhdWx0KCkhLmRlZmF1bHRTcGVha2VyITtcbmNvbnN0IHN0ZXAgPSAwLjAyO1xuXG5jb25zdCBoYW5kbGVTY3JvbGwgPSAoY29udHJvbGVyOiBHdGsuRXZlbnRDb250cm9sbGVyU2Nyb2xsLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA9PiB7XG4gICAgbGV0IG5ld1ZvbHVtZSA9IGF1ZGlvLmdldF92b2x1bWUoKTtcbiAgICBpZihkeSA8IDApIG5ld1ZvbHVtZSArPSBzdGVwO1xuICAgIGVsc2UgbmV3Vm9sdW1lIC09IHN0ZXA7XG4gICAgYXVkaW8uc2V0X3ZvbHVtZShuZXdWb2x1bWUpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXVkaW9Db250cm9sKCkge1xuICAgIGNvbnN0IHNjcm9sbCA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyU2Nyb2xsKHsgZmxhZ3M6IEd0ay5FdmVudENvbnRyb2xsZXJTY3JvbGxGbGFncy5WRVJUSUNBTCB9KTtcbiAgICBjb25zdCBjbGljayA9IHsgbGVmdDogbmV3IEd0ay5HZXN0dXJlQ2xpY2soKSwgcmlnaHQ6IG5ldyBHdGsuR2VzdHVyZUNsaWNrKCkgfTtcbiAgICBjbGljay5sZWZ0LnNldF9idXR0b24oR2RrLkJVVFRPTl9QUklNQVJZKTtcbiAgICBjbGljay5yaWdodC5zZXRfYnV0dG9uKEdkay5CVVRUT05fU0VDT05EQVJZKTtcbiAgICBjb25zdCBoYW5kbGVyczogQXVkaW9IYW5kbGVycyA9IHtcbiAgICAgICAgc2Nyb2xsOiBzY3JvbGwuY29ubmVjdChcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpLFxuICAgICAgICBtb3VzZToge1xuICAgICAgICAgICAgbGVmdDogY2xpY2subGVmdC5jb25uZWN0KFwicHJlc3NlZFwiLCAoKSA9PiB7IGF1ZGlvLnNldF9tdXRlKCFhdWRpby5nZXRfbXV0ZSgpKSB9ICksXG4gICAgICAgICAgICByaWdodDogY2xpY2sucmlnaHQuY29ubmVjdChcInByZXNzZWRcIiwgKCkgPT4geyBHTGliLnNwYXduX2NvbW1hbmRfbGluZV9hc3luYyhcInBhdnVjb250cm9sXCIpIH0gKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQXVkaW9Db250cm9sXCJdfVxuICAgICAgICAgICAgc2V0dXA9e1xuICAgICAgICAgICAgICAgIChzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkX2NvbnRyb2xsZXIoY2xpY2subGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkX2NvbnRyb2xsZXIoY2xpY2sucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZF9jb250cm9sbGVyKHNjcm9sbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25EZXN0cm95PXtcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbC5kaXNjb25uZWN0KGhhbmRsZXJzLnNjcm9sbCk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrLmxlZnQuZGlzY29ubmVjdChoYW5kbGVycy5tb3VzZS5sZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2sucmlnaHQuZGlzY29ubmVjdChoYW5kbGVycy5tb3VzZS5yaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9vbHRpcFRleHQ9eyBiaW5kKGF1ZGlvLCBcImRlc2NyaXB0aW9uXCIpLmFzKG4gPT4gYERpc3Bvc2l0aXZvIGF0dWFsOiAke259YCkgfVxuICAgICAgICA+XG4gICAgICAgICAgICA8aW1hZ2UgY3NzQ2xhc3Nlcz17W1wiQXVkaW9JY29uXCJdfSBpY29uTmFtZT17IGJpbmQoYXVkaW8sIFwidm9sdW1lSWNvblwiKSB9IC8+XG4gICAgICAgICAgICA8bGFiZWwgY3NzQ2xhc3Nlcz17W1wiQXVkaW9MYWJlbFwiXX0gbGFiZWw9eyBiaW5kKGF1ZGlvLCBcInZvbHVtZVwiKS5hcyhhID0+IGAke01hdGgucm91bmQoYSAqIDEwMCl9JWApIH0gLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBHdGssIEdkayB9IGZyb20gXCJhc3RhbC9ndGs0XCI7XG5pbXBvcnQgVHJheSBmcm9tIFwiZ2k6Ly9Bc3RhbFRyYXlcIjtcbmltcG9ydCB7IGJpbmQgfSBmcm9tIFwiYXN0YWxcIjtcblxuY29uc3QgdHJheSA9IFRyYXkuZ2V0X2RlZmF1bHQoKTtcblxuZnVuY3Rpb24gVHJheUl0ZW0oeyBpdGVtIH06IHsgaXRlbTogSW5zdGFuY2VUeXBlPHR5cGVvZiBUcmF5LlRyYXlJdGVtPiB9KSB7XG4gICAgbGV0IGhhbmRsZXJzID0ge1xuICAgICAgICBwcmltYXJ5OiAwLFxuICAgICAgICBtaWRkbGU6IDAsXG4gICAgICAgIHNlY29uZGFyeTogMCxcbiAgICAgICAgbWVudU1vZGVsOiAwLFxuICAgICAgICBhY3Rpb25HOiAwXG4gICAgfTtcbiAgICBjb25zdCBjbGlja1ByaW1hcnkgPSBuZXcgR3RrLkdlc3R1cmVDbGljayh7IGJ1dHRvbjogR2RrLkJVVFRPTl9QUklNQVJZIH0pO1xuICAgIGNvbnN0IGNsaWNrU2Vjb25kYXJ5ID0gbmV3IEd0ay5HZXN0dXJlQ2xpY2soeyBidXR0b246IEdkay5CVVRUT05fU0VDT05EQVJZIH0pO1xuICAgIGNvbnN0IGNsaWNrTWlkZGxlID0gbmV3IEd0ay5HZXN0dXJlQ2xpY2soeyBidXR0b246IEdkay5CVVRUT05fTUlERExFIH0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPG1lbnVidXR0b25cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlRyYXlJdGVtXCJdfVxuICAgICAgICAgICAgdG9vbHRpcFRleHQ9eyBiaW5kKGl0ZW0sIFwidG9vbHRpcE1hcmt1cFwiKSB9XG4gICAgICAgICAgICBtZW51TW9kZWw9eyBpdGVtLm1lbnVNb2RlbCB9XG4gICAgICAgICAgICBkaXJlY3Rpb249eyBHdGsuQXJyb3dUeXBlLkRPV04gfVxuICAgICAgICAgICAgc2V0dXA9e1xuICAgICAgICAgICAgICAgIChzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5OiBjbGlja1ByaW1hcnkuY29ubmVjdChcInByZXNzZWRcIiwgKF9zZWxmLCBfbiwgeCwgeSkgPT4geyBpZihpdGVtLmlzX21lbnUpIHNlbGYuZ2V0X3BvcG92ZXIoKSEucG9wdXAoKTsgZWxzZSBpdGVtLmFjdGl2YXRlKHgsIHkpOyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWRkbGU6IGNsaWNrTWlkZGxlLmNvbm5lY3QoXCJwcmVzc2VkXCIsIChfc2VsZiwgX24sIHgsIHkpID0+IHsgaXRlbS5zZWNvbmRhcnlfYWN0aXZhdGUoeCwgeSk7IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeTogIGNsaWNrU2Vjb25kYXJ5LmNvbm5lY3QoXCJwcmVzc2VkXCIsICgpID0+IHsgaXRlbS5hYm91dF90b19zaG93KCk7IHNlbGYuZ2V0X3BvcG92ZXIoKSEucG9wdXAoKTsgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudU1vZGVsOiBpdGVtLmNvbm5lY3QoXCJub3RpZnk6Om1lbnUtbW9kZWxcIiwgKCkgPT4geyBzZWxmLnNldF9tZW51X21vZGVsKGl0ZW0ubWVudU1vZGVsKTsgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRzogaXRlbS5jb25uZWN0KFwibm90aWZ5OjphY3Rpb24tZ3JvdXBcIiwgKCkgPT4geyBzZWxmLmluc2VydF9hY3Rpb25fZ3JvdXAoXCJkYnVzbWVudVwiLCBpdGVtLmFjdGlvbkdyb3VwKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRfY29udHJvbGxlcihjbGlja1ByaW1hcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRfY29udHJvbGxlcihjbGlja01pZGRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZF9jb250cm9sbGVyKGNsaWNrU2Vjb25kYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uRGVzdHJveT17XG4gICAgICAgICAgICAgICAgKHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tQcmltYXJ5LmRpc2Nvbm5lY3QoaGFuZGxlcnMucHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrTWlkZGxlLmRpc2Nvbm5lY3QoaGFuZGxlcnMubWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tTZWNvbmRhcnkuZGlzY29ubmVjdChoYW5kbGVycy5zZWNvbmRhcnkpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmRpc2Nvbm5lY3QoaGFuZGxlcnMubWVudU1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kaXNjb25uZWN0KGhhbmRsZXJzLmFjdGlvbkcpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZV9jb250cm9sbGVyKGNsaWNrUHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlX2NvbnRyb2xsZXIoY2xpY2tNaWRkbGUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZV9jb250cm9sbGVyKGNsaWNrU2Vjb25kYXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZCA9e1xuICAgICAgICAgICAgICAgIDxpbWFnZSBnaWNvbj17YmluZChpdGVtLCBcImdpY29uXCIpfSBwaXhlbFNpemU9ezE2fSAvPlxuICAgICAgICAgICAgfVxuICAgICAgICAvPlxuXG4gICAgKSBhcyBHdGsuTWVudUJ1dHRvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3lzdGVtVHJheSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIlN5c3RlbVRyYXlcIl19IG9yaWVudGF0aW9uPXtHdGsuT3JpZW50YXRpb24uSE9SSVpPTlRBTH0gc3BhY2luZz17NH0gbWFyZ2luRW5kPXs4fT5cbiAgICAgICAgICAgIHtiaW5kKHRyYXksIFwiaXRlbXNcIikuYXMoaXRlbXMgPT4gaXRlbXMubWFwKGl0ZW0gPT4gKCA8VHJheUl0ZW0gaXRlbT17aXRlbX0vPikpKX1cbiAgICAgICAgPC9ib3g+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBWYXJpYWJsZSwgYmluZCB9IGZyb20gXCJhc3RhbFwiXG5cbnR5cGUgQ2xvY2tEYXRlID0ge1xuICAgIGNsb2NrOiBzdHJpbmc7XG4gICAgZGF0ZTogc3RyaW5nO1xufVxuXG5jb25zdCB0aW1lID0gVmFyaWFibGU8Q2xvY2tEYXRlPih7IGNsb2NrOiBcIlwiLCBkYXRlOiBcIlwiIH0pLnBvbGwoNjBfMDAwLFxuICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgZGF0ZUNvbnN0cnVjdG9yID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsb2NrOiBkYXRlQ29uc3RydWN0b3IudG9Mb2NhbGVUaW1lU3RyaW5nKFwicHQtYnJcIiwgeyBob3VyOiBcIjItZGlnaXRcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9KSxcbiAgICAgICAgICAgIGRhdGU6IGRhdGVDb25zdHJ1Y3Rvci50b0xvY2FsZURhdGVTdHJpbmcoXCJwdC1iclwiLCB7IHdlZWtkYXk6ICdsb25nJywgZGF5OiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycsIHllYXI6ICdudW1lcmljJyB9KS5yZXBsYWNlKC9eLi8sIGNoYXIgPT4gY2hhci50b1VwcGVyQ2FzZSgpKVxuICAgICAgICB9O1xuICAgIH1cbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBNaW5pVGltZSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlRpbWVcIl19XG4gICAgICAgICAgICBvbkRlc3Ryb3k9eyAoKSA9PiB0aW1lLmRyb3AoKSB9XG4gICAgICAgICAgICBsYWJlbD17YmluZCh0aW1lKS5hcyh0ID0+IGAke3QuY2xvY2t9YCl9XG4gICAgICAgIC8+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBHdGssIEdkayB9IGZyb20gXCJhc3RhbC9ndGs0XCI7XG5pbXBvcnQgTXByaXMgZnJvbSBcImdpOi8vQXN0YWxNcHJpc1wiO1xuaW1wb3J0IHsgR0xpYiwgR09iamVjdCwgVmFyaWFibGUsIGJpbmQgfSBmcm9tIFwiYXN0YWxcIjtcbmltcG9ydCB7ICBPdmVybGF5LCBTbGlkZXIgfSBmcm9tIFwiYXN0YWwvZ3RrNC93aWRnZXRcIjtcbmltcG9ydCBDYXZhIGZyb20gXCIuL0NhdmFcIjtcblxudHlwZSBQbGF5ZXJBY3Rpb24gPSAncHJldmlvdXMnIHwgJ25leHQnIHwgJ3BsYXlwYXVzZSc7XG5cbnR5cGUgUGxheWVyQ3NzID0gJ3BsYXlpbmcnIHwgJ3BhdXNlZCcgfCAnc3RvcHBlZCc7XG5cbnR5cGUgUGxheWVyVGltZSA9IHtcbiAgICBwb3NpdGlvbjogbnVtYmVyO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG59XG5cbnR5cGUgTWVkaWFTdGF0cyA9IHtcbiAgICBjdXJyZW50U3RhdGU6IE1wcmlzLlBsYXliYWNrU3RhdHVzO1xuICAgIGN1cnJlbnRDc3M6IFBsYXllckNzcztcbiAgICBsYXN0UGxheWVyOiBNcHJpcy5QbGF5ZXIgfCBudWxsO1xuICAgIGhhbmRsZXJzOiBudW1iZXJbXTtcbn1cblxuY29uc3QgUGxheWVyQnV0dG9uSWNvbnMgPSB7XG4gICAgcGxheWluZzogXCJtZWRpYS1wbGF5YmFjay1zdGFydC1zeW1ib2xpY1wiLFxuICAgIHBhdXNlZDogXCJtZWRpYS1wbGF5YmFjay1wYXVzZS1zeW1ib2xpY1wiLFxuICAgIHN0b3A6IFwibWVkaWEtcGxheWJhY2stc3RvcC1zeW1ib2xpY1wiLFxuICAgIG5leHQ6IFwibWVkaWEtc2tpcC1mb3J3YXJkLXN5bWJvbGljXCIsXG4gICAgcHJldmlvdXM6IFwibWVkaWEtc2tpcC1iYWNrd2FyZC1zeW1ib2xpY1wiXG59XG5cbmV4cG9ydCBjb25zdCBtZWRpYVN0YXRlID0gVmFyaWFibGU8TWVkaWFTdGF0cz4oe1xuICAgIGN1cnJlbnRTdGF0ZTogTXByaXMuUGxheWJhY2tTdGF0dXMuU1RPUFBFRCxcbiAgICBjdXJyZW50Q3NzOiAnc3RvcHBlZCcsXG4gICAgbGFzdFBsYXllcjogbnVsbCxcbiAgICBoYW5kbGVyczogW11cbn0pO1xuXG5jb25zdCBwbGF5ZXJEdXJhdGlvbiA9IFZhcmlhYmxlPFBsYXllclRpbWU+KHtwb3NpdGlvbjogMCwgZHVyYXRpb246IDB9KTtcbmNvbnN0IHByb2dyZXNzUGVyY2VudCA9IFZhcmlhYmxlPG51bWJlcj4oMCk7XG5cbmxldCB1cGRhdGVUaW1lb3V0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbmxldCByZXRyeVRpbWVvdXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xubGV0IHBvc2l0aW9uVGltZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xubGV0IHNhdmVkUG9zaXRpb246IG51bWJlciA9IDA7XG5sZXQgbGFzdFVwZGF0ZVRpbWU6IG51bWJlciA9IDA7XG5jb25zdCBERUJPVU5DRV9ERUxBWSA9IDEwMDtcbmNvbnN0IFJFVFJZX0RFTEFZID0gMTAwMDtcbmNvbnN0IE1BWF9SRVRSSUVTID0gNTtcbmNvbnN0IFBPU0lUSU9OX1VQREFURV9JTlRFUlZBTCA9IDEwMDA7XG5sZXQgcmV0cnlDb3VudCA9IDA7XG5cbmNvbnN0IG1wcmlzID0gTXByaXMuZ2V0X2RlZmF1bHQoKTtcblxuZnVuY3Rpb24gZm9ybWF0U3RhdGUoc3RhdGU6IE1wcmlzLlBsYXliYWNrU3RhdHVzKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgTXByaXMuUGxheWJhY2tTdGF0dXMuUExBWUlORzpcbiAgICAgICAgICAgIHJldHVybiBcIlRvY2FuZG9cIjtcbiAgICAgICAgY2FzZSBNcHJpcy5QbGF5YmFja1N0YXR1cy5QQVVTRUQ6XG4gICAgICAgICAgICByZXR1cm4gXCJQYXVzYWRvXCI7XG4gICAgICAgIGNhc2UgTXByaXMuUGxheWJhY2tTdGF0dXMuU1RPUFBFRDpcbiAgICAgICAgICAgIHJldHVybiBcIk5hZGEgdG9jYW5kb1wiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiRXN0YWRvIGRlc2NvbmhlY2lkb1wiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICghc2Vjb25kcyB8fCBzZWNvbmRzIDwgMCkgcmV0dXJuIFwiMDowMFwiO1xuXG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoc2Vjb25kcyAlIDM2MDApIC8gNjApO1xuICAgIGNvbnN0IHJlbWFpbmluZ1NlY29uZHMgPSBNYXRoLmZsb29yKHNlY29uZHMgJSA2MCk7XG5cbiAgICBpZiAoaG91cnMgPiAwKSB7XG4gICAgICAgIHJldHVybiBgJHtob3Vyc306JHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtyZW1haW5pbmdTZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfToke3JlbWFpbmluZ1NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSBtZWRpYVN0YXRlLmdldCgpLmxhc3RQbGF5ZXI7XG4gICAgaWYgKCFwbGF5ZXIgfHwgIWlzUGxheWVyVmFsaWQocGxheWVyKSkge1xuICAgICAgICBwbGF5ZXJEdXJhdGlvbi5zZXQoe2R1cmF0aW9uOiAwLCBwb3NpdGlvbjogMH0pO1xuICAgICAgICBwcm9ncmVzc1BlcmNlbnQuc2V0KDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcblxuICAgICAgICBzYXZlZFBvc2l0aW9uID0gcGxheWVyLnBvc2l0aW9uIHx8IDA7XG4gICAgICAgIGxhc3RVcGRhdGVUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHBsYXllci5sZW5ndGggfHwgMDtcblxuICAgICAgICBwbGF5ZXJEdXJhdGlvbi5zZXQoe2R1cmF0aW9uOiBkdXJhdGlvbiwgcG9zaXRpb246IHNhdmVkUG9zaXRpb259KTtcblxuICAgICAgICBpZiAoZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gKHNhdmVkUG9zaXRpb24gLyBkdXJhdGlvbikgKiAxMDA7XG4gICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnQuc2V0KE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcGVyY2VudCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2dyZXNzUGVyY2VudC5zZXQoMCk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvIGFvIGF0dWFsaXphciBwb3NpXHUwMEU3XHUwMEUzbzpcIiwgZXJyb3IpO1xuICAgICAgICBwbGF5ZXJEdXJhdGlvbi5zZXQoe2R1cmF0aW9uOiAwLCBwb3NpdGlvbjogMH0pO1xuICAgICAgICBwcm9ncmVzc1BlcmNlbnQuc2V0KDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRQb3NpdGlvblRpbWVyKCkge1xuICAgIHN0b3BQb3NpdGlvblRpbWVyKCk7XG5cbiAgICBjb25zdCB1cGRhdGVUaW1lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcGxheWVyID0gbWVkaWFTdGF0ZS5nZXQoKS5sYXN0UGxheWVyO1xuXG4gICAgICAgIGlmICghcGxheWVyIHx8IHBsYXllci5wbGF5YmFja1N0YXR1cyAhPT0gTXByaXMuUGxheWJhY2tTdGF0dXMuUExBWUlORykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgdGltZURpZmYgPSAobm93IC0gbGFzdFVwZGF0ZVRpbWUpIC8gMTAwMDtcbiAgICAgICAgc2F2ZWRQb3NpdGlvbiArPSB0aW1lRGlmZjtcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWUgPSBub3c7XG5cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBwbGF5ZXJEdXJhdGlvbi5nZXQoKS5kdXJhdGlvbjtcblxuICAgICAgICBwbGF5ZXJEdXJhdGlvbi5zZXQoey4uLnBsYXllckR1cmF0aW9uLmdldCgpLCBwb3NpdGlvbjogc2F2ZWRQb3NpdGlvbiB9KTtcblxuICAgICAgICBpZiAoZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gKHNhdmVkUG9zaXRpb24gLyBkdXJhdGlvbikgKiAxMDA7XG4gICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnQuc2V0KE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcGVyY2VudCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvc2l0aW9uVGltZXIgPSBHTGliLnRpbWVvdXRfYWRkKEdMaWIuUFJJT1JJVFlfREVGQVVMVCwgUE9TSVRJT05fVVBEQVRFX0lOVEVSVkFMLCAoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lcigpO1xuICAgICAgICAgICAgcmV0dXJuIEdMaWIuU09VUkNFX1JFTU9WRTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHVwZGF0ZVRpbWVyKCk7XG59XG5cbmZ1bmN0aW9uIHN0b3BQb3NpdGlvblRpbWVyKCkge1xuICAgIGlmIChwb3NpdGlvblRpbWVyKSB7XG4gICAgICAgIEdMaWIuc291cmNlX3JlbW92ZShwb3NpdGlvblRpbWVyKTtcbiAgICAgICAgcG9zaXRpb25UaW1lciA9IG51bGw7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNjb25uZWN0RnJvbVBsYXllcigpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG1lZGlhU3RhdGUuZ2V0KCk7XG5cbiAgICBpZiAodXBkYXRlVGltZW91dCkge1xuICAgICAgICBHTGliLnNvdXJjZV9yZW1vdmUodXBkYXRlVGltZW91dCk7XG4gICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChyZXRyeVRpbWVvdXQpIHtcbiAgICAgICAgR0xpYi5zb3VyY2VfcmVtb3ZlKHJldHJ5VGltZW91dCk7XG4gICAgICAgIHJldHJ5VGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgc3RvcFBvc2l0aW9uVGltZXIoKTtcblxuICAgIGlmIChzdGF0ZS5sYXN0UGxheWVyICYmIHN0YXRlLmhhbmRsZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3RhdGUuaGFuZGxlcnMuZm9yRWFjaChoYW5kbGVyID0+IHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5sYXN0UGxheWVyICYmIEdPYmplY3Quc2lnbmFsX2hhbmRsZXJfaXNfY29ubmVjdGVkKHN0YXRlLmxhc3RQbGF5ZXIsIGhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubGFzdFBsYXllci5kaXNjb25uZWN0KGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm8gYW8gZGVzY29uZWN0YXIgaGFuZGxlcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWVkaWFTdGF0ZS5zZXQoe1xuICAgICAgICBsYXN0UGxheWVyOiBudWxsLFxuICAgICAgICBoYW5kbGVyczogW10sXG4gICAgICAgIGN1cnJlbnRDc3M6ICdzdG9wcGVkJyxcbiAgICAgICAgY3VycmVudFN0YXRlOiBNcHJpcy5QbGF5YmFja1N0YXR1cy5TVE9QUEVEXG4gICAgfSk7XG5cbiAgICBzYXZlZFBvc2l0aW9uID0gMDtcbiAgICBsYXN0VXBkYXRlVGltZSA9IDA7XG4gICAgcGxheWVyRHVyYXRpb24uc2V0KHtkdXJhdGlvbjogMCwgcG9zaXRpb246IDB9KTtcbiAgICBwcm9ncmVzc1BlcmNlbnQuc2V0KDApO1xufVxuXG5mdW5jdGlvbiBpc1BsYXllclZhbGlkKHBsYXllcjogTXByaXMuUGxheWVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCFwbGF5ZXIpIHJldHVybiBmYWxzZTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJ1c05hbWUgPSBwbGF5ZXIuYnVzTmFtZTtcbiAgICAgICAgcmV0dXJuICEhKGJ1c05hbWUgJiYgYnVzTmFtZS5sZW5ndGggPiAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJQbGF5ZXIgaW52XHUwMEUxbGlkbyBkZXRlY3RhZG86XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29ubmVjdFRvUGxheWVyKHBsYXllcjogTXByaXMuUGxheWVyKSB7XG4gICAgaWYgKCFpc1BsYXllclZhbGlkKHBsYXllcikpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVGVudGF0aXZhIGRlIGNvbmVjdGFyIGEgcGxheWVyIGludlx1MDBFMWxpZG9cIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0RnJvbVBsYXllcigpO1xuICAgIHJldHJ5Q291bnQgPSAwO1xuXG4gICAgY29uc3QgaGFuZGxlcnM6IG51bWJlcltdID0gW107XG5cbiAgICB0cnkge1xuICAgICAgICBoYW5kbGVycy5wdXNoKFxuICAgICAgICAgICAgcGxheWVyLmNvbm5lY3QoXCJub3RpZnk6OnBsYXliYWNrLXN0YXR1c1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWVkaWFTdGF0ZShwbGF5ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIucGxheWJhY2tTdGF0dXMgPT09IE1wcmlzLlBsYXliYWNrU3RhdHVzLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvblRpbWVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHBsYXllci5jb25uZWN0KFwibm90aWZ5Ojp0aXRsZVwiLCAoKSA9PiB1cGRhdGVNZWRpYVN0YXRlKHBsYXllcikpLFxuICAgICAgICAgICAgcGxheWVyLmNvbm5lY3QoXCJub3RpZnk6OmFydGlzdFwiLCAoKSA9PiB1cGRhdGVNZWRpYVN0YXRlKHBsYXllcikpLFxuICAgICAgICAgICAgcGxheWVyLmNvbm5lY3QoXCJub3RpZnk6Om1ldGFkYXRhXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVNZWRpYVN0YXRlKHBsYXllcik7XG4gICAgICAgICAgICAgICAgdXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgbWVkaWFTdGF0ZS5zZXQoe1xuICAgICAgICAgICAgLi4ubWVkaWFTdGF0ZS5nZXQoKSxcbiAgICAgICAgICAgIGxhc3RQbGF5ZXI6IHBsYXllcixcbiAgICAgICAgICAgIGhhbmRsZXJzOiBoYW5kbGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICB1cGRhdGVNZWRpYVN0YXRlKHBsYXllcik7XG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKHBsYXllci5wbGF5YmFja1N0YXR1cyA9PT0gTXByaXMuUGxheWJhY2tTdGF0dXMuUExBWUlORykge1xuICAgICAgICAgICAgc3RhcnRQb3NpdGlvblRpbWVyKCk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBjb25lY3RhciBhb3Mgc2luYWlzIGRvIHBsYXllcjpcIiwgZXJyb3IpO1xuICAgICAgICBoYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoR09iamVjdC5zaWduYWxfaGFuZGxlcl9pc19jb25uZWN0ZWQocGxheWVyLCBoYW5kbGVyKSkgcGxheWVyLmRpc2Nvbm5lY3QoaGFuZGxlcik7XG4gICAgICAgICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gZGVzY29uZWN0YXIgbyBoYW5kbGVyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTWVkaWFTdGF0ZShwbGF5ZXI6IE1wcmlzLlBsYXllciB8IG51bGwpIHtcbiAgICBpZiAodXBkYXRlVGltZW91dCkge1xuICAgICAgICBHTGliLnNvdXJjZV9yZW1vdmUodXBkYXRlVGltZW91dCk7XG4gICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIHVwZGF0ZVRpbWVvdXQgPSBHTGliLnRpbWVvdXRfYWRkKEdMaWIuUFJJT1JJVFlfREVGQVVMVCwgREVCT1VOQ0VfREVMQVksICgpID0+IHtcbiAgICAgICAgZXhlY3V0ZVVwZGF0ZU1lZGlhU3RhdGUocGxheWVyKTtcbiAgICAgICAgdXBkYXRlVGltZW91dCA9IG51bGw7XG4gICAgICAgIHJldHVybiBHTGliLlNPVVJDRV9SRU1PVkU7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVVcGRhdGVNZWRpYVN0YXRlKHBsYXllcjogTXByaXMuUGxheWVyIHwgbnVsbCkge1xuICAgIGlmICghcGxheWVyKSB7XG4gICAgICAgIG1lZGlhU3RhdGUuc2V0KHtcbiAgICAgICAgICAgIC4uLm1lZGlhU3RhdGUuZ2V0KCksXG4gICAgICAgICAgICBjdXJyZW50Q3NzOiAnc3RvcHBlZCcsXG4gICAgICAgICAgICBjdXJyZW50U3RhdGU6IE1wcmlzLlBsYXliYWNrU3RhdHVzLlNUT1BQRURcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzUGxheWVyVmFsaWQocGxheWVyKSkge1xuICAgICAgICBjb25zdCBuZXh0UGxheWVyID0gZmluZEJlc3RQbGF5ZXIoKTtcbiAgICAgICAgaWYgKG5leHRQbGF5ZXIgJiYgbmV4dFBsYXllciAhPT0gcGxheWVyKSB7XG4gICAgICAgICAgICBjb25uZWN0VG9QbGF5ZXIobmV4dFBsYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZWRpYVN0YXRlLnNldCh7XG4gICAgICAgICAgICAgICAgLi4ubWVkaWFTdGF0ZS5nZXQoKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q3NzOiAnc3RvcHBlZCcsXG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiBNcHJpcy5QbGF5YmFja1N0YXR1cy5TVE9QUEVEXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gcGxheWVyLnRpdGxlIHx8IFwiVFx1MDBFRHR1bG8gZGVzY29uaGVjaWRvXCI7XG4gICAgICAgIGNvbnN0IGFydGlzdCA9IHBsYXllci5hcnRpc3QgfHwgXCJBcnRpc3RhIGRlc2NvbmhlY2lkb1wiO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBwbGF5ZXIucGxheWJhY2tTdGF0dXM7XG5cbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgTXByaXMuUGxheWJhY2tTdGF0dXMuUExBWUlORzpcbiAgICAgICAgICAgICAgICBtZWRpYVN0YXRlLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1lZGlhU3RhdGUuZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDc3M6ICdwbGF5aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiBNcHJpcy5QbGF5YmFja1N0YXR1cy5QTEFZSU5HXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1wcmlzLlBsYXliYWNrU3RhdHVzLlBBVVNFRDpcbiAgICAgICAgICAgICAgICBtZWRpYVN0YXRlLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1lZGlhU3RhdGUuZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDc3M6ICdwYXVzZWQnLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGU6IE1wcmlzLlBsYXliYWNrU3RhdHVzLlBBVVNFRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNcHJpcy5QbGF5YmFja1N0YXR1cy5TVE9QUEVEOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBtZWRpYVN0YXRlLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1lZGlhU3RhdGUuZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDc3M6ICdzdG9wcGVkJyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiBNcHJpcy5QbGF5YmFja1N0YXR1cy5TVE9QUEVEXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvIGFvIGFjZXNzYXIgcHJvcHJpZWRhZGVzIGRvIHBsYXllciBNUFJJUzpcIiwgZXJyb3IpO1xuICAgICAgICBjb25zdCBuZXh0UGxheWVyID0gZmluZEJlc3RQbGF5ZXIoKTtcbiAgICAgICAgaWYgKG5leHRQbGF5ZXIgJiYgbmV4dFBsYXllciAhPT0gcGxheWVyKSB7XG4gICAgICAgICAgICBjb25uZWN0VG9QbGF5ZXIobmV4dFBsYXllcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZWRpYVN0YXRlLnNldCh7XG4gICAgICAgICAgICAgICAgLi4ubWVkaWFTdGF0ZS5nZXQoKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q3NzOiAnc3RvcHBlZCcsXG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiBNcHJpcy5QbGF5YmFja1N0YXR1cy5TVE9QUEVEXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZmluZEJlc3RQbGF5ZXIoKTogTXByaXMuUGxheWVyIHwgbnVsbCB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGxheWVycyA9IG1wcmlzLnBsYXllcnM7XG5cbiAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCB2YWxpZFBsYXllcnMgPSBwbGF5ZXJzLmZpbHRlcihwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gaXNQbGF5ZXJWYWxpZChwKTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkUGxheWVycy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHBsYXlpbmdQbGF5ZXIgPSB2YWxpZFBsYXllcnMuZmluZChwID0+IHtcbiAgICAgICAgICAgIHRyeSB7IHJldHVybiBwLnBsYXliYWNrU3RhdHVzID09PSBNcHJpcy5QbGF5YmFja1N0YXR1cy5QTEFZSU5HOyB9XG4gICAgICAgICAgICBjYXRjaCB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGxheWluZ1BsYXllcikgcmV0dXJuIHBsYXlpbmdQbGF5ZXI7XG5cbiAgICAgICAgY29uc3QgcGF1c2VkUGxheWVyID0gdmFsaWRQbGF5ZXJzLmZpbmQocCA9PiB7XG4gICAgICAgICAgICB0cnkgeyByZXR1cm4gcC5wbGF5YmFja1N0YXR1cyA9PT0gTXByaXMuUGxheWJhY2tTdGF0dXMuUEFVU0VEOyB9XG4gICAgICAgICAgICBjYXRjaCB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGF1c2VkUGxheWVyKSByZXR1cm4gcGF1c2VkUGxheWVyO1xuICAgICAgICByZXR1cm4gdmFsaWRQbGF5ZXJzWzBdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwbGF5ZXJzOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZU1wcmlzKCkge1xuICAgIGNvbnN0IHRyeUluaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxQbGF5ZXIgPSBmaW5kQmVzdFBsYXllcigpO1xuICAgICAgICBpZiAoaW5pdGlhbFBsYXllcikge1xuICAgICAgICAgICAgY29ubmVjdFRvUGxheWVyKGluaXRpYWxQbGF5ZXIpO1xuICAgICAgICAgICAgcmV0cnlDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocmV0cnlDb3VudCA8IE1BWF9SRVRSSUVTKSB7XG4gICAgICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gUkVUUllfREVMQVkgKiByZXRyeUNvdW50O1xuICAgICAgICAgICAgICAgIHJldHJ5VGltZW91dCA9IEdMaWIudGltZW91dF9hZGQoR0xpYi5QUklPUklUWV9ERUZBVUxULCBkZWxheSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnlJbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5VGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBHTGliLlNPVVJDRV9SRU1PVkU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBHTGliLnRpbWVvdXRfYWRkKEdMaWIuUFJJT1JJVFlfREVGQVVMVCwgNTAwLCAoKSA9PiB7XG4gICAgICAgIHRyeUluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIEdMaWIuU09VUkNFX1JFTU9WRTtcbiAgICB9KTtcbn1cblxubGV0IG1wcmlzSGFuZGxlcnM6IG51bWJlcltdID0gW107XG5cbmZ1bmN0aW9uIHNldHVwTXByaXNIYW5kbGVycygpIHtcbiAgICB0cnkge1xuICAgICAgICBtcHJpc0hhbmRsZXJzID0gW1xuICAgICAgICAgICAgbXByaXMuY29ubmVjdChcInBsYXllci1hZGRlZFwiLCAoXywgcGxheWVyOiBNcHJpcy5QbGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBHTGliLnRpbWVvdXRfYWRkKEdMaWIuUFJJT1JJVFlfREVGQVVMVCwgMjAwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXIgPSBtZWRpYVN0YXRlLmdldCgpLmxhc3RQbGF5ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50UGxheWVyIHx8ICFpc1BsYXllclZhbGlkKGN1cnJlbnRQbGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0VG9QbGF5ZXIocGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUGxheWVyVmFsaWQocGxheWVyKSAmJiBwbGF5ZXIucGxheWJhY2tTdGF0dXMgPT09IE1wcmlzLlBsYXliYWNrU3RhdHVzLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdFRvUGxheWVyKHBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvIGFvIHZlcmlmaWNhciBzdGF0dXMgZG8gbm92byBwbGF5ZXI6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gR0xpYi5TT1VSQ0VfUkVNT1ZFO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIG1wcmlzLmNvbm5lY3QoXCJwbGF5ZXItY2xvc2VkXCIsIChfLCBwbGF5ZXI6IE1wcmlzLlBsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXIgPSBtZWRpYVN0YXRlLmdldCgpLmxhc3RQbGF5ZXI7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBsYXllciA9PT0gcGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEdMaWIudGltZW91dF9hZGQoR0xpYi5QUklPUklUWV9ERUZBVUxULCAxMDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQbGF5ZXIgPSBmaW5kQmVzdFBsYXllcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQbGF5ZXIpIGNvbm5lY3RUb1BsYXllcihuZXh0UGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgZGlzY29ubmVjdEZyb21QbGF5ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBHTGliLlNPVVJDRV9SRU1PVkU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIF07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY29uZmlndXJhciBoYW5kbGVycyBNUFJJUzpcIiwgZXJyb3IpO1xuICAgIH1cbn1cblxuY29uc3Qgc2V0dXBCdXR0b24gPSAoYWN0aW9uOiBQbGF5ZXJBY3Rpb24pID0+IChzZWxmOiBHdGsuV2lkZ2V0KSA9PiB7XG4gICAgY29uc3QgY2xpY2sgPSBuZXcgR3RrLkdlc3R1cmVDbGljaygpO1xuICAgIGNsaWNrLnNldF9idXR0b24oR2RrLkJVVFRPTl9QUklNQVJZKTtcblxuICAgIGNvbnN0IGNsaWNrSGFuZGxlciA9IGNsaWNrLmNvbm5lY3QoXCJwcmVzc2VkXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgcGxheWVyID0gbWVkaWFTdGF0ZS5nZXQoKS5sYXN0UGxheWVyO1xuICAgICAgICBpZiAoIXBsYXllciB8fCAhaXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQbGF5ZXIgaW52XHUwMEUxbGlkbyBvdSBpbmV4aXN0ZW50ZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3ByZXZpb3VzJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllci5jYW5Hb1ByZXZpb3VzKSBwbGF5ZXIucHJldmlvdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbmV4dCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuY2FuR29OZXh0KSBwbGF5ZXIubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwbGF5cGF1c2UnOlxuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyLmNhblBsYXkgfHwgcGxheWVyLmNhblBhdXNlKSBwbGF5ZXIucGxheV9wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgR0xpYi50aW1lb3V0X2FkZChHTGliLlBSSU9SSVRZX0RFRkFVTFQsIDEwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVVcGRhdGVNZWRpYVN0YXRlKHBsYXllcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdMaWIuU09VUkNFX1JFTU9WRTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvIGFvIGV4ZWN1dGFyIGFcdTAwRTdcdTAwRTNvICR7YWN0aW9ufTpgLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGxheWVyID0gZmluZEJlc3RQbGF5ZXIoKTtcbiAgICAgICAgICAgIGlmIChuZXh0UGxheWVyKSBjb25uZWN0VG9QbGF5ZXIobmV4dFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHNlbGYuYWRkX2NvbnRyb2xsZXIoY2xpY2spO1xuICAgIChzZWxmIGFzIGFueSkuX2NsaWNrSGFuZGxlciA9IGNsaWNrSGFuZGxlcjtcbiAgICAoc2VsZiBhcyBhbnkpLl9jbGlja0NvbnRyb2xsZXIgPSBjbGljaztcbn07XG5cbmZ1bmN0aW9uIFBsYXllclNsaWRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIlBsYXllclNsaWRlclwiXX0+XG4gICAgICAgICAgICA8U2xpZGVyIGNzc0NsYXNzZXM9e1tcIlNsaWRlclwiXX0gdmFsdWU9e2JpbmQocHJvZ3Jlc3NQZXJjZW50KX0gbWluPXswfSBtYXg9ezEwMH0gc3RlcD17MX0gc2Vuc2l0aXZlPXtmYWxzZX0gZHJhd1ZhbHVlPXtmYWxzZX0gLz5cbiAgICAgICAgICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJUaW1lTGFiZWxcIl19IGxhYmVsPXtiaW5kKHBsYXllckR1cmF0aW9uKS5hcyhwZCA9PiBgJHtmb3JtYXRUaW1lKHBkLnBvc2l0aW9uKX0gLyAke2Zvcm1hdFRpbWUocGQuZHVyYXRpb24pfWApfSAvPlxuICAgICAgICA8L2JveD5cbiAgICApO1xufVxuXG5mdW5jdGlvbiBQbGF5ZXJJbmZvKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiUGxheWVySW5mb1wiXX0gb3JpZW50YXRpb249e0d0ay5PcmllbnRhdGlvbi5WRVJUSUNBTH0gaGV4cGFuZCB2ZXhwYW5kPlxuICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJJbmZvXCJdfSBvcmllbnRhdGlvbj17R3RrLk9yaWVudGF0aW9uLlZFUlRJQ0FMfSBoZXhwYW5kIHZleHBhbmQ+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNzc0NsYXNzZXM9e1tcIlRpdGxlXCJdfSBsYWJlbD17YmluZChtZWRpYVN0YXRlKS5hcyhjID0+IGMubGFzdFBsYXllcj8udGl0bGUgPz8gXCJcIil9IGVsbGlwc2l6ZT17M30gbWF4V2lkdGhDaGFycz17MTV9IHdpZHRoQ2hhcnM9ezMwfSAvPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJBcnRpc3RcIl19IGxhYmVsPXtiaW5kKG1lZGlhU3RhdGUpLmFzKGMgPT4gYy5sYXN0UGxheWVyPy5hcnRpc3QgPz8gXCJcIil9IGVsbGlwc2l6ZT17M30gbWF4V2lkdGhDaGFycz17MTV9IHdpZHRoQ2hhcnM9ezMwfSAvPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJBbGJ1bVwiXX0gbGFiZWw9e2JpbmQobWVkaWFTdGF0ZSkuYXMoYyA9PiBjLmxhc3RQbGF5ZXI/LmFsYnVtID8/IFwiXCIpfSBlbGxpcHNpemU9ezN9IG1heFdpZHRoQ2hhcnM9ezE1fSB3aWR0aENoYXJzPXszMH0gLz5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJMb3dlclBhcnRcIl19IGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0gb3JpZW50YXRpb249e0d0ay5PcmllbnRhdGlvbi5WRVJUSUNBTH0gaGV4cGFuZCB2ZXhwYW5kPlxuICAgICAgICAgICAgICAgIDxQbGF5ZXJTbGlkZXIgLz5cbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkNvbnRyb2xsZXJzXCJdfSBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9PlxuICAgICAgICAgICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJQcmV2aW91c1wiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwPXtzZXR1cEJ1dHRvbigncHJldmlvdXMnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNpdGl2ZT17YmluZChtZWRpYVN0YXRlKS5hcyhjID0+IGMubGFzdFBsYXllcj8uY2FuR29QcmV2aW91cyA/PyBmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZD17PGltYWdlIGljb25TaXplPXtHdGsuSWNvblNpemUuTEFSR0V9IGljb25OYW1lPXtQbGF5ZXJCdXR0b25JY29ucy5wcmV2aW91c30gLz59XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlBsYXlQYXVzZVwiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwPXtzZXR1cEJ1dHRvbigncGxheXBhdXNlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5zaXRpdmU9e2JpbmQobWVkaWFTdGF0ZSkuYXMoYyA9PiAoYy5sYXN0UGxheWVyPy5jYW5QbGF5ICYmIGMubGFzdFBsYXllcj8uY2FuUGF1c2UpID8/IGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkPXs8aW1hZ2UgaWNvblNpemU9e0d0ay5JY29uU2l6ZS5MQVJHRX0gaWNvbk5hbWU9e2JpbmQobWVkaWFTdGF0ZSkuYXMoYyA9PiBjLmxhc3RQbGF5ZXI/LnBsYXliYWNrU3RhdHVzID09PSBNcHJpcy5QbGF5YmFja1N0YXR1cy5QTEFZSU5HID8gUGxheWVyQnV0dG9uSWNvbnMucGF1c2VkIDogUGxheWVyQnV0dG9uSWNvbnMucGxheWluZyl9IC8+fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJOZXh0XCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXA9e3NldHVwQnV0dG9uKCduZXh0Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5zaXRpdmU9e2JpbmQobWVkaWFTdGF0ZSkuYXMoYyA9PiBjLmxhc3RQbGF5ZXI/LmNhbkdvTmV4dCA/PyBmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZD17PGltYWdlIGljb25TaXplPXtHdGsuSWNvblNpemUuTEFSR0V9IGljb25OYW1lPXtQbGF5ZXJCdXR0b25JY29ucy5uZXh0fSAvPn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L2JveD5cbiAgICApO1xufVxuXG5mdW5jdGlvbiBNcHJpc0luZm8oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGxhYmVsIGNzc0NsYXNzZXM9e1tcIk1wcmlzSW5mb1wiXX0gbGFiZWw9e2JpbmQobWVkaWFTdGF0ZSkuYXMoYyA9PiBmb3JtYXRTdGF0ZShjLmN1cnJlbnRTdGF0ZSkpfSB3aWR0aENoYXJzPXsxMn0vPlxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNcHJpc1BsYXllcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8T3ZlcmxheVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTXByaXNQbGF5ZXJcIl19XG4gICAgICAgICAgICBzZXR1cD17XG4gICAgICAgICAgICAgICAgKHNlbGY6IEd0ay5PdmVybGF5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdmEgPSBDYXZhKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckluZm8gPSBQbGF5ZXJJbmZvKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRfY2hpbGQoY2F2YSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkX292ZXJsYXkocGxheWVySW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0X21lYXN1cmVfb3ZlcmxheShwbGF5ZXJJbmZvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRfY2xpcF9vdmVybGF5KHBsYXllckluZm8sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdmVyZmxvdz17R3RrLk92ZXJmbG93LkhJRERFTn1cbiAgICAgICAgLz5cbiAgICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZWRpYSgpIHtcbiAgICBzZXR1cE1wcmlzSGFuZGxlcnMoKTtcbiAgICBpbml0aWFsaXplTXByaXMoKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhXCJdfVxuICAgICAgICAgICAgY2hpbGQ9e1xuICAgICAgICAgICAgICAgIDxtZW51YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGhleHBhbmRcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2hvd0Fycm93PXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgc2Vuc2l0aXZlPXtiaW5kKG1lZGlhU3RhdGUpLmFzKGMgPT4gYy5sYXN0UGxheWVyICE9PSBudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQ9ezxNcHJpc0luZm8gLz59XG4gICAgICAgICAgICAgICAgICAgIHBvcG92ZXI9ezxwb3BvdmVyIGNoaWxkPXs8TXByaXNQbGF5ZXIgLz59IC8+IGFzIEd0ay5Qb3BvdmVyfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiO1xuaW1wb3J0IHsgbWVkaWFTdGF0ZSB9IGZyb20gXCIuL01lZGlhXCI7XG5pbXBvcnQgR3NrIGZyb20gJ2dpOi8vR3NrJztcbmltcG9ydCBBc3RhbENhdmEgZnJvbSBcImdpOi8vQXN0YWxDYXZhP3ZlcnNpb249MC4xXCI7XG5pbXBvcnQgR09iamVjdCBmcm9tICdnaTovL0dPYmplY3QnO1xuXG5jb25zdCBDYXZhQ29uZmlnID0ge1xuICAgIGF1dG9zZW5zOiB0cnVlLFxuICAgIGJhcnM6IDIwLFxuICAgIGJhcldpZHRoOiAyMCxcbiAgICBiYXJIZWlnaHQ6IDE2MCxcbiAgICBmcmFtZXJhdGU6IDYwLFxuICAgIGlucHV0OiBBc3RhbENhdmEuSW5wdXQuUElQRVdJUkUsXG4gICAgbm9pc2VSZWR1Y3Rpb246IDAuNzcsXG4gICAgc2Vuc2l0aXZpdHk6IDAuNzUsXG4gICAgc3RlcmVvOiBmYWxzZSxcbiAgICBsZXJwRmFjdG9yOiAxXG59O1xuXG5jb25zdCBjYXZhSW5zdGFuY2UgPSBBc3RhbENhdmEuZ2V0X2RlZmF1bHQoKTtcbmlmKCFjYXZhSW5zdGFuY2UpIGNvbnNvbGUubG9nKFwiQ2F2YSBpbnN0YW5jZSBub3QgZm91bmRcIik7XG5jYXZhSW5zdGFuY2U/LnNldF9hdXRvc2VucyhDYXZhQ29uZmlnLmF1dG9zZW5zKTtcbmNhdmFJbnN0YW5jZT8uc2V0X2JhcnMoQ2F2YUNvbmZpZy5iYXJzKTtcbmNhdmFJbnN0YW5jZT8uc2V0X2ZyYW1lcmF0ZShDYXZhQ29uZmlnLmZyYW1lcmF0ZSk7XG5jYXZhSW5zdGFuY2U/LnNldF9pbnB1dChDYXZhQ29uZmlnLmlucHV0KTtcbmNhdmFJbnN0YW5jZT8uc2V0X25vaXNlX3JlZHVjdGlvbihDYXZhQ29uZmlnLm5vaXNlUmVkdWN0aW9uKTtcbmNhdmFJbnN0YW5jZT8uc2V0X3N0ZXJlbyhDYXZhQ29uZmlnLnN0ZXJlbyk7XG5cbmNsYXNzIENhdmFXaWRnZXQgZXh0ZW5kcyBHdGsuRHJhd2luZ0FyZWEge1xuICAgIHByaXZhdGUgdmFsdWVzITogRmxvYXQzMkFycmF5O1xuICAgIHByaXZhdGUgbm9ybSE6IEZsb2F0MzJBcnJheTtcbiAgICBwcml2YXRlIF9oYW5kbGVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIF9sYXN0V2lkdGggPSAwO1xuICAgIHByaXZhdGUgX2xhc3RIZWlnaHQgPSAwO1xuICAgIHByaXZhdGUgX3BhdGhCdWlsZGVyOiBHc2suUGF0aEJ1aWxkZXIgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNldHVwUmVjdCgpO1xuICAgICAgICB0aGlzLnNldHVwQ2F2YSgpO1xuICAgICAgICB0aGlzLnNldF9oZXhwYW5kKHRydWUpO1xuICAgICAgICB0aGlzLnNldF92ZXhwYW5kKHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBSZWN0KCkge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoQ2F2YUNvbmZpZy5iYXJzKTtcbiAgICAgICAgdGhpcy5ub3JtID0gbmV3IEZsb2F0MzJBcnJheShDYXZhQ29uZmlnLmJhcnMpO1xuICAgICAgICB0aGlzLmFkZF9jc3NfY2xhc3MoXCJDb250YWluZXJcIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR1cENhdmEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoY2F2YUluc3RhbmNlICYmICF0aGlzLl9oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlciA9IGNhdmFJbnN0YW5jZS5jb25uZWN0KFwibm90aWZ5Ojp2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRfbWFwcGVkKCkgJiYgdGhpcy5nZXRfcmVhbGl6ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZV9kcmF3KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm8gYW8gY29uZmlndXJhciBDYXZhOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvdmVycmlkZSB2ZnVuY19zaXplX2FsbG9jYXRlKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBiYXNlbGluZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnZmdW5jX3NpemVfYWxsb2NhdGUod2lkdGgsIGhlaWdodCwgYmFzZWxpbmUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9sYXN0V2lkdGggIT09IHdpZHRoIHx8IHRoaXMuX2xhc3RIZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5fcGF0aEJ1aWxkZXIgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLnF1ZXVlX2RyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG92ZXJyaWRlIHZmdW5jX3NuYXBzaG90KHNuYXBzaG90OiBHdGsuU25hcHNob3QpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFjYXZhSW5zdGFuY2UgfHwgIXRoaXMuZ2V0X21hcHBlZCgpKSByZXR1cm47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRfYWxsb2NhdGVkX3dpZHRoKCk7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldF9hbGxvY2F0ZWRfaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIGlmICh3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd19jYXRtdWxsX3JvbShzbmFwc2hvdCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvIG5vIHNuYXBzaG90IGRvIENhdmE6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd19jYXRtdWxsX3JvbShzbmFwc2hvdDogR3RrLlNuYXBzaG90LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoIWNhdmFJbnN0YW5jZSB8fCAhbWVkaWFTdGF0ZS5nZXQoKS5sYXN0UGxheWVyKSByZXR1cm47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGNhdmFJbnN0YW5jZSEuZ2V0X3ZhbHVlcygpIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoIXJhdyB8fCByYXcubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGJhcnMgPSBNYXRoLm1pbihDYXZhQ29uZmlnLmJhcnMsIHJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGJhcnMgPT09IDApIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgYmFyV2lkdGggPSB3aWR0aCAvIChiYXJzIC0gMSk7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMucGFyZW50LmdldF9jb2xvcigpO1xuICAgICAgICAgICAgY29uc3Qgc2VucyA9IENhdmFDb25maWcuc2Vuc2l0aXZpdHk7XG4gICAgICAgICAgICBjb25zdCBsZXJwID0gQ2F2YUNvbmZpZy5sZXJwRmFjdG9yO1xuICAgICAgICAgICAgY29uc3QgaW52U2l4ID0gMSAvIDY7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFyczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdlJhdyA9IChyYXdbaV0gfHwgMCkgKiBzZW5zO1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnZhbHVlc1tpXSArPSAodlJhdyAtIHRoaXMudmFsdWVzW2ldKSAqIGxlcnA7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3JtW2ldID0gaGVpZ2h0IC0gaGVpZ2h0ICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBidWlsZGVyID0gdGhpcy5fcGF0aEJ1aWxkZXIgPSBuZXcgR3NrLlBhdGhCdWlsZGVyKCk7XG5cbiAgICAgICAgICAgIGJ1aWxkZXIubW92ZV90bygwLCB0aGlzLm5vcm1bMF0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhcnMgLSAxOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHAweCA9IChpIC0gMSkgKiBiYXJXaWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBwMHkgPSB0aGlzLm5vcm1bTWF0aC5tYXgoMCwgaSAtIDEpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwMXggPSBpICogYmFyV2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgcDF5ID0gdGhpcy5ub3JtW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHAyeCA9IChpICsgMSkgKiBiYXJXaWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBwMnkgPSB0aGlzLm5vcm1baSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHAzeCA9IChpICsgMikgKiBiYXJXaWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBwM3kgPSB0aGlzLm5vcm1bTWF0aC5taW4oYmFycyAtIDEsIGkgKyAyKV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjMXggPSBwMXggKyAocDJ4IC0gcDB4KSAqIGludlNpeDtcbiAgICAgICAgICAgICAgICBjb25zdCBjMXkgPSBwMXkgKyAocDJ5IC0gcDB5KSAqIGludlNpeDtcbiAgICAgICAgICAgICAgICBjb25zdCBjMnggPSBwMnggLSAocDN4IC0gcDF4KSAqIGludlNpeDtcbiAgICAgICAgICAgICAgICBjb25zdCBjMnkgPSBwMnkgLSAocDN5IC0gcDF5KSAqIGludlNpeDtcblxuICAgICAgICAgICAgICAgIGJ1aWxkZXIuY3ViaWNfdG8oYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1aWxkZXIubGluZV90byh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGJ1aWxkZXIubGluZV90bygwLCBoZWlnaHQpO1xuICAgICAgICAgICAgYnVpbGRlci5jbG9zZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gYnVpbGRlci50b19wYXRoKCk7XG4gICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgIHNuYXBzaG90LmFwcGVuZF9maWxsKHBhdGgsIEdzay5GaWxsUnVsZS5XSU5ESU5HLCBjb2xvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm8gYW8gZGVzZW5oYXIgQ2F2YTpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVyICYmIGNhdmFJbnN0YW5jZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYXZhSW5zdGFuY2UuZGlzY29ubmVjdCh0aGlzLl9oYW5kbGVyKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJybyBhbyBkZXNjb25lY3RhciBoYW5kbGVyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZhbHVlcykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMuZmlsbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ub3JtKSB7XG4gICAgICAgICAgICB0aGlzLm5vcm0uZmlsbCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BhdGhCdWlsZGVyID0gbnVsbDtcbiAgICB9XG59XG5cbmNvbnN0IF9jYXZhID0gR09iamVjdC5yZWdpc3RlckNsYXNzKHsgR1R5cGVOYW1lOiAnQ2F2YScgfSwgQ2F2YVdpZGdldCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhdmEoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJDYXZhXCJdfSBvdmVyZmxvdz17R3RrLk92ZXJmbG93LkhJRERFTn0gY2hpbGQ9e25ldyBfY2F2YSgpfSAvPlxuICAgICk7XG59XG4iLCAiaW1wb3J0IHsgYmluZCwgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIjtcbmltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCI7XG5pbXBvcnQgQXN0YWxIeXBybGFuZCBmcm9tIFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kP3ZlcnNpb249MC4xXCI7XG5cbmludGVyZmFjZSBXb3Jrc3BhY2VQcm9wcyB7XG4gICAgd29ya3NwYWNlOiBBc3RhbEh5cHJsYW5kLldvcmtzcGFjZTtcbiAgICBpc0luUG9wb3Zlcj86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBNYWluV29ya3NwYWNlUHJvcHMge1xuICAgIHdvcmtzcGFjZTogVmFyaWFibGU8QXN0YWxIeXBybGFuZC5Xb3Jrc3BhY2UgfCBudWxsPjtcbn1cblxuY29uc3QgaHlwcmxhbmQgPSBBc3RhbEh5cHJsYW5kLmdldF9kZWZhdWx0KCk7XG5jb25zdCBmb2N1c2VkV29ya3NwYWNlID0gYmluZChoeXBybGFuZCwgXCJmb2N1c2VkV29ya3NwYWNlXCIpO1xuXG5jb25zdCB3b3Jrc3BhY2VEYXRhID0gVmFyaWFibGUuZGVyaXZlKFtiaW5kKGh5cHJsYW5kLCBcIndvcmtzcGFjZXNcIildLCAod29ya3NwYWNlcykgPT4ge1xuICAgIGNvbnN0IHNvcnRlZCA9IHdvcmtzcGFjZXMuc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpcnN0OiBzb3J0ZWRbMF0gfHwgbnVsbCxcbiAgICAgICAgc2Vjb25kOiBzb3J0ZWRbMV0gfHwgbnVsbCxcbiAgICAgICAgdGhpcmQ6IHNvcnRlZFsyXSB8fCBudWxsLFxuICAgICAgICByZXN0OiBzb3J0ZWQuc2xpY2UoMylcbiAgICB9O1xufSk7XG5cbmNvbnN0IGNsaWNrSGFuZGxlcnMgPSBuZXcgV2Vha01hcDxHdGsuV2lkZ2V0LCBHdGsuR2VzdHVyZUNsaWNrPigpO1xuXG5mdW5jdGlvbiBzZXR1cFdvcmtzcGFjZUNsaWNrKHdpZGdldDogR3RrLldpZGdldCwgd29ya3NwYWNlSWQ6IG51bWJlcikge1xuICAgIGlmICghY2xpY2tIYW5kbGVycy5oYXMod2lkZ2V0KSkge1xuICAgICAgICBjb25zdCBjbGljayA9IG5ldyBHdGsuR2VzdHVyZUNsaWNrKCk7XG4gICAgICAgIGNsaWNrLmNvbm5lY3QoXCJwcmVzc2VkXCIsICgpID0+IHtpZihmb2N1c2VkV29ya3NwYWNlLmdldCgpLmlkICE9PSB3b3Jrc3BhY2VJZCkgaHlwcmxhbmQuZGlzcGF0Y2goXCJ3b3Jrc3BhY2VcIiwgYCR7d29ya3NwYWNlSWR9YCl9KTtcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKGNsaWNrKTtcbiAgICAgICAgY2xpY2tIYW5kbGVycy5zZXQod2lkZ2V0LCBjbGljayk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBXb3Jrc3BhY2UoeyB3b3Jrc3BhY2UsIGlzSW5Qb3BvdmVyID0gZmFsc2UgfTogV29ya3NwYWNlUHJvcHMpIHtcbiAgICBjb25zdCBiYXNlQ2xhc3NlcyA9IGlzSW5Qb3BvdmVyID8gW1wiV29ya3NwYWNlXCIsIFwiV29ya3NwYWNlUG9wb3Zlckl0ZW1cIl0gOiBbXCJXb3Jrc3BhY2VcIl07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4gc2V0dXBXb3Jrc3BhY2VDbGljayhzZWxmLCB3b3Jrc3BhY2UuaWQpfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17Zm9jdXNlZFdvcmtzcGFjZS5hcyhmb2N1c2VkID0+IFsuLi5iYXNlQ2xhc3Nlcywgd29ya3NwYWNlLmlkID09PSBmb2N1c2VkLmlkID8gXCJBY3RpdmVcIiA6IFwiSW5hY3RpdmVcIl0pfVxuICAgICAgICAgICAgbGFiZWw9e2Ake3dvcmtzcGFjZS5pZH1gfVxuICAgICAgICAvPlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIE1haW5Xb3Jrc3BhY2UoeyB3b3Jrc3BhY2UgfTogTWFpbldvcmtzcGFjZVByb3BzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGljayA9IG5ldyBHdGsuR2VzdHVyZUNsaWNrKCk7XG4gICAgICAgICAgICAgICAgY2xpY2suY29ubmVjdChcInByZXNzZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3cyA9IHdvcmtzcGFjZS5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdzICYmIHdzLmlkICE9PSBmb2N1c2VkV29ya3NwYWNlLmdldCgpLmlkKSBoeXBybGFuZC5kaXNwYXRjaChcIndvcmtzcGFjZVwiLCBgJHt3cy5pZH1gKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZF9jb250cm9sbGVyKGNsaWNrKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtiaW5kKFZhcmlhYmxlLmRlcml2ZShbZm9jdXNlZFdvcmtzcGFjZSwgd29ya3NwYWNlXSwgKGZvY3VzZWQsIHdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF3cykgcmV0dXJuIFtcIldvcmtzcGFjZVwiLCBcIkluYWN0aXZlXCJdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXCJXb3Jrc3BhY2VcIiwgd3MuaWQgPT09IGZvY3VzZWQuaWQgPyBcIkFjdGl2ZVwiIDogXCJJbmFjdGl2ZVwiXTtcbiAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgIGxhYmVsPXtiaW5kKHdvcmtzcGFjZSkuYXModyA9PiBgJHt3Py5pZCA/PyAnICd9YCl9XG4gICAgICAgIC8+XG4gICAgKTtcbn1cblxuY29uc3QgY2h1bmtBcnJheSA9IChhcnJheTogQXN0YWxIeXBybGFuZC5Xb3Jrc3BhY2VbXSwgc2l6ZTogbnVtYmVyKTogQXN0YWxIeXBybGFuZC5Xb3Jrc3BhY2VbXVtdID0+IHtcbiAgICBjb25zdCByZXN1bHQ6IEFzdGFsSHlwcmxhbmQuV29ya3NwYWNlW11bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IHNpemUpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goYXJyYXkuc2xpY2UoaSwgaSArIHNpemUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gV29ya3NwYWNlUG9wb3ZlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8cG9wb3ZlclxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiV29ya3NwYWNlUG9wb3ZlclwiXX1cbiAgICAgICAgICAgIGNoaWxkPXtcbiAgICAgICAgICAgICAgICA8Ym94IHZlcnRpY2FsIGNzc0NsYXNzZXM9e1tcIldvcmtzcGFjZVBvcG92ZXJDb250ZW50XCJdfT5cbiAgICAgICAgICAgICAgICAgICAge2JpbmQod29ya3NwYWNlRGF0YSkuYXMoKHtyZXN0fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93cyA9IGNodW5rQXJyYXkocmVzdCwgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93cy5tYXAoKHJvd1dvcmtzcGFjZXMsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJXb3Jrc3BhY2VSb3dcIl19IGhvbW9nZW5lb3VzIHNwYWNpbmc9ezR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cm93V29ya3NwYWNlcy5tYXAod29ya3NwYWNlID0+ICg8V29ya3NwYWNlIHdvcmtzcGFjZT17d29ya3NwYWNlfSBpc0luUG9wb3Zlcj17dHJ1ZX0vPikpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIE1vcmVXb3Jrc3BhY2VzQnV0dG9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxtZW51YnV0dG9uXG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJNb3JlV29ya3NwYWNlc0J1dHRvblwiXX1cbiAgICAgICAgICAgIHNlbnNpdGl2ZT17YmluZCh3b3Jrc3BhY2VEYXRhKS5hcygoeyByZXN0IH0pID0+IHJlc3QubGVuZ3RoID4gMCl9XG4gICAgICAgICAgICBjaGlsZD17PGxhYmVsIGxhYmVsPXsnKyd9IC8+fVxuICAgICAgICAgICAgcG9wb3Zlcj17V29ya3NwYWNlUG9wb3ZlcigpIGFzIEd0ay5Qb3BvdmVyfVxuICAgICAgICAvPlxuICAgICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdvcmtzcGFjZXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJXb3Jrc3BhY2VzXCJdfSBvbkRlc3Ryb3k9eygpID0+IHdvcmtzcGFjZURhdGEuZHJvcCgpfT5cbiAgICAgICAgICAgIDxNYWluV29ya3NwYWNlIHdvcmtzcGFjZT17VmFyaWFibGUuZGVyaXZlKFt3b3Jrc3BhY2VEYXRhXSwgKGRhdGEpID0+IGRhdGEuZmlyc3QpfSAvPlxuICAgICAgICAgICAgPE1haW5Xb3Jrc3BhY2Ugd29ya3NwYWNlPXtWYXJpYWJsZS5kZXJpdmUoW3dvcmtzcGFjZURhdGFdLCAoZGF0YSkgPT4gZGF0YS5zZWNvbmQpfSAvPlxuICAgICAgICAgICAgPE1haW5Xb3Jrc3BhY2Ugd29ya3NwYWNlPXtWYXJpYWJsZS5kZXJpdmUoW3dvcmtzcGFjZURhdGFdLCAoZGF0YSkgPT4gZGF0YS50aGlyZCl9IC8+XG4gICAgICAgICAgICA8TW9yZVdvcmtzcGFjZXNCdXR0b24gLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBiaW5kLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiO1xuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIjtcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIjtcblxuY29uc3QgaHlwcmxhbmQgPSBBc3RhbEh5cHJsYW5kLmdldF9kZWZhdWx0KCk7XG5jb25zdCBmb2N1c2VkQ2xpZW50ID0gYmluZChoeXBybGFuZCwgXCJmb2N1c2VkQ2xpZW50XCIpO1xuY29uc3QgY2xpZW50cyA9IGJpbmQoaHlwcmxhbmQsIFwiY2xpZW50c1wiKTtcblxuY29uc3QgY2xpZW50RGF0YSA9IFZhcmlhYmxlLmRlcml2ZShbY2xpZW50cywgZm9jdXNlZENsaWVudF0sIChhbGxDbGllbnRzLCBmb2N1c2VkKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBmb2N1c2VkID8gYWxsQ2xpZW50cy5maWx0ZXIoY2xpZW50ID0+IGNsaWVudC5hZGRyZXNzICE9PSBmb2N1c2VkLmFkZHJlc3MpIDogYWxsQ2xpZW50cztcbiAgICBjb25zdCB0aXRsZSA9IGZvY3VzZWQ/LnRpdGxlPy5yZXBsYWNlKC9eLi8sIGNoYXIgPT4gY2hhci50b1VwcGVyQ2FzZSgpKSA/PyBhbGxDbGllbnRzLmxlbmd0aC50b1N0cmluZygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmlsdGVyZWQsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBoYXNNdWx0aXBsZTogYWxsQ2xpZW50cy5sZW5ndGggPiAxXG4gICAgfTtcbn0pO1xuXG5jb25zdCBjbGllbnRDbGlja0hhbmRsZXJzID0gbmV3IFdlYWtNYXA8R3RrLldpZGdldCwgR3RrLkdlc3R1cmVDbGljaz4oKTtcblxuZnVuY3Rpb24gc2V0dXBDbGllbnRDbGljayh3aWRnZXQ6IEd0ay5XaWRnZXQsIGNsaWVudEFkZHJlc3M6IHN0cmluZykge1xuICAgIGlmICghY2xpZW50Q2xpY2tIYW5kbGVycy5oYXMod2lkZ2V0KSkge1xuICAgICAgICBjb25zdCBjbGljayA9IG5ldyBHdGsuR2VzdHVyZUNsaWNrKCk7XG4gICAgICAgIGNsaWNrLmNvbm5lY3QoXCJwcmVzc2VkXCIsICgpID0+IHtoeXBybGFuZC5kaXNwYXRjaChcImZvY3Vzd2luZG93XCIsIGBhZGRyZXNzOjB4JHtjbGllbnRBZGRyZXNzfWApfSk7XG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihjbGljayk7XG4gICAgICAgIGNsaWVudENsaWNrSGFuZGxlcnMuc2V0KHdpZGdldCwgY2xpY2spO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gQWN0aXZlQ2xpZW50KCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQ2xpZW50XCJdfSB3aWR0aENoYXJzPXsyNH0gbWF4V2lkdGhDaGFycz17MjF9IGVsbGlwc2l6ZT17M31cbiAgICAgICAgICAgIGxhYmVsPXtiaW5kKGNsaWVudERhdGEpLmFzKCh7IHRpdGxlIH0pID0+IHRpdGxlKX1cbiAgICAgICAgLz5cbiAgICApO1xufVxuXG5mdW5jdGlvbiBDbGllbnRFbnRyeShjbGllbnQ6IEFzdGFsSHlwcmxhbmQuQ2xpZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGxhYmVsIGNzc0NsYXNzZXM9e1tcIkNsaWVudEVudHJ5XCJdfSBzZXR1cD17KHNlbGYpID0+IHNldHVwQ2xpZW50Q2xpY2soc2VsZiwgY2xpZW50LmFkZHJlc3MpfSBtYXhXaWR0aENoYXJzPXsyMn0gZWxsaXBzaXplPXszfVxuICAgICAgICAgICAgbGFiZWw9e2NsaWVudC50aXRsZS5yZXBsYWNlKC9eLi8sIGNoYXIgPT4gY2hhci50b1VwcGVyQ2FzZSgpKX1cbiAgICAgICAgLz5cbiAgICApO1xufVxuXG5mdW5jdGlvbiBDbGllbnRzUG9wb3ZlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkNsaWVudHNQb3BvdmVyXCJdfSBvcmllbnRhdGlvbj17R3RrLk9yaWVudGF0aW9uLlZFUlRJQ0FMfT5cbiAgICAgICAgICAgIHtiaW5kKGNsaWVudERhdGEpLmFzKCh7IGZpbHRlcmVkIH0pID0+IGZpbHRlcmVkLm1hcChjbGllbnQgPT4gQ2xpZW50RW50cnkoY2xpZW50KSkpfVxuICAgICAgICA8L2JveD5cbiAgICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDbGllbnRzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxtZW51YnV0dG9uXG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJDbGllbnRzXCJdfVxuICAgICAgICAgICAgc2Vuc2l0aXZlPXtiaW5kKGNsaWVudERhdGEpLmFzKCh7IGhhc011bHRpcGxlIH0pID0+IGhhc011bHRpcGxlKX1cbiAgICAgICAgICAgIGNoaWxkPXtBY3RpdmVDbGllbnQoKX1cbiAgICAgICAgICAgIHBvcG92ZXI9ezxwb3BvdmVyIGNoaWxkPXtDbGllbnRzUG9wb3ZlcigpfSAvPiBhcyBHdGsuUG9wb3Zlcn1cbiAgICAgICAgICAgIG9uRGVzdHJveT17KCkgPT4ge2NsaWVudERhdGEuZHJvcCgpfX1cbiAgICAgICAgLz5cbiAgICApO1xufVxuIiwgImltcG9ydCB7IEFwcCwgQXN0YWwsIEd0aywgR2RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IFN5c3RlbU1vbml0b3IgZnJvbSBcIi4uL21vZHVsZXMvU3lzdGVtTW9uaXRvclwiO1xuaW1wb3J0IEF1ZGlvQ29udHJvbCBmcm9tIFwiLi4vbW9kdWxlcy9BdWRpb0NvbnRyb2xcIjtcbmltcG9ydCBTeXN0ZW1UcmF5IGZyb20gXCIuLi9tb2R1bGVzL1N5c3RlbVRyYXlcIjtcbmltcG9ydCB7IE1pbmlUaW1lIH0gZnJvbSBcIi4uL21vZHVsZXMvRGF0ZVRpbWVcIjtcbmltcG9ydCBNZWRpYSBmcm9tIFwiLi4vbW9kdWxlcy9NZWRpYVwiO1xuaW1wb3J0IFdvcmtzcGFjZXMgZnJvbSBcIi4uL21vZHVsZXMvV29ya3NwYWNlc1wiO1xuaW1wb3J0IENsaWVudHMgZnJvbSBcIi4uL21vZHVsZXMvQ2xpZW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXIoZ2RrbW9uaXRvcjogR2RrLk1vbml0b3IpIHtcbiAgICBjb25zdCB7IFRPUCwgTEVGVCwgUklHSFQgfSA9IEFzdGFsLldpbmRvd0FuY2hvclxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZXNwYWNlPSdBc3RhbEJhcidcbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhclwiXX1cbiAgICAgICAgICAgIHZpc2libGVcbiAgICAgICAgICAgIGdka21vbml0b3I9e2dka21vbml0b3J9XG4gICAgICAgICAgICBleGNsdXNpdml0eT17QXN0YWwuRXhjbHVzaXZpdHkuRVhDTFVTSVZFfVxuICAgICAgICAgICAgYW5jaG9yPXtUT1AgfCBSSUdIVCB8IExFRlR9XG4gICAgICAgICAgICBhcHBsaWNhdGlvbj17QXBwfVxuICAgICAgICAgICAgY2hpbGQ9e1xuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiQmFyXCJdfSBoYWxpZ249e0d0ay5BbGlnbi5GSUxMfSBob21vZ2VuZW91cz5cbiAgICAgICAgICAgICAgICAgICAgPGJveCBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U3lzdGVtVHJheSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgICAgICAgICAgPGJveCBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENsaWVudHMgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNZWRpYSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFdvcmtzcGFjZXMgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICAgICAgICAgIDxib3ggaGFsaWduPXtHdGsuQWxpZ24uRU5EfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNaW5pVGltZSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEF1ZGlvQ29udHJvbCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN5c3RlbU1vbml0b3IgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBBcHAsIEdkayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBzdHlsZSBmcm9tIFwiLi9zdHlsZXMvaW5kZXguc2Nzc1wiXG5pbXBvcnQgQmFyIGZyb20gXCIuL3dpZGdldC9CYXJcIlxuXG5mdW5jdGlvbiBzZXR1cE1vbml0b3JzKCkge1xuICAgIGNvbnN0IGFjdGl2ZU1vbml0b3JzOiBTZXQ8R2RrLk1vbml0b3I+ID0gbmV3IFNldCgpO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlTW9uaXRvcnMoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNb25pdG9ycyA9IEFwcC5nZXRfbW9uaXRvcnMoKTtcbiAgICAgICAgY29uc3QgY3VycmVudE1vbml0b3JJZHMgPSBuZXcgU2V0KGN1cnJlbnRNb25pdG9ycy5tYXAobSA9PiBtLmdldF9jb25uZWN0b3IoKSkpO1xuXG4gICAgICAgIGN1cnJlbnRNb25pdG9ycy5mb3JFYWNoKG1vbml0b3IgPT4ge1xuICAgICAgICAgICAgaWYgKCFhY3RpdmVNb25pdG9ycy5oYXMobW9uaXRvcikpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVNb25pdG9ycy5hZGQobW9uaXRvcik7XG4gICAgICAgICAgICAgICAgQmFyKG1vbml0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZW1vdmVkTW9uaXRvcnM6IEdkay5Nb25pdG9yW10gPSBbXTtcbiAgICAgICAgYWN0aXZlTW9uaXRvcnMuZm9yRWFjaChtb25pdG9yID0+IHtcbiAgICAgICAgICAgIGlmICghY3VycmVudE1vbml0b3JJZHMuaGFzKG1vbml0b3IuZ2V0X2Nvbm5lY3RvcigpKSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRNb25pdG9ycy5wdXNoKG1vbml0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZW1vdmVkTW9uaXRvcnMuZm9yRWFjaChtb25pdG9yID0+IHtcbiAgICAgICAgICAgIGFjdGl2ZU1vbml0b3JzLmRlbGV0ZShtb25pdG9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNb25pdG9yIHJlbW92aWRvOiAke21vbml0b3J9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZU1vbml0b3JzKCk7XG5cbiAgICBBcHAubm90aWZ5KFwibW9uaXRvcnNcIik7XG4gICAgQXBwLmNvbm5lY3QoXCJub3RpZnk6Om1vbml0b3JzXCIsICgpID0+IHVwZGF0ZU1vbml0b3JzKCkpO1xufVxuXG5BcHAuc3RhcnQoe1xuICAgIGNzczogc3R5bGUsXG4gICAgbWFpbigpIHtcbiAgICAgICAgc2V0dXBNb25pdG9ycygpO1xuICAgIH0sXG59KVxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUFBLE9BQU9BLFlBQVc7QUFDbEIsT0FBT0MsVUFBUztBQUNoQixPQUFPQyxVQUFTOzs7QUNGaEIsT0FBT0MsWUFBVzs7O0FDQVgsSUFBTSxXQUFXLENBQUMsUUFBZ0IsSUFDcEMsUUFBUSxtQkFBbUIsT0FBTyxFQUNsQyxXQUFXLEtBQUssR0FBRyxFQUNuQixZQUFZO0FBRVYsSUFBTSxXQUFXLENBQUMsUUFBZ0IsSUFDcEMsUUFBUSxtQkFBbUIsT0FBTyxFQUNsQyxXQUFXLEtBQUssR0FBRyxFQUNuQixZQUFZO0FBY1YsSUFBTSxVQUFOLE1BQU0sU0FBZTtBQUFBLEVBQ2hCLGNBQWMsQ0FBQyxNQUFXO0FBQUEsRUFFbEM7QUFBQSxFQUNBO0FBQUEsRUFTQSxPQUFPLEtBQUssU0FBcUMsTUFBZTtBQUM1RCxXQUFPLElBQUksU0FBUSxTQUFTLElBQUk7QUFBQSxFQUNwQztBQUFBLEVBRVEsWUFBWSxTQUE0QyxNQUFlO0FBQzNFLFNBQUssV0FBVztBQUNoQixTQUFLLFFBQVEsUUFBUSxTQUFTLElBQUk7QUFBQSxFQUN0QztBQUFBLEVBRUEsV0FBVztBQUNQLFdBQU8sV0FBVyxLQUFLLFFBQVEsR0FBRyxLQUFLLFFBQVEsTUFBTSxLQUFLLEtBQUssTUFBTSxFQUFFO0FBQUEsRUFDM0U7QUFBQSxFQUVBLEdBQU0sSUFBaUM7QUFDbkMsVUFBTUMsUUFBTyxJQUFJLFNBQVEsS0FBSyxVQUFVLEtBQUssS0FBSztBQUNsRCxJQUFBQSxNQUFLLGNBQWMsQ0FBQyxNQUFhLEdBQUcsS0FBSyxZQUFZLENBQUMsQ0FBQztBQUN2RCxXQUFPQTtBQUFBLEVBQ1g7QUFBQSxF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VztBQUMvQixVQUFJLENBQUMsZUFBZSxJQUFJLE9BQU8sR0FBRztBQUM5Qix1QkFBZSxJQUFJLE9BQU87QUFDMUIsWUFBSSxPQUFPO0FBQUEsTUFDZjtBQUFBLElBQ0osQ0FBQztBQUVELFVBQU0sa0JBQWlDLENBQUM7QUFDeEMsbUJBQWUsUUFBUSxhQUFXO0FBQzlCLFVBQUksQ0FBQyxrQkFBa0IsSUFBSSxRQUFRLGNBQWMsQ0FBQyxHQUFHO0FBQ2pELHdCQUFnQixLQUFLLE9BQU87QUFBQSxNQUNoQztBQUFBLElBQ0osQ0FBQztBQUVELG9CQUFnQixRQUFRLGFBQVc7QUFDL0IscUJBQWUsT0FBTyxPQUFPO0FBQzdCLGNBQVEsSUFBSSxxQkFBcUIsT0FBTyxFQUFFO0FBQUEsSUFDOUMsQ0FBQztBQUFBLEVBQ0w7QUFFQSxpQkFBZTtBQUVmLGNBQUksT0FBTyxVQUFVO0FBQ3JCLGNBQUksUUFBUSxvQkFBb0IsTUFBTSxlQUFlLENBQUM7QUFDMUQ7QUFFQSxZQUFJLE1BQU07QUFBQSxFQUNOLEtBQUs7QUFBQSxFQUNMLE9BQU87QUFDSCxrQkFBYztBQUFBLEVBQ2xCO0FBQ0osQ0FBQzsiLAogICJuYW1lcyI6IFsiQXN0YWwiLCAiR3RrIiwgIkdkayIsICJBc3RhbCIsICJiaW5kIiwgImludGVydmFsIiwgIkFzdGFsIiwgIkFzdGFsIiwgIkFzdGFsIiwgInYiLCAiaW50ZXJ2YWwiLCAiY3RvcnMiLCAiR3RrIiwgIkFzdGFsIiwgInNuYWtlaWZ5IiwgInBhdGNoIiwgIkNhdmEiLCAiV29ya3NwYWNlIiwgIk1wcmlzIiwgIlRyYXkiLCAiV3AiLCAiR3RrIiwgIkFzdGFsIiwgIkFzdGFsIiwgIkd0ayIsICJHdGsiLCAiQXN0YWwiLCAiY2giLCAiZGVmYXVsdCIsICJBc3RhbCIsICJHT2JqZWN0IiwgImRlZmF1bHQiLCAiR09iamVjdCIsICJqc3giLCAianN4IiwgIkd0ayIsICJHZGsiLCAiZGVmYXVsdCIsICJqc3giLCAiR3RrIiwgIkdkayIsICJqc3giLCAianN4IiwgIkdPYmplY3QiLCAiR3RrIiwgIkdPYmplY3QiLCAianN4IiwgImZvcm1hdFRpbWUiLCAiZGVmYXVsdCIsICJHT2JqZWN0IiwgImVycm9yIiwgIkd0ayIsICJHZGsiLCAianN4IiwgIkd0ayIsICJqc3giLCAiQXN0YWxIeXBybGFuZCIsICJoeXBybGFuZCIsICJBc3RhbEh5cHJsYW5kIiwgIkd0ayIsICJqc3giLCAiQXN0YWwiLCAianN4IiwgIkd0ayJdCn0K
